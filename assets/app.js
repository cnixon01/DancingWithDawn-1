angular.module("app",["ngRoute"]),angular.module("app").controller("ClassCtrl",["$scope","ClassSVC","$location",function(e,r,o){e.students=[],e.addClass=function(t,e,n,a,l){r.addClass(t,e,n,a,l).then(function(t){o.path("/admin-classes")})},r.getAllClasses().then(function(t){e.classes=t.data}),e.setClassToUpdate=function(t){e.currentAdmin.classToUpdate=t},e.updateClass=function(t){r.updateClass(t).then(function(t){o.path("/admin-classes")})},e.deleteClass=function(t){r.deleteClass(t).then(function(t){o.path("/admin-classes")})},r.getAllChildren().then(function(t){e.children=t.data}),e.addToClass=function(t,e){console.log("class "+t),console.log("students before put request "+t.children),t.children.includes(e)?console.log("child already added"):t.children.push(e),r.addToClass(t),console.log("students after put request "+t.children)},e.removeFromClass=function(t){e.items.splice(t,1)},e.removeAll=function(t){r.removeAll(t)}}]),angular.module("app").controller("AdminLoginCtrl",["$scope","AdminSvc","$location",function(s,i,c){s.login=function(t,e){s.loginError=!1,s.errorMessage="",i.login(t,e).then(function(t){if(401==t.status)return s.errorMessage=t.data,!(s.loginError=!0);s.$emit("login",t.data),c.path("/admin-account")})},s.register=function(t,e,n,a,l,r,o){if(n!=a)return s.registerError=!0,!(s.errorMessage="Error: Passwords must match");s.registerError=!1,i.register(t,e,n,l,r,o).then(function(t){s.$emit("login",t.data),c.path("/admin-account")})}}]),angular.module("app").service("AdminSvc",["$http",function(o){var s=this;s.getAdmin=function(){return o.get("/api/admin")},s.register=function(t,e,n,a,l,r){return o.post("/api/admin",{username:e,password:n,email:t,firstName:a,lastName:l,phone:r}).then(function(){return s.login(e,n)})},s.checkToken=function(t){return o.defaults.headers.common["X-Auth"]=window.sessionStorage.token,s.getAdmin()},s.login=function(t,e){return o.post("/api/admin-sessions",{username:t,password:e}).then(function(t){return window.sessionStorage.token=t.data,o.defaults.headers.common["X-Auth"]=t.data,s.getAdmin()},function(t){return t})},s.logout=function(){delete o.defaults.headers.common["X-Auth"],sessionStorage.clear()},s.update=function(t,e,n,a,l,r){return o.put("/api/admin/update",{id:t,username:e,firstName:n,lastName:a,email:l,phone:r})},s.updatePassword=function(t,e){return o.put("/api/admin/updatePassword",{id:t,password:e})},s.updateBio=function(t,e){return o.put("/api/admin/updateBio",{id:t,bio:e})},s.getAllUsers=function(){return o.get("/api/admin/getAllUsers")}}]),angular.module("app").controller("AdminCtrl",["$scope","AdminSvc","$location",function(n,t,e){n.init=function(){window.sessionStorage.token&&t.checkToken().then(function(t){n.currentAdmin=t.data})},n.$on("login",function(t,e){n.currentAdmin=e}),n.logout=function(){t.logout(),delete n.currentAdmin,e.path("/admin")}}]),angular.module("app").controller("AdminContentCtrl",["$scope","AdminContentSvc","$location",function(r,o,s){o.getAllHomepageElements().then(function(t){r.homepage_content=t.data}),o.getAllClassesElements().then(function(t){r.classes_content=t.data}),o.getAllClasses().then(function(t){r.classes=t.data}),o.getAllAboutElements().then(function(t){r.about_content=t.data}),o.getAllFaqElements().then(function(t){r.faq_content=t.data}),o.getAllFaqs().then(function(t){r.faq=t.data}),r.setFaqToUpdate=function(t){r.currentAdmin.faqToUpdate=t},r.updateFaq=function(t){o.updateFaq(t).then(function(t){s.path("/cm-faq")})},r.addFaq=function(t,e){if(r.inputError=!1,r.errorMessage="",!t||!e)return r.inputError=!0,void(r.errorMessage="All text fields must contain content");o.addFaq(t,e).then(function(t){s.path("/cm-faq")})},r.deleteFaq=function(t){o.deleteFaq(t).then(function(t){s.path("/cm-faq")})},r.addElement=function(t,e,n,a){r.inputError=!1,r.errorMessage="",o.addElement(t,e,n,a).then(function(t){s.path("/cm")})},r.setElementToUpdate=function(t){r.currentAdmin.elementToUpdate=t},r.updateElement=function(t){o.updateElement(t).then(function(t){s.path("/cm")})},r.addClass=function(t,e,n,a,l){if(console.log("addClass Called!"),r.inputError=!1,r.errorMessage="",!t||!l)return r.inputError=!0,void(r.errorMessage="All text fields must contain content");o.addClass(t,e,n,a,l).then(function(t){s.path("/cm-classes")})}}]),angular.module("app").service("AdminContentSvc",["$http",function(r){var t=this;t.getAllElements=function(){return r.get("/api/content/getAllElements")},t.getAllHomepageElements=function(){return r.get("/api/content/getAllHomepageElements")},t.getAllClassesElements=function(){return r.get("/api/content/getAllClassesElements")},t.getAllClasses=function(){return r.get("/api/content/getAllClasses")},t.getAllAboutElements=function(){return r.get("/api/content/getAllAboutElements")},t.getAllFaqElements=function(){return r.get("/api/content/getAllFaqElements")},t.addElement=function(t,e,n,a){return r.post("/api/content/addElement",{name:t,location:e,description:n,value:a})},t.updateElement=function(t){return r.put("/api/content/updateElement",t)},t.getAllFaqs=function(){return r.get("/api/content/getAllFaqs")},t.addFaq=function(t,e){return r.post("/api/content/addFaq",{question:t,answer:e})},t.updateFaq=function(t){return r.put("/api/content/updateFaq",t)},t.deleteFaq=function(t){return r.put("/api/content/deleteFaq",t)},t.addClass=function(t,e,n,a,l){return console.log("Service add class called!"),r.post("/api/content/addClass",{title:t,subtitle:e,icon:a,color:n,description:l})}}]),angular.module("app").controller("ApplicationCtrl",["$scope","UserSvc","$location","$http",function(n,t,e,a){n.init=function(){window.sessionStorage.token&&t.checkToken().then(function(t){n.currentUser=t.data})},n.$on("login",function(t,e){n.currentUser=e}),n.logout=function(){t.logout(),delete n.currentUser,e.path("/login")}}]),angular.module("app").controller("ChildCtrl",["$scope","UserSvc","$location",function(t,r,o){t.addChild=function(t,e,n,a,l){r.addChild(t,e,n,a,l).then(function(t){o.path("/user-account")})}}]),angular.module("app").service("ClassSVC",["$http",function(r){var t=this;t.addClass=function(t,e,n,a,l){return r.post("/api/classes/addClass",{title:t,description:e,time:n,days:a,album:l})},t.updateClass=function(t){return r.put("/api/classes/updateClass",t)},t.deleteClass=function(t){return r.put("/api/classes/deleteClass",t)},t.getAllClasses=function(){return r.get("/api/classes/getAllClasses")},t.getAllChildren=function(){return r.get("/api/classes/getAllChildren")},t.addToClass=function(t){return r.put("/api/classes/addToClass",t)},t.removeAll=function(t){return r.put("/api/classes/removeAll",t)}}]),angular.module("app").controller("ClientsCtrl",["$scope","AdminSvc",function(e,t){t.getAllUsers().then(function(t){e.clients=t.data})}]),angular.module("app").controller("ContentCtrl",["$scope","ContentSvc",function(n,t){t.getAllElements().then(function(t){angular.forEach(t.data,function(t,e){n[t.name]=t.value})}),t.getAllClasses().then(function(t){n.classes=t.data}),t.getAllFaqs().then(function(t){n.faq=t.data})}]),angular.module("app").service("ContentSvc",["$http",function(t){this.getAllElements=function(){return t.get("/api/content/getAllElements")},this.getAllClasses=function(){return t.get("/api/content/getAllClasses")},this.getAllFaqs=function(){return t.get("/api/content/getAllFaqs")}}]),angular.module("app").controller("LoginCtrl",["$scope","UserSvc","$location",function(a,l,r){a.login=function(t,e){a.loginError=!1,a.errorMessage="";var n=t.toLowerCase();l.login(n,e).then(function(t){if(401==t.status)return a.errorMessage=t.data,!(a.loginError=!0);a.$emit("login",t.data),r.path("/user-account")})}}]),angular.module("app").controller("RegisterCtrl",["$scope","UserSvc","$location",function(d,m,p){d.register=function(t,e,n,a,l,r,o,s,i,c){if(e!=n)return d.registerError=!0,!(d.errorMessage="Error: Passwords must match");d.registerError=!1;var u=t.toLowerCase();m.register(u,e,a,l,r,o,s,i,c).then(function(t){d.$emit("login",t.data),p.path("/user-account")})}}]),angular.module("app").controller("ResetCtrl",["$scope","UserSvc","$location",function(a,l,t){a.resetPassword=function(e){a.invalidEmail=!1,a.passwordReset=!1,a.InvalidEmailMessage="";var t=e.toLowerCase(),n=Math.random().toString(36).slice(-10);l.resetPassword(t,n).then(function(t){if(401==t.status)return console.log("applying invalid email"),a.invalidEmail=t.data,!(a.invalidEmail=!0);a.passwordReset=!0,l.email(e,n)})}}]),angular.module("app").config(["$routeProvider","$locationProvider",function(t,e){t.when("/",{controller:"ContentCtrl",templateUrl:"index.html"}).when("/classes",{controller:"ContentCtrl",templateUrl:"classes.html"}).when("/about",{controller:"ContentCtrl",templateUrl:"about.html"}).when("/faq",{controller:"ContentCtrl",templateUrl:"faq.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"login.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"registration.html"}).when("/reset-password",{controller:"ResetCtrl",templateUrl:"reset-password.html"}).when("/user-account",{controller:"UserCtrl",templateUrl:"user/user-account.html"}).when("/update-user-account",{controller:"UpdateCtrl",templateUrl:"user/update-user-account.html"}).when("/update-user-password",{controller:"UpdateCtrl",templateUrl:"user/update-user-password.html"}).when("/add-child",{controller:"ChildCtrl",templateUrl:"user/add-child.html"}).when("/update-child",{controller:"UserCtrl",templateUrl:"user/update-child.html"}).when("/user-classes",{templateUrl:"user/user-classes.html"}).when("/user-photos",{templateUrl:"user/user-photos.html"}).when("/user-payments",{templateUrl:"user/user-payments.html"}).when("/user-forms",{templateUrl:"user/user-forms.html"}).when("/admin",{controller:"AdminLoginCtrl",templateUrl:"admin/admin-login.html"}).when("/admin-register",{controller:"AdminLoginCtrl",templateUrl:"admin/registration.html"}).when("/admin-account",{templateUrl:"admin/admin-account.html"}).when("/update-admin-account",{controller:"UpdateAdminCtrl",templateUrl:"admin/update-admin-account.html"}).when("/update-admin-password",{controller:"UpdateAdminCtrl",templateUrl:"admin/update-admin-password.html"}).when("/update-admin-bio",{controller:"UpdateAdminCtrl",templateUrl:"admin/update-admin-bio.html"}).when("/admin-classes",{controller:"ClassCtrl",templateUrl:"admin/admin-classes.html"}).when("/admin-add-class",{controller:"ClassCtrl",templateUrl:"admin/admin-add-class.html"}).when("/admin-update-class",{controller:"ClassCtrl",templateUrl:"admin/admin-update-class.html"}).when("/admin-clients",{controller:"ClientsCtrl",templateUrl:"admin/admin-clients.html"}).when("/admin-photos",{templateUrl:"admin/admin-photos.html"}).when("/admin-payments",{templateUrl:"admin/admin-payments.html"}).when("/admin-forms",{templateUrl:"admin/admin-forms.html"}).when("/cm",{controller:"AdminContentCtrl",templateUrl:"cm/cm.html"}).when("/cm-element-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-element-add.html"}).when("/cm-element-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-element-edit.html"}).when("/cm-homepage",{controller:"AdminContentCtrl",templateUrl:"cm/cm-homepage.html"}).when("/cm-classes",{controller:"AdminContentCtrl",templateUrl:"cm/cm-classes.html"}).when("/cm-about",{controller:"AdminContentCtrl",templateUrl:"cm/cm-about.html"}).when("/cm-class-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-class-add.html"}).when("/cm-class-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-class-edit.html"}).when("/cm-faq",{controller:"AdminContentCtrl",templateUrl:"cm/cm-faq.html"}).when("/cm-faq-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-faq-add.html"}).when("/cm-faq-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-faq-edit.html"}),e.html5Mode(!0)}]),angular.module("app").controller("UpdateAdminCtrl",["$scope","AdminSvc","$location",function(a,o,s){a.update=function(t,e,n,a,l,r){o.update(t,e,n,a,l,r).then(function(t){s.path("/admin-account")})},a.updatePassword=function(t,e,n){if(e!=n)return!(a.passwordsMatch=!0);a.passwordsMatch=!1,o.updatePassword(t,e).then(function(t){s.path("/admin-account")})},a.updateBio=function(t,e){o.updateBio(t,e).then(function(t){s.path("/admin-account")})}}]),angular.module("app").controller("UpdateCtrl",["$scope","UserSvc","$location",function(u,d,m){u.update=function(t,e,n,a,l,r,o,s,i){var c=e.toLowerCase();d.update(t,c,n,a,l,r,o,s,i).then(function(t){u.currentUser.email=c,m.path("/user-account")})},u.updatePassword=function(t,e,n){if(e!=n)return!(u.passwordsMatch=!0);u.passwordsMatch=!1,d.updatePassword(t,e).then(function(t){m.path("/user-account")})}}]),angular.module("app").controller("UserCtrl",["$scope","UserSvc","$location",function(e,n,a){n.getAllChildren().then(function(t){e.children=t.data}),e.setChildToUpdate=function(t){e.currentUser.childToUpdate=t},e.updateChild=function(t){n.updateChild(t).then(function(t){a.path("/user-account")})},e.deleteChild=function(t){n.deleteChild(t).then(function(t){a.path("/user-account")})}}]),angular.module("app").service("UserSvc",["$http",function(c){var u=this;u.getUser=function(){return c.get("/api/users")},u.register=function(t,e,n,a,l,r,o,s,i){return c.post("/api/users",{email:t,password:e,firstName:n,lastName:a,streetAddress:l,city:r,state:o,zip:s,phone:i}).then(function(){return u.login(t,e)})},u.checkToken=function(){return c.defaults.headers.common["X-Auth"]=window.sessionStorage.token,u.getUser()},u.login=function(t,e){return c.post("/api/sessions",{email:t,password:e}).then(function(t){return window.sessionStorage.token=t.data,c.defaults.headers.common["X-Auth"]=t.data,u.getUser()},function(t){return t})},u.logout=function(){delete c.defaults.headers.common["X-Auth"],sessionStorage.clear()},u.update=function(t,e,n,a,l,r,o,s,i){return c.put("/api/users/update",{id:t,email:e,firstName:n,lastName:a,streetAddress:l,city:r,state:o,zip:s,phone:i})},u.updatePassword=function(t,e){return c.put("/api/users/updatePassword",{id:t,password:e})},u.resetPassword=function(t,e){return c.put("/api/users/resetPassword",{email:t,newPassword:e})},u.updateChild=function(t){return c.put("/api/users/updateChild",t)},u.deleteChild=function(t){return c.put("/api/users/deleteChild",t)},u.addChild=function(t,e,n,a,l){return c.post("/api/users/addChild",{adultId:t,firstName:e,lastName:n,dob:a,notes:l})},u.getAllChildren=function(){return c.get("/api/users/getAllChildren")},u.email=function(t,e){return c.post("/api/users/sendEmail",{email:t,newPassword:e})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFkbWluLmNsYXNzLmN0cmwuanMiLCJhZG1pbi5sb2dpbi5jdHJsLmpzIiwiYWRtaW4uc3ZjLmpzIiwiYWRtaW5hcHAuY3RybC5qcyIsImFkbWluQ29udGVudC5jdHJsLmpzIiwiYWRtaW5Db250ZW50LnN2Yy5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJjaGlsZC5jdHJsLmpzIiwiY2xhc3Muc3ZjLmpzIiwiY2xpZW50cy5jdHJsLmpzIiwiY29udGVudC5jdHJsLmpzIiwiY29udGVudC5zdmMuanMiLCJsb2dpbi5jdHJsLmpzIiwicmVnaXN0ZXIuY3RybC5qcyIsInJlc2V0LmN0cmwuanMiLCJyb3V0ZXMuanMiLCJ1cGRhdGUuYWRtaW4uY3RybC5qcyIsInVwZGF0ZS5jdHJsLmpzIiwidXNlci5jdHJsLmpzIiwidXNlci5zdmMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJDbGFzc1NWQyIsIiRsb2NhdGlvbiIsInN0dWRlbnRzIiwiYWRkQ2xhc3MiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidGltZSIsImRheXMiLCJhbGJ1bSIsInRoZW4iLCJyZXNwb25zZSIsInBhdGgiLCJnZXRBbGxDbGFzc2VzIiwicmVzIiwiY2xhc3NlcyIsImRhdGEiLCJzZXRDbGFzc1RvVXBkYXRlIiwiY2xhc3NfIiwiY3VycmVudEFkbWluIiwiY2xhc3NUb1VwZGF0ZSIsInVwZGF0ZUNsYXNzIiwiZGVsZXRlQ2xhc3MiLCJnZXRBbGxDaGlsZHJlbiIsImNoaWxkcmVuIiwiYWRkVG9DbGFzcyIsImNoaWxkIiwiY29uc29sZSIsImxvZyIsImluY2x1ZGVzIiwicHVzaCIsInJlbW92ZUZyb21DbGFzcyIsImluZGV4IiwiaXRlbXMiLCJzcGxpY2UiLCJyZW1vdmVBbGwiLCJBZG1pblN2YyIsImxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImxvZ2luRXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJzdGF0dXMiLCIkZW1pdCIsInJlZ2lzdGVyIiwiZW1haWwiLCJjaGVja3Bhc3MiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInBob25lIiwicmVnaXN0ZXJFcnJvciIsInNlcnZpY2UiLCIkaHR0cCIsInN2YyIsInRoaXMiLCJnZXRBZG1pbiIsImdldCIsInBvc3QiLCJjaGVja1Rva2VuIiwidG9rZW4iLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJjb21tb24iLCJ3aW5kb3ciLCJzZXNzaW9uU3RvcmFnZSIsInZhbCIsImVyciIsImxvZ291dCIsImNsZWFyIiwidXBkYXRlIiwiaWQiLCJwdXQiLCJ1cGRhdGVQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwidXBkYXRlQmlvIiwiYmlvIiwiZ2V0QWxsVXNlcnMiLCJpbml0IiwiJG9uIiwiXyIsImFkbWluIiwiQWRtaW5Db250ZW50U3ZjIiwiZ2V0QWxsSG9tZXBhZ2VFbGVtZW50cyIsImVsZW1zIiwiaG9tZXBhZ2VfY29udGVudCIsImdldEFsbENsYXNzZXNFbGVtZW50cyIsImNsYXNzZXNfY29udGVudCIsImdldEFsbEFib3V0RWxlbWVudHMiLCJhYm91dF9jb250ZW50IiwiZ2V0QWxsRmFxRWxlbWVudHMiLCJmYXFfY29udGVudCIsImdldEFsbEZhcXMiLCJmYXEiLCJzZXRGYXFUb1VwZGF0ZSIsImZhcVRvVXBkYXRlIiwidXBkYXRlRmFxIiwiYWRkRmFxIiwicXVlc3Rpb24iLCJhbnN3ZXIiLCJpbnB1dEVycm9yIiwiZGVsZXRlRmFxIiwiYWRkRWxlbWVudCIsIm5hbWUiLCJsb2NhdGlvbiIsImRlc2MiLCJ2YWx1ZSIsInNldEVsZW1lbnRUb1VwZGF0ZSIsImVsZW1lbnQiLCJlbGVtZW50VG9VcGRhdGUiLCJ1cGRhdGVFbGVtZW50Iiwic3VidGl0bGUiLCJjb2xvciIsImljb24iLCJnZXRBbGxFbGVtZW50cyIsIlVzZXJTdmMiLCJjdXJyZW50VXNlciIsInVzZXIiLCJhZGRDaGlsZCIsImFkdWx0SWQiLCJkb2IiLCJub3RlcyIsImNsaWVudHMiLCJDb250ZW50U3ZjIiwiZm9yRWFjaCIsIm1vZGlmaWVkRW1haWwiLCJ0b0xvd2VyQ2FzZSIsInN0cmVldEFkZHJlc3MiLCJjaXR5Iiwic3RhdGUiLCJ6aXAiLCJyZXNldFBhc3N3b3JkIiwiaW52YWxpZEVtYWlsIiwicGFzc3dvcmRSZXNldCIsIkludmFsaWRFbWFpbE1lc3NhZ2UiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzbGljZSIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJodG1sNU1vZGUiLCJjaGVja1Bhc3N3b3JkIiwicGFzc3dvcmRzTWF0Y2giLCJzZXRDaGlsZFRvVXBkYXRlIiwiY2hpbGRUb1VwZGF0ZSIsInVwZGF0ZUNoaWxkIiwiZGVsZXRlQ2hpbGQiLCJnZXRVc2VyIl0sIm1hcHBpbmdzIjoiQUFBQUEsUUFBQUMsT0FBQSxNQUFBLENBQ0EsWUNEQUQsUUFBQUMsT0FBQSxPQUNBQyxXQUFBLFlBQUEsQ0FBQSxTQUFBLFdBQUEsWUFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUVBRixFQUFBRyxTQUFBLEdBRUFILEVBQUFJLFNBQUEsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQVIsRUFBQUcsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQUMsS0FBQSxTQUFBQyxHQUNBVCxFQUFBVSxLQUFBLHFCQUlBWCxFQUFBWSxnQkFBQUgsS0FBQSxTQUFBSSxHQUNBZCxFQUFBZSxRQUFBRCxFQUFBRSxPQUdBaEIsRUFBQWlCLGlCQUFBLFNBQUFDLEdBQ0FsQixFQUFBbUIsYUFBQUMsY0FBQUYsR0FHQWxCLEVBQUFxQixZQUFBLFNBQUFILEdBQ0FqQixFQUFBb0IsWUFBQUgsR0FDQVIsS0FBQSxTQUFBQyxHQUNBVCxFQUFBVSxLQUFBLHFCQUlBWixFQUFBc0IsWUFBQSxTQUFBSixHQUNBakIsRUFBQXFCLFlBQUFKLEdBQ0FSLEtBQUEsU0FBQUMsR0FDQVQsRUFBQVUsS0FBQSxxQkFJQVgsRUFBQXNCLGlC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LFlBQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXHJcblx0J25nUm91dGUnXHJcbl0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQ2xhc3NDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBDbGFzc1NWQywgJGxvY2F0aW9uKSB7XHJcblxyXG4gICAgICAgICRzY29wZS5zdHVkZW50cyA9IFtdO1xyXG5cclxuICAgICAgICAkc2NvcGUuYWRkQ2xhc3MgPSBmdW5jdGlvbiAodGl0bGUsIGRlc2NyaXB0aW9uLCB0aW1lLCBkYXlzLCBhbGJ1bSkge1xyXG4gICAgICAgICAgICBDbGFzc1NWQy5hZGRDbGFzcyh0aXRsZSwgZGVzY3JpcHRpb24sIHRpbWUsIGRheXMsIGFsYnVtKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9hZG1pbi1jbGFzc2VzJylcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBDbGFzc1NWQy5nZXRBbGxDbGFzc2VzKCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmNsYXNzZXMgPSByZXMuZGF0YVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgICRzY29wZS5zZXRDbGFzc1RvVXBkYXRlID0gZnVuY3Rpb24oY2xhc3NfKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50QWRtaW4uY2xhc3NUb1VwZGF0ZSA9IGNsYXNzX1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLnVwZGF0ZUNsYXNzID0gZnVuY3Rpb24oY2xhc3NfKSB7XHJcbiAgICAgICAgICAgIENsYXNzU1ZDLnVwZGF0ZUNsYXNzKGNsYXNzXylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYWRtaW4tY2xhc3NlcycpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLmRlbGV0ZUNsYXNzID0gZnVuY3Rpb24oY2xhc3NfKSB7XHJcbiAgICAgICAgICAgIENsYXNzU1ZDLmRlbGV0ZUNsYXNzKGNsYXNzXylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYWRtaW4tY2xhc3NlcycpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQ2xhc3NTVkMuZ2V0QWxsQ2hpbGRyZW4oKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hpbGRyZW4gPSByZXMuZGF0YVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8vIENsYXNzU1ZDLmdldEFsbFN0dWRlbnRzKCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAvLyAgICAgJHNjb3BlLnN0dWRlbnRzID0gcmVzLmRhdGFcclxuICAgICAgICAvLyB9KVxyXG5cclxuICAgICAgICAvLyAkc2NvcGUuc2V0Q2xhc3NUb01vZGlmeVJvc3RlciA9IGZ1bmN0aW9uKGNsYXNzUm9zdGVyKSB7XHJcbiAgICAgICAgLy8gICAgICRzY29wZS5jdXJyZW50QWRtaW4uY2xhc3NUb01vZGlmeVJvc3RlciA9IGNsYXNzUm9zdGVyXHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgJHNjb3BlLmFkZFRvQ2xhc3MgPSBmdW5jdGlvbihjbGFzc18sIGNoaWxkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2xhc3MgXCIgKyBjbGFzc18pXHJcbiAgICAgICAgICAgIC8vICRzY29wZS5lbnJvbGxtZW50LnB1c2goY2hpbGQpXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZW5yb2xsbWVudCBcIiArICRzY29wZS5lbnJvbGxtZW50KVxyXG4gICAgICAgICAgICAvLyBjbGFzc18uY2hpbGRyZW4gPSAkc2NvcGUuZW5yb2xsbWVudFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0dWRlbnRzIGJlZm9yZSBwdXQgcmVxdWVzdCBcIiArIGNsYXNzXy5jaGlsZHJlbilcclxuICAgICAgICAgICAgdmFyIGR1cGVDaGlsZCA9IGNsYXNzXy5jaGlsZHJlbi5pbmNsdWRlcyhjaGlsZCk7XHJcbiAgICAgICAgICAgIGlmICghZHVwZUNoaWxkKXtcclxuICAgICAgICAgICAgICAgIGNsYXNzXy5jaGlsZHJlbi5wdXNoKGNoaWxkKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjaGlsZCBhbHJlYWR5IGFkZGVkXCIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQ2xhc3NTVkMuYWRkVG9DbGFzcyhjbGFzc18pXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3R1ZGVudHMgYWZ0ZXIgcHV0IHJlcXVlc3QgXCIgKyBjbGFzc18uY2hpbGRyZW4pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUucmVtb3ZlRnJvbUNsYXNzID0gZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgICAgICAgJHNjb3BlLml0ZW1zLnNwbGljZShpbmRleCwgMSlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUucmVtb3ZlQWxsID0gZnVuY3Rpb24oY2xhc3NfKSB7XHJcbiAgICAgICAgICAgIENsYXNzU1ZDLnJlbW92ZUFsbChjbGFzc18pO1xyXG4gICAgICAgIH1cclxuICAgIH0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdBZG1pbkxvZ2luQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgQWRtaW5TdmMsICRsb2NhdGlvbikge1xyXG5cclxuXHQkc2NvcGUubG9naW4gPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XHJcblx0XHQkc2NvcGUubG9naW5FcnJvciA9IGZhbHNlXHJcblx0XHQkc2NvcGUuZXJyb3JNZXNzYWdlID0gJydcclxuXHJcblx0XHRBZG1pblN2Yy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcblx0XHRcdGlmKHJlcy5zdGF0dXMgPT0gNDAxKSB7XHJcblx0XHRcdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9IHJlcy5kYXRhXHJcblx0XHRcdFx0JHNjb3BlLmxvZ2luRXJyb3IgPSB0cnVlXHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JHNjb3BlLiRlbWl0KCdsb2dpbicsIHJlcy5kYXRhKVxyXG5cdFx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvYWRtaW4tYWNjb3VudCcpXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoZW1haWwsIHVzZXJuYW1lLCBwYXNzd29yZCwgY2hlY2twYXNzLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBwaG9uZSkge1xyXG5cdFx0aWYgKHBhc3N3b3JkICE9IGNoZWNrcGFzcykge1xyXG5cdFx0XHQkc2NvcGUucmVnaXN0ZXJFcnJvciA9IHRydWVcclxuXHRcdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICdFcnJvcjogUGFzc3dvcmRzIG11c3QgbWF0Y2gnXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0fVxyXG5cclxuXHRcdCRzY29wZS5yZWdpc3RlckVycm9yID0gZmFsc2VcclxuXHJcblx0XHRBZG1pblN2Yy5yZWdpc3RlcihlbWFpbCwgdXNlcm5hbWUsIHBhc3N3b3JkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBwaG9uZSlcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHQkc2NvcGUuJGVtaXQoJ2xvZ2luJywgcmVzcG9uc2UuZGF0YSlcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9hZG1pbi1hY2NvdW50JylcclxuXHRcdH0pXHJcblx0fVxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uc2VydmljZSgnQWRtaW5TdmMnLCBmdW5jdGlvbiAoJGh0dHApIHtcclxuXHR2YXIgc3ZjID0gdGhpc1xyXG5cclxuXHRzdmMuZ2V0QWRtaW4gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2FkbWluJylcclxuXHR9XHJcblxyXG5cdHN2Yy5yZWdpc3RlciA9IGZ1bmN0aW9uIChlbWFpbCwgdXNlcm5hbWUsIHBhc3N3b3JkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBwaG9uZSkge1xyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvYWRtaW4nLCB7XHJcblx0XHRcdHVzZXJuYW1lOiB1c2VybmFtZSxcclxuXHRcdFx0cGFzc3dvcmQ6IHBhc3N3b3JkLFxyXG5cdFx0XHRlbWFpbDogZW1haWwsXHJcblx0XHRcdGZpcnN0TmFtZTogZmlyc3ROYW1lLFxyXG5cdFx0XHRsYXN0TmFtZTogbGFzdE5hbWUsXHJcblx0XHRcdHBob25lOiBwaG9uZVxyXG5cdFx0fSkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBzdmMubG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy5jaGVja1Rva2VuID0gZnVuY3Rpb24odG9rZW4pIHtcclxuXHRcdCRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS50b2tlblxyXG5cdFx0cmV0dXJuIHN2Yy5nZXRBZG1pbigpXHJcblx0fVxyXG5cclxuXHRzdmMubG9naW4gPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9hZG1pbi1zZXNzaW9ucycsIHtcclxuXHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lLCBwYXNzd29yZDogcGFzc3dvcmRcclxuXHRcdH0pXHJcblx0XHQudGhlbihmdW5jdGlvbiAodmFsKSB7XHJcblx0XHRcdHdpbmRvdy5zZXNzaW9uU3RvcmFnZS50b2tlbiA9IHZhbC5kYXRhXHJcblx0XHRcdCRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9IHZhbC5kYXRhXHJcblx0XHRcdHJldHVybiBzdmMuZ2V0QWRtaW4oKVxyXG5cdFx0fSwgZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdHJldHVybiBlcnJcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMubG9nb3V0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRkZWxldGUgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddXHJcblx0XHRzZXNzaW9uU3RvcmFnZS5jbGVhcigpO1xyXG5cdH1cclxuXHJcblx0c3ZjLnVwZGF0ZSA9IGZ1bmN0aW9uIChpZCwgdXNlcm5hbWUsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwaG9uZSkge1xyXG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9hZG1pbi91cGRhdGUnLCB7XHJcblx0XHRcdGlkOiBpZCxcclxuXHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lLFxyXG5cdFx0XHRmaXJzdE5hbWU6IGZpcnN0TmFtZSxcclxuXHRcdFx0bGFzdE5hbWU6IGxhc3ROYW1lLFxyXG5cdFx0XHRlbWFpbDogZW1haWwsXHJcblx0XHRcdHBob25lOiBwaG9uZVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy51cGRhdGVQYXNzd29yZCA9IGZ1bmN0aW9uIChpZCwgbmV3UGFzc3dvcmQpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYWRtaW4vdXBkYXRlUGFzc3dvcmQnLCB7XHJcblx0XHRcdGlkOiBpZCxcclxuXHRcdFx0cGFzc3dvcmQ6IG5ld1Bhc3N3b3JkXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLnVwZGF0ZUJpbyA9IGZ1bmN0aW9uIChpZCwgYmlvKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2FkbWluL3VwZGF0ZUJpbycsIHtcclxuXHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHRiaW86IGJpb1xyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxVc2VycyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYWRtaW4vZ2V0QWxsVXNlcnMnKVxyXG5cdH1cclxuXHJcblx0Ly8gc3ZjLmdldEFsbENoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xyXG5cdC8vIFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9hZG1pbi9nZXRBbGxDaGlsZHJlbicpXHJcblx0Ly8gfVxyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0FkbWluQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsIEFkbWluU3ZjLCAkbG9jYXRpb24pIHtcclxuXHQkc2NvcGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS50b2tlbikge1xyXG5cdFx0XHRBZG1pblN2Yy5jaGVja1Rva2VuKClcclxuXHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0JHNjb3BlLmN1cnJlbnRBZG1pbiA9IHJlcy5kYXRhXHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQkc2NvcGUuJG9uKCdsb2dpbicsIGZ1bmN0aW9uKF8sIGFkbWluKSB7XHJcblx0XHQkc2NvcGUuY3VycmVudEFkbWluID0gYWRtaW5cclxuXHR9KVxyXG5cclxuXHQkc2NvcGUubG9nb3V0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRBZG1pblN2Yy5sb2dvdXQoKVxyXG5cdFx0ZGVsZXRlICRzY29wZS5jdXJyZW50QWRtaW5cclxuXHRcdCRsb2NhdGlvbi5wYXRoKCcvYWRtaW4nKVxyXG5cdH1cclxuXHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdBZG1pbkNvbnRlbnRDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBBZG1pbkNvbnRlbnRTdmMsICRsb2NhdGlvbikge1xyXG5cclxuXHJcblx0QWRtaW5Db250ZW50U3ZjLmdldEFsbEhvbWVwYWdlRWxlbWVudHMoKS50aGVuKGZ1bmN0aW9uKGVsZW1zKSB7XHJcblx0XHQkc2NvcGUuaG9tZXBhZ2VfY29udGVudCA9IGVsZW1zLmRhdGFcclxuXHR9KVxyXG5cclxuXHRBZG1pbkNvbnRlbnRTdmMuZ2V0QWxsQ2xhc3Nlc0VsZW1lbnRzKCkudGhlbihmdW5jdGlvbihlbGVtcykge1xyXG5cdFx0JHNjb3BlLmNsYXNzZXNfY29udGVudCA9IGVsZW1zLmRhdGFcclxuXHR9KVxyXG5cclxuXHRBZG1pbkNvbnRlbnRTdmMuZ2V0QWxsQ2xhc3NlcygpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHQkc2NvcGUuY2xhc3NlcyA9IHJlcy5kYXRhXHJcblx0fSlcclxuXHJcblx0QWRtaW5Db250ZW50U3ZjLmdldEFsbEFib3V0RWxlbWVudHMoKS50aGVuKGZ1bmN0aW9uKGVsZW1zKSB7XHJcblx0XHQkc2NvcGUuYWJvdXRfY29udGVudCA9IGVsZW1zLmRhdGFcclxuXHR9KVxyXG5cclxuXHRBZG1pbkNvbnRlbnRTdmMuZ2V0QWxsRmFxRWxlbWVudHMoKS50aGVuKGZ1bmN0aW9uKGVsZW1zKSB7XHJcblx0XHQkc2NvcGUuZmFxX2NvbnRlbnQgPSBlbGVtcy5kYXRhXHJcblx0fSlcclxuXHJcblx0QWRtaW5Db250ZW50U3ZjLmdldEFsbEZhcXMoKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0JHNjb3BlLmZhcSA9IHJlcy5kYXRhXHJcblx0fSlcclxuXHJcblx0JHNjb3BlLnNldEZhcVRvVXBkYXRlID0gZnVuY3Rpb24oZmFxKSB7XHJcblx0XHQkc2NvcGUuY3VycmVudEFkbWluLmZhcVRvVXBkYXRlID0gZmFxXHJcblx0fVxyXG5cclxuXHQkc2NvcGUudXBkYXRlRmFxID0gZnVuY3Rpb24oZmFxKSB7XHJcblxyXG5cdFx0QWRtaW5Db250ZW50U3ZjLnVwZGF0ZUZhcShmYXEpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9jbS1mYXEnKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5hZGRGYXEgPSBmdW5jdGlvbiAocXVlc3Rpb24sIGFuc3dlcikge1xyXG5cdFx0JHNjb3BlLmlucHV0RXJyb3IgPSBmYWxzZVxyXG5cdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICcnXHJcblxyXG5cdFx0aWYoIXF1ZXN0aW9uIHx8ICFhbnN3ZXIpIHtcclxuXHRcdFx0JHNjb3BlLmlucHV0RXJyb3IgPSB0cnVlXHJcblx0XHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnQWxsIHRleHQgZmllbGRzIG11c3QgY29udGFpbiBjb250ZW50J1xyXG5cdFx0XHRyZXR1cm5cclxuXHRcdH1cclxuXHJcblx0XHRBZG1pbkNvbnRlbnRTdmMuYWRkRmFxKHF1ZXN0aW9uLCBhbnN3ZXIpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9jbS1mYXEnKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5kZWxldGVGYXEgPSBmdW5jdGlvbihmYXEpIHtcclxuXHRcdEFkbWluQ29udGVudFN2Yy5kZWxldGVGYXEoZmFxKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY20tZmFxJylcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQkc2NvcGUuYWRkRWxlbWVudCA9IGZ1bmN0aW9uIChuYW1lLCBsb2NhdGlvbiwgZGVzYywgdmFsdWUpIHtcclxuXHRcdCRzY29wZS5pbnB1dEVycm9yID0gZmFsc2VcclxuXHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnJ1xyXG5cclxuXHRcdEFkbWluQ29udGVudFN2Yy5hZGRFbGVtZW50KG5hbWUsIGxvY2F0aW9uLCBkZXNjLCB2YWx1ZSlcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NtJylcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQkc2NvcGUuc2V0RWxlbWVudFRvVXBkYXRlID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG5cdFx0JHNjb3BlLmN1cnJlbnRBZG1pbi5lbGVtZW50VG9VcGRhdGUgPSBlbGVtZW50XHJcblx0fVxyXG5cclxuXHQkc2NvcGUudXBkYXRlRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuXHRcdEFkbWluQ29udGVudFN2Yy51cGRhdGVFbGVtZW50KGVsZW1lbnQpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9jbScpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLmFkZENsYXNzID0gZnVuY3Rpb24gKHRpdGxlLCBzdWJ0aXRsZSwgY29sb3IsIGljb24sIGRlc2MpIHtcclxuXHRcdGNvbnNvbGUubG9nKCdhZGRDbGFzcyBDYWxsZWQhJylcclxuXHRcdCRzY29wZS5pbnB1dEVycm9yID0gZmFsc2VcclxuXHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnJ1xyXG5cclxuXHRcdGlmKCF0aXRsZSB8fCAhZGVzYykge1xyXG5cdFx0XHQkc2NvcGUuaW5wdXRFcnJvciA9IHRydWVcclxuXHRcdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICdBbGwgdGV4dCBmaWVsZHMgbXVzdCBjb250YWluIGNvbnRlbnQnXHJcblx0XHRcdHJldHVyblxyXG5cdFx0fVxyXG5cclxuXHRcdEFkbWluQ29udGVudFN2Yy5hZGRDbGFzcyh0aXRsZSwgc3VidGl0bGUsIGNvbG9yLCBpY29uLCBkZXNjKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY20tY2xhc3NlcycpXHJcblx0XHR9KVxyXG5cdH1cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLnNlcnZpY2UoJ0FkbWluQ29udGVudFN2YycsIGZ1bmN0aW9uICgkaHR0cCkge1xyXG5cdHZhciBzdmMgPSB0aGlzXHJcblxyXG5cdHN2Yy5nZXRBbGxFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29udGVudC9nZXRBbGxFbGVtZW50cycpXHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0QWxsSG9tZXBhZ2VFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29udGVudC9nZXRBbGxIb21lcGFnZUVsZW1lbnRzJylcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxDbGFzc2VzRWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsQ2xhc3Nlc0VsZW1lbnRzJylcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxDbGFzc2VzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbENsYXNzZXMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmdldEFsbEFib3V0RWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsQWJvdXRFbGVtZW50cycpXHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0QWxsRmFxRWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsRmFxRWxlbWVudHMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmFkZEVsZW1lbnQgPSBmdW5jdGlvbiAobmFtZSwgbG9jYXRpb24sIGRlc2MsIHZhbHVlKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jb250ZW50L2FkZEVsZW1lbnQnLCB7XHJcblx0XHRcdG5hbWU6IG5hbWUsXHJcblx0XHRcdGxvY2F0aW9uOiBsb2NhdGlvbixcclxuXHRcdFx0ZGVzY3JpcHRpb246IGRlc2MsXHJcblx0XHRcdHZhbHVlOiB2YWx1ZVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy51cGRhdGVFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY29udGVudC91cGRhdGVFbGVtZW50JywgZWxlbWVudClcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxGYXFzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbEZhcXMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmFkZEZhcSA9IGZ1bmN0aW9uIChxdWVzdGlvbiwgYW5zd2VyKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jb250ZW50L2FkZEZhcScsIHtcclxuXHRcdFx0cXVlc3Rpb246IHF1ZXN0aW9uLFxyXG5cdFx0XHRhbnN3ZXI6IGFuc3dlclxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy51cGRhdGVGYXEgPSBmdW5jdGlvbiAoZmFxKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2NvbnRlbnQvdXBkYXRlRmFxJywgZmFxKVxyXG5cdH1cclxuXHJcblx0c3ZjLmRlbGV0ZUZhcSA9IGZ1bmN0aW9uIChmYXEpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY29udGVudC9kZWxldGVGYXEnLCBmYXEpXHJcblx0fVxyXG5cclxuXHRzdmMuYWRkQ2xhc3MgPSBmdW5jdGlvbiAodGl0bGUsIHN1YnRpdGxlLCBjb2xvciwgaWNvbiwgZGVzYykge1xyXG5cdFx0Y29uc29sZS5sb2coJ1NlcnZpY2UgYWRkIGNsYXNzIGNhbGxlZCEnKVxyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvY29udGVudC9hZGRDbGFzcycsIHtcclxuXHRcdFx0dGl0bGU6IHRpdGxlLFxyXG5cdFx0XHRzdWJ0aXRsZTogc3VidGl0bGUsXHJcblx0XHRcdGljb246IGljb24sXHJcblx0XHRcdGNvbG9yOiBjb2xvcixcclxuXHRcdFx0ZGVzY3JpcHRpb246IGRlc2NcclxuXHRcdH0pXHJcblx0fVxyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0FwcGxpY2F0aW9uQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsIFVzZXJTdmMsICRsb2NhdGlvbiwgJGh0dHApIHtcclxuXHQkc2NvcGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS50b2tlbikge1xyXG5cdFx0XHRVc2VyU3ZjLmNoZWNrVG9rZW4oKVxyXG5cdFx0XHQudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHQkc2NvcGUuY3VycmVudFVzZXIgPSByZXMuZGF0YVxyXG5cdFx0XHR9KVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLiRvbignbG9naW4nLCBmdW5jdGlvbihfLCB1c2VyKSB7XHJcblx0XHQkc2NvcGUuY3VycmVudFVzZXIgPSB1c2VyXHJcblx0fSlcclxuXHJcblx0JHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0VXNlclN2Yy5sb2dvdXQoKVxyXG5cdFx0ZGVsZXRlICRzY29wZS5jdXJyZW50VXNlclxyXG5cdFx0JGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpXHJcblx0fVxyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0NoaWxkQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uKSB7XHJcblxyXG5cdCRzY29wZS5hZGRDaGlsZCA9IGZ1bmN0aW9uIChhZHVsdElkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBkb2IsIG5vdGVzKSB7XHJcblx0XHRVc2VyU3ZjLmFkZENoaWxkKGFkdWx0SWQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIGRvYiwgbm90ZXMpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy91c2VyLWFjY291bnQnKVxyXG5cdFx0fSlcclxuXHR9XHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuc2VydmljZSgnQ2xhc3NTVkMnLCBmdW5jdGlvbiAoJGh0dHApIHtcclxuICAgICAgICB2YXIgc3ZjID0gdGhpc1xyXG5cclxuICAgICAgICAvLyBzdmMuZ2V0QWRtaW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2xhc3NlcycpXHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBzdmMuYWRkQ2xhc3MgPSBmdW5jdGlvbiAodGl0bGUsIGRlc2NyaXB0aW9uLCB0aW1lLCBkYXlzLCBhbGJ1bSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jbGFzc2VzL2FkZENsYXNzJywge1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgdGltZTogdGltZSxcclxuICAgICAgICAgICAgICAgIGRheXM6IGRheXMsXHJcbiAgICAgICAgICAgICAgICBhbGJ1bTogYWxidW1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN2Yy51cGRhdGVDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc18pIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9jbGFzc2VzL3VwZGF0ZUNsYXNzJywgY2xhc3NfKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3ZjLmRlbGV0ZUNsYXNzID0gZnVuY3Rpb24gKGNsYXNzXykge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2NsYXNzZXMvZGVsZXRlQ2xhc3MnLCBjbGFzc18pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdmMuZ2V0QWxsQ2xhc3NlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9jbGFzc2VzL2dldEFsbENsYXNzZXMnKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3ZjLmdldEFsbENoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NsYXNzZXMvZ2V0QWxsQ2hpbGRyZW4nKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc3ZjLmdldEFsbFN0dWRlbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NsYXNzZXMvZ2V0QWxsU3R1ZGVudHMnKVxyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgc3ZjLmFkZFRvQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NfKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY2xhc3Nlcy9hZGRUb0NsYXNzJywgY2xhc3NfKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc3ZjLnJlbW92ZUZyb21DbGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9jbGFzc2VzL3JlbW92ZUZyb21DbGFzcycpXHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBzdmMucmVtb3ZlQWxsID0gZnVuY3Rpb24gKGNsYXNzXykge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2NsYXNzZXMvcmVtb3ZlQWxsJywgY2xhc3NfKVxyXG4gICAgICAgIH1cclxuICAgIH0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdDbGllbnRzQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsIEFkbWluU3ZjKSB7XHJcbiAgICBBZG1pblN2Yy5nZXRBbGxVc2VycygpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgJHNjb3BlLmNsaWVudHMgPSByZXMuZGF0YVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBBZG1pblN2Yy5nZXRBbGxDaGlsZHJlbigpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAvLyAgICAgJHNjb3BlLmNoaWxkcmVuID0gcmVzLmRhdGFcclxuICAgIC8vIH0pXHJcblxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignQ29udGVudEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIENvbnRlbnRTdmMpIHtcclxuXHJcblx0Q29udGVudFN2Yy5nZXRBbGxFbGVtZW50cygpLnRoZW4oZnVuY3Rpb24oZWxlbXMpIHtcclxuXHRcdGFuZ3VsYXIuZm9yRWFjaChlbGVtcy5kYXRhLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcclxuXHRcdFx0JHNjb3BlW3ZhbHVlLm5hbWVdID0gdmFsdWUudmFsdWVcclxuXHRcdH0pXHJcblx0fSlcclxuXHJcblx0Q29udGVudFN2Yy5nZXRBbGxDbGFzc2VzKCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdCRzY29wZS5jbGFzc2VzID0gcmVzLmRhdGFcclxuXHR9KVxyXG5cclxuXHRDb250ZW50U3ZjLmdldEFsbEZhcXMoKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0JHNjb3BlLmZhcSA9IHJlcy5kYXRhXHJcblx0fSlcclxuXHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5zZXJ2aWNlKCdDb250ZW50U3ZjJywgZnVuY3Rpb24gKCRodHRwKSB7XHJcblx0dmFyIHN2YyA9IHRoaXNcclxuXHJcblx0c3ZjLmdldEFsbEVsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbEVsZW1lbnRzJylcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxDbGFzc2VzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbENsYXNzZXMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmdldEFsbEZhcXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsRmFxcycpXHJcblx0fVxyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0xvZ2luQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uKSB7XHJcblxyXG5cdCRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uIChlbWFpbCwgcGFzc3dvcmQpIHtcclxuXHRcdCRzY29wZS5sb2dpbkVycm9yID0gZmFsc2VcclxuXHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnJ1xyXG5cclxuXHRcdHZhciBtb2RpZmllZEVtYWlsID0gZW1haWwudG9Mb3dlckNhc2UoKVxyXG5cclxuXHRcdFVzZXJTdmMubG9naW4obW9kaWZpZWRFbWFpbCwgcGFzc3dvcmQpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcblx0XHRcdGlmKHJlcy5zdGF0dXMgPT0gNDAxKSB7XHJcblx0XHRcdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9IHJlcy5kYXRhXHJcblx0XHRcdFx0JHNjb3BlLmxvZ2luRXJyb3IgPSB0cnVlXHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JHNjb3BlLiRlbWl0KCdsb2dpbicsIHJlcy5kYXRhKVxyXG5cdFx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvdXNlci1hY2NvdW50JylcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9XHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdSZWdpc3RlckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXJTdmMsICRsb2NhdGlvbikge1xyXG5cclxuXHQkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoZW1haWwsIHBhc3N3b3JkLCBjaGVja3Bhc3MsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHN0cmVldEFkZHJlc3MsIGNpdHksIHN0YXRlLCB6aXAsIHBob25lKSB7XHJcblx0XHRpZiAocGFzc3dvcmQgIT0gY2hlY2twYXNzKSB7XHJcblx0XHRcdCRzY29wZS5yZWdpc3RlckVycm9yID0gdHJ1ZVxyXG5cdFx0XHQkc2NvcGUuZXJyb3JNZXNzYWdlID0gJ0Vycm9yOiBQYXNzd29yZHMgbXVzdCBtYXRjaCdcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHR9XHJcblxyXG5cdFx0JHNjb3BlLnJlZ2lzdGVyRXJyb3IgPSBmYWxzZVxyXG5cclxuXHRcdHZhciBtb2RpZmllZEVtYWlsID0gZW1haWwudG9Mb3dlckNhc2UoKVxyXG5cclxuXHRcdFVzZXJTdmMucmVnaXN0ZXIobW9kaWZpZWRFbWFpbCwgcGFzc3dvcmQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHN0cmVldEFkZHJlc3MsIGNpdHksIHN0YXRlLCB6aXAsIHBob25lKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRzY29wZS4kZW1pdCgnbG9naW4nLCByZXNwb25zZS5kYXRhKVxyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL3VzZXItYWNjb3VudCcpXHJcblx0XHR9KVxyXG5cdH1cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ1Jlc2V0Q3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uKSB7XHJcbiAgICAkc2NvcGUucmVzZXRQYXNzd29yZCA9IGZ1bmN0aW9uIChlbWFpbCkge1xyXG4gICAgICAgICRzY29wZS5pbnZhbGlkRW1haWwgPSBmYWxzZVxyXG4gICAgICAgICRzY29wZS5wYXNzd29yZFJlc2V0ID0gZmFsc2VcclxuICAgICAgICAkc2NvcGUuSW52YWxpZEVtYWlsTWVzc2FnZSA9ICcnXHJcbiAgICAgICAgdmFyIG1vZGlmaWVkRW1haWwgPSBlbWFpbC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgdmFyIG5ld1Bhc3N3b3JkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoLTEwKTtcclxuXHJcbiAgICAgICAgVXNlclN2Yy5yZXNldFBhc3N3b3JkKG1vZGlmaWVkRW1haWwsIG5ld1Bhc3N3b3JkKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXMuc3RhdHVzID09IDQwMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYXBwbHlpbmcgaW52YWxpZCBlbWFpbFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkRW1haWwgPSByZXMuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW52YWxpZEVtYWlsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGFzc3dvcmRSZXNldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgVXNlclN2Yy5lbWFpbChlbWFpbCwgbmV3UGFzc3dvcmQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcblx0LmNvbmZpZyhmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcblx0XHRcdCRyb3V0ZVByb3ZpZGVyXHJcblx0XHRcdC53aGVuKCcvJywgeyBjb250cm9sbGVyOiAnQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2luZGV4Lmh0bWwnIH0pXHJcblx0XHRcdC53aGVuKCcvY2xhc3NlcycsIHsgY29udHJvbGxlcjogJ0NvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbGFzc2VzLmh0bWwnIH0pXHJcblx0XHRcdC53aGVuKCcvYWJvdXQnLCB7IGNvbnRyb2xsZXI6ICdDb250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnYWJvdXQuaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy9mYXEnLCB7IGNvbnRyb2xsZXI6ICdDb250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnZmFxLmh0bWwnIH0pXHJcblxyXG5cdFx0XHQud2hlbignL2xvZ2luJywgeyBjb250cm9sbGVyOiAnTG9naW5DdHJsJywgdGVtcGxhdGVVcmw6ICdsb2dpbi5odG1sJyB9KVxyXG5cdFx0XHQud2hlbignL3JlZ2lzdGVyJywgeyBjb250cm9sbGVyOiAnUmVnaXN0ZXJDdHJsJywgdGVtcGxhdGVVcmw6ICdyZWdpc3RyYXRpb24uaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy9yZXNldC1wYXNzd29yZCcsIHsgY29udHJvbGxlcjogJ1Jlc2V0Q3RybCcsIHRlbXBsYXRlVXJsOiAncmVzZXQtcGFzc3dvcmQuaHRtbCd9KVxyXG5cdFx0XHRcclxuXHRcdFx0LndoZW4oJy91c2VyLWFjY291bnQnLCB7IGNvbnRyb2xsZXI6ICdVc2VyQ3RybCcsIHRlbXBsYXRlVXJsOiAndXNlci91c2VyLWFjY291bnQuaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy91cGRhdGUtdXNlci1hY2NvdW50JywgeyBjb250cm9sbGVyOiAnVXBkYXRlQ3RybCcsIHRlbXBsYXRlVXJsOiAndXNlci91cGRhdGUtdXNlci1hY2NvdW50Lmh0bWwnIH0pXHJcblx0XHRcdC53aGVuKCcvdXBkYXRlLXVzZXItcGFzc3dvcmQnLCB7IGNvbnRyb2xsZXI6ICdVcGRhdGVDdHJsJywgdGVtcGxhdGVVcmw6ICd1c2VyL3VwZGF0ZS11c2VyLXBhc3N3b3JkLmh0bWwnIH0pXHJcblxyXG5cdFx0XHQud2hlbignL2FkZC1jaGlsZCcsIHsgY29udHJvbGxlcjogJ0NoaWxkQ3RybCcsIHRlbXBsYXRlVXJsOiAndXNlci9hZGQtY2hpbGQuaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy91cGRhdGUtY2hpbGQnLCB7IGNvbnRyb2xsZXI6ICdVc2VyQ3RybCcsIHRlbXBsYXRlVXJsOiAndXNlci91cGRhdGUtY2hpbGQuaHRtbCcgfSlcclxuXHJcblx0XHRcdC53aGVuKCcvdXNlci1jbGFzc2VzJywgeyB0ZW1wbGF0ZVVybDogJ3VzZXIvdXNlci1jbGFzc2VzLmh0bWwnIH0pXHJcblx0XHRcdC53aGVuKCcvdXNlci1waG90b3MnLCB7IHRlbXBsYXRlVXJsOiAndXNlci91c2VyLXBob3Rvcy5odG1sJyB9KVxyXG5cdFx0XHQud2hlbignL3VzZXItcGF5bWVudHMnLCB7IHRlbXBsYXRlVXJsOiAndXNlci91c2VyLXBheW1lbnRzLmh0bWwnIH0pXHJcblx0XHRcdC53aGVuKCcvdXNlci1mb3JtcycsIHsgdGVtcGxhdGVVcmw6ICd1c2VyL3VzZXItZm9ybXMuaHRtbCcgfSlcclxuXHRcdFx0XHJcblx0XHRcdC53aGVuKCcvYWRtaW4nLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkxvZ2luQ3RybCcsIHRlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tbG9naW4uaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy9hZG1pbi1yZWdpc3RlcicsIHsgY29udHJvbGxlcjogJ0FkbWluTG9naW5DdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi9yZWdpc3RyYXRpb24uaHRtbCcgfSlcclxuXHJcblx0XHRcdC53aGVuKCcvYWRtaW4tYWNjb3VudCcsIHsgdGVtcGxhdGVVcmw6ICdhZG1pbi9hZG1pbi1hY2NvdW50Lmh0bWwnIH0pXHJcblx0XHRcdC53aGVuKCcvdXBkYXRlLWFkbWluLWFjY291bnQnLCB7IGNvbnRyb2xsZXI6ICdVcGRhdGVBZG1pbkN0cmwnLCB0ZW1wbGF0ZVVybDogJ2FkbWluL3VwZGF0ZS1hZG1pbi1hY2NvdW50Lmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy91cGRhdGUtYWRtaW4tcGFzc3dvcmQnLCB7IGNvbnRyb2xsZXI6ICdVcGRhdGVBZG1pbkN0cmwnLCB0ZW1wbGF0ZVVybDogJ2FkbWluL3VwZGF0ZS1hZG1pbi1wYXNzd29yZC5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvdXBkYXRlLWFkbWluLWJpbycsIHsgY29udHJvbGxlcjogJ1VwZGF0ZUFkbWluQ3RybCcsIHRlbXBsYXRlVXJsOiAnYWRtaW4vdXBkYXRlLWFkbWluLWJpby5odG1sJ30pXHJcblxyXG5cdFx0XHQud2hlbignL2FkbWluLWNsYXNzZXMnLCB7IGNvbnRyb2xsZXI6ICdDbGFzc0N0cmwnLCB0ZW1wbGF0ZVVybDogJ2FkbWluL2FkbWluLWNsYXNzZXMuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL2FkbWluLWFkZC1jbGFzcycsIHsgY29udHJvbGxlcjogJ0NsYXNzQ3RybCcsIHRlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tYWRkLWNsYXNzLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9hZG1pbi11cGRhdGUtY2xhc3MnLCB7IGNvbnRyb2xsZXI6ICdDbGFzc0N0cmwnLCB0ZW1wbGF0ZVVybDogJ2FkbWluL2FkbWluLXVwZGF0ZS1jbGFzcy5odG1sJyB9KVxyXG5cclxuXHRcdFx0LndoZW4oJy9hZG1pbi1jbGllbnRzJywge2NvbnRyb2xsZXI6ICdDbGllbnRzQ3RybCcsIHRlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tY2xpZW50cy5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvYWRtaW4tcGhvdG9zJywge3RlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tcGhvdG9zLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9hZG1pbi1wYXltZW50cycsIHt0ZW1wbGF0ZVVybDogJ2FkbWluL2FkbWluLXBheW1lbnRzLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9hZG1pbi1mb3JtcycsIHt0ZW1wbGF0ZVVybDogJ2FkbWluL2FkbWluLWZvcm1zLmh0bWwnfSlcclxuXHJcblx0XHRcdC53aGVuKCcvY20nLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvY20tZWxlbWVudC1hZGQnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1lbGVtZW50LWFkZC5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvY20tZWxlbWVudC1lZGl0JywgeyBjb250cm9sbGVyOiAnQWRtaW5Db250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnY20vY20tZWxlbWVudC1lZGl0Lmh0bWwnfSlcclxuXHJcblx0XHRcdC53aGVuKCcvY20taG9tZXBhZ2UnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1ob21lcGFnZS5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvY20tY2xhc3NlcycsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWNsYXNzZXMuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL2NtLWFib3V0JywgeyBjb250cm9sbGVyOiAnQWRtaW5Db250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnY20vY20tYWJvdXQuaHRtbCd9KVxyXG5cclxuXHRcdFx0LndoZW4oJy9jbS1jbGFzcy1hZGQnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1jbGFzcy1hZGQuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL2NtLWNsYXNzLWVkaXQnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1jbGFzcy1lZGl0Lmh0bWwnfSlcclxuXHJcblx0XHRcdC53aGVuKCcvY20tZmFxJywgeyBjb250cm9sbGVyOiAnQWRtaW5Db250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnY20vY20tZmFxLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9jbS1mYXEtYWRkJywgeyBjb250cm9sbGVyOiAnQWRtaW5Db250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnY20vY20tZmFxLWFkZC5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvY20tZmFxLWVkaXQnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1mYXEtZWRpdC5odG1sJ30pXHJcblxyXG5cdCRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxufSlcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdVcGRhdGVBZG1pbkN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIEFkbWluU3ZjLCAkbG9jYXRpb24pIHtcclxuICAgICRzY29wZS51cGRhdGUgPSBmdW5jdGlvbiAoaWQsIHVzZXJuYW1lLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgcGhvbmUpIHtcclxuICAgICAgICBBZG1pblN2Yy51cGRhdGUoaWQsIHVzZXJuYW1lLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgcGhvbmUpXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2FkbWluLWFjY291bnQnKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgICRzY29wZS51cGRhdGVQYXNzd29yZCA9IGZ1bmN0aW9uIChpZCwgbmV3UGFzc3dvcmQsIGNoZWNrUGFzc3dvcmQpIHtcclxuICAgICAgICBpZiAobmV3UGFzc3dvcmQgIT0gY2hlY2tQYXNzd29yZCkge1xyXG4gICAgICAgICAgICAkc2NvcGUucGFzc3dvcmRzTWF0Y2ggPSB0cnVlXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLnBhc3N3b3Jkc01hdGNoID0gZmFsc2VcclxuXHJcbiAgICAgICAgQWRtaW5TdmMudXBkYXRlUGFzc3dvcmQoaWQsIG5ld1Bhc3N3b3JkKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2FkbWluLWFjY291bnQnKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgICRzY29wZS51cGRhdGVCaW8gPSBmdW5jdGlvbiAoaWQsIGJpbykge1xyXG4gICAgICAgIEFkbWluU3ZjLnVwZGF0ZUJpbyhpZCwgYmlvKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2FkbWluLWFjY291bnQnKVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgIH1cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ1VwZGF0ZUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXJTdmMsICRsb2NhdGlvbikge1xyXG5cdCRzY29wZS51cGRhdGUgPSBmdW5jdGlvbiAoaWQsIGVtYWlsLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBzdHJlZXRBZGRyZXNzLCBjaXR5LCBzdGF0ZSwgemlwLCBwaG9uZSkge1xyXG5cdFx0XHJcblx0XHR2YXIgbW9kaWZpZWRFbWFpbCA9IGVtYWlsLnRvTG93ZXJDYXNlKClcclxuXHJcblx0XHRVc2VyU3ZjLnVwZGF0ZShpZCwgbW9kaWZpZWRFbWFpbCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgc3RyZWV0QWRkcmVzcywgY2l0eSwgc3RhdGUsIHppcCwgcGhvbmUpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JHNjb3BlLmN1cnJlbnRVc2VyLmVtYWlsID0gbW9kaWZpZWRFbWFpbFxyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL3VzZXItYWNjb3VudCcpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLnVwZGF0ZVBhc3N3b3JkID0gZnVuY3Rpb24gKGlkLCBuZXdQYXNzd29yZCwgY2hlY2tQYXNzd29yZCkge1xyXG5cdFx0aWYgKG5ld1Bhc3N3b3JkICE9IGNoZWNrUGFzc3dvcmQpIHtcclxuXHRcdFx0JHNjb3BlLnBhc3N3b3Jkc01hdGNoID0gdHJ1ZVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdH1cclxuXHJcblx0XHQkc2NvcGUucGFzc3dvcmRzTWF0Y2ggPSBmYWxzZVxyXG5cdFxyXG5cdFx0VXNlclN2Yy51cGRhdGVQYXNzd29yZChpZCwgbmV3UGFzc3dvcmQpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvdXNlci1hY2NvdW50JylcclxuXHRcdH0pXHJcblx0fVxyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ1VzZXJDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjLCAkbG9jYXRpb24pIHtcclxuXHJcblx0VXNlclN2Yy5nZXRBbGxDaGlsZHJlbigpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHQkc2NvcGUuY2hpbGRyZW4gPSByZXMuZGF0YVxyXG5cdH0pXHJcblxyXG5cdCRzY29wZS5zZXRDaGlsZFRvVXBkYXRlID0gZnVuY3Rpb24oY2hpbGQpIHtcclxuXHRcdCRzY29wZS5jdXJyZW50VXNlci5jaGlsZFRvVXBkYXRlID0gY2hpbGRcclxuXHR9XHJcblxyXG5cdCRzY29wZS51cGRhdGVDaGlsZCA9IGZ1bmN0aW9uKGNoaWxkKSB7XHJcblx0XHRVc2VyU3ZjLnVwZGF0ZUNoaWxkKGNoaWxkKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvdXNlci1hY2NvdW50JylcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQkc2NvcGUuZGVsZXRlQ2hpbGQgPSBmdW5jdGlvbihjaGlsZCkge1xyXG5cdFx0VXNlclN2Yy5kZWxldGVDaGlsZChjaGlsZClcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL3VzZXItYWNjb3VudCcpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5zZXJ2aWNlKCdVc2VyU3ZjJywgZnVuY3Rpb24gKCRodHRwKSB7XHJcblx0dmFyIHN2YyA9IHRoaXNcclxuXHJcblx0c3ZjLmdldFVzZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzJylcclxuXHR9XHJcblxyXG5cdHN2Yy5yZWdpc3RlciA9IGZ1bmN0aW9uIChlbWFpbCwgcGFzc3dvcmQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHN0cmVldEFkZHJlc3MsIGNpdHksIHN0YXRlLCB6aXAsIHBob25lKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2VycycsIHtcclxuXHRcdFx0ZW1haWw6IGVtYWlsLFxyXG5cdFx0XHRwYXNzd29yZDogcGFzc3dvcmQsXHJcblx0XHRcdGZpcnN0TmFtZTogZmlyc3ROYW1lLFxyXG5cdFx0XHRsYXN0TmFtZTogbGFzdE5hbWUsXHJcblx0XHRcdHN0cmVldEFkZHJlc3M6IHN0cmVldEFkZHJlc3MsXHJcblx0XHRcdGNpdHk6IGNpdHksXHJcblx0XHRcdHN0YXRlOiBzdGF0ZSxcclxuXHRcdFx0emlwOiB6aXAsXHJcblx0XHRcdHBob25lOiBwaG9uZVxyXG5cdFx0fSkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBzdmMubG9naW4oZW1haWwsIHBhc3N3b3JkKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy5jaGVja1Rva2VuID0gZnVuY3Rpb24oKSB7XHJcblx0XHQkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ10gPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UudG9rZW5cclxuXHRcdHJldHVybiBzdmMuZ2V0VXNlcigpXHJcblx0fVxyXG5cclxuXHRzdmMubG9naW4gPSBmdW5jdGlvbiAoZW1haWwsIHBhc3N3b3JkKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9zZXNzaW9ucycsIHtcclxuXHRcdFx0ZW1haWw6IGVtYWlsLCBwYXNzd29yZDogcGFzc3dvcmRcclxuXHRcdH0pXHJcblx0XHQudGhlbihmdW5jdGlvbiAodmFsKSB7XHJcblx0XHRcdHdpbmRvdy5zZXNzaW9uU3RvcmFnZS50b2tlbiA9IHZhbC5kYXRhXHJcblx0XHRcdCRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9IHZhbC5kYXRhXHJcblx0XHRcdHJldHVybiBzdmMuZ2V0VXNlcigpXHJcblx0XHR9LCBmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0cmV0dXJuIGVyclxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy5sb2dvdXQgPSBmdW5jdGlvbigpIHtcclxuXHRcdGRlbGV0ZSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ11cclxuXHRcdHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlID0gZnVuY3Rpb24gKGlkLCBlbWFpbCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgc3RyZWV0QWRkcmVzcywgY2l0eSwgc3RhdGUsIHppcCwgcGhvbmUpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvdXNlcnMvdXBkYXRlJywge1xyXG5cdFx0XHRpZDogaWQsXHJcblx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0Zmlyc3ROYW1lOiBmaXJzdE5hbWUsXHJcblx0XHRcdGxhc3ROYW1lOiBsYXN0TmFtZSxcclxuXHRcdFx0c3RyZWV0QWRkcmVzczogc3RyZWV0QWRkcmVzcyxcclxuXHRcdFx0Y2l0eTogY2l0eSxcclxuXHRcdFx0c3RhdGU6IHN0YXRlLFxyXG5cdFx0XHR6aXA6IHppcCxcclxuXHRcdFx0cGhvbmU6IHBob25lXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLnVwZGF0ZVBhc3N3b3JkID0gZnVuY3Rpb24gKGlkLCBuZXdQYXNzd29yZCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS91c2Vycy91cGRhdGVQYXNzd29yZCcsIHtcclxuXHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHRwYXNzd29yZDogbmV3UGFzc3dvcmRcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMucmVzZXRQYXNzd29yZCA9ICBmdW5jdGlvbiAoZW1haWwsIG5ld1Bhc3N3b3JkKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL3VzZXJzL3Jlc2V0UGFzc3dvcmQnLCB7XHJcblx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0bmV3UGFzc3dvcmQ6IG5ld1Bhc3N3b3JkXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLnVwZGF0ZUNoaWxkID0gZnVuY3Rpb24gKGNoaWxkKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL3VzZXJzL3VwZGF0ZUNoaWxkJywgY2hpbGQpXHJcblx0fVxyXG5cclxuXHRzdmMuZGVsZXRlQ2hpbGQgPSBmdW5jdGlvbiAoY2hpbGQpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvdXNlcnMvZGVsZXRlQ2hpbGQnLCBjaGlsZClcclxuXHR9XHJcblxyXG5cdHN2Yy5hZGRDaGlsZCA9IGZ1bmN0aW9uIChhZHVsdElkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBkb2IsIG5vdGVzKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2Vycy9hZGRDaGlsZCcsIHtcclxuXHRcdFx0YWR1bHRJZDogYWR1bHRJZCxcclxuXHRcdFx0Zmlyc3ROYW1lOiBmaXJzdE5hbWUsXHJcblx0XHRcdGxhc3ROYW1lOiBsYXN0TmFtZSxcclxuXHRcdFx0ZG9iOiBkb2IsXHJcblx0XHRcdG5vdGVzOiBub3Rlc1xyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxDaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvZ2V0QWxsQ2hpbGRyZW4nKVxyXG5cdH1cclxuXHJcblx0c3ZjLmVtYWlsID0gZnVuY3Rpb24gKGVtYWlsLCBuZXdQYXNzd29yZCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMvc2VuZEVtYWlsJyx7XHJcblx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0bmV3UGFzc3dvcmQ6IG5ld1Bhc3N3b3JkXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblxyXG59KVxyXG4iXX0=
