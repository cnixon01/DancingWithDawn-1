angular.module("app",["ngRoute"]),angular.module("app").controller("ClassCtrl",["$scope","ClassSVC","$location",function(e,r,o){e.enrollment=[],e.addClass=function(t,e,n,a,l){r.addClass(t,e,n,a,l).then(function(t){o.path("/admin-classes")})},r.getAllClasses().then(function(t){e.classes=t.data}),e.setClassToUpdate=function(t){e.currentAdmin.classToUpdate=t},e.updateClass=function(t){r.updateClass(t).then(function(t){o.path("/admin-classes")})},e.deleteClass=function(t){r.deleteClass(t).then(function(t){o.path("/admin-classes")})},r.getAllChildren().then(function(t){e.children=t.data}),e.addToClass=function(t){console.log(t),e.enrollment.push(e.input),t.children=e.enrollment,r.addToClass(t)},e.removeFromClass=function(t){e.items.splice(t,1)}}]),angular.module("app").controller("AdminLoginCtrl",["$scope","AdminSvc","$location",function(s,i,c){s.login=function(t,e){s.loginError=!1,s.errorMessage="",i.login(t,e).then(function(t){if(401==t.status)return s.errorMessage=t.data,!(s.loginError=!0);s.$emit("login",t.data),c.path("/admin-account")})},s.register=function(t,e,n,a,l,r,o){if(n!=a)return s.registerError=!0,!(s.errorMessage="Error: Passwords must match");s.registerError=!1,i.register(t,e,n,l,r,o).then(function(t){s.$emit("login",t.data),c.path("/admin-account")})}}]),angular.module("app").service("AdminSvc",["$http",function(o){var s=this;s.getAdmin=function(){return o.get("/api/admin")},s.register=function(t,e,n,a,l,r){return o.post("/api/admin",{username:e,password:n,email:t,firstName:a,lastName:l,phone:r}).then(function(){return s.login(e,n)})},s.checkToken=function(t){return o.defaults.headers.common["X-Auth"]=window.sessionStorage.token,s.getAdmin()},s.login=function(t,e){return o.post("/api/admin-sessions",{username:t,password:e}).then(function(t){return window.sessionStorage.token=t.data,o.defaults.headers.common["X-Auth"]=t.data,s.getAdmin()},function(t){return t})},s.logout=function(){delete o.defaults.headers.common["X-Auth"],sessionStorage.clear()},s.update=function(t,e,n,a,l,r){return o.put("/api/admin/update",{id:t,username:e,firstName:n,lastName:a,email:l,phone:r})},s.updatePassword=function(t,e){return o.put("/api/admin/updatePassword",{id:t,password:e})},s.updateBio=function(t,e){return o.put("/api/admin/updateBio",{id:t,bio:e})},s.getAllUsers=function(){return o.get("/api/admin/getAllUsers")}}]),angular.module("app").controller("AdminContentCtrl",["$scope","AdminContentSvc","$location",function(r,o,s){o.getAllHomepageElements().then(function(t){r.homepage_content=t.data}),o.getAllClassesElements().then(function(t){r.classes_content=t.data}),o.getAllClasses().then(function(t){r.classes=t.data}),o.getAllAboutElements().then(function(t){r.about_content=t.data}),o.getAllFaqElements().then(function(t){r.faq_content=t.data}),o.getAllFaqs().then(function(t){r.faq=t.data}),r.setFaqToUpdate=function(t){r.currentAdmin.faqToUpdate=t},r.updateFaq=function(t){o.updateFaq(t).then(function(t){s.path("/cm-faq")})},r.addFaq=function(t,e){if(r.inputError=!1,r.errorMessage="",!t||!e)return r.inputError=!0,void(r.errorMessage="All text fields must contain content");o.addFaq(t,e).then(function(t){s.path("/cm-faq")})},r.deleteFaq=function(t){o.deleteFaq(t).then(function(t){s.path("/cm-faq")})},r.addElement=function(t,e,n,a){r.inputError=!1,r.errorMessage="",o.addElement(t,e,n,a).then(function(t){s.path("/cm")})},r.setElementToUpdate=function(t){r.currentAdmin.elementToUpdate=t},r.updateElement=function(t){o.updateElement(t).then(function(t){s.path("/cm")})},r.addClass=function(t,e,n,a,l){if(console.log("addClass Called!"),r.inputError=!1,r.errorMessage="",!t||!l)return r.inputError=!0,void(r.errorMessage="All text fields must contain content");o.addClass(t,e,n,a,l).then(function(t){s.path("/cm-classes")})}}]),angular.module("app").service("AdminContentSvc",["$http",function(r){var t=this;t.getAllElements=function(){return r.get("/api/content/getAllElements")},t.getAllHomepageElements=function(){return r.get("/api/content/getAllHomepageElements")},t.getAllClassesElements=function(){return r.get("/api/content/getAllClassesElements")},t.getAllClasses=function(){return r.get("/api/content/getAllClasses")},t.getAllAboutElements=function(){return r.get("/api/content/getAllAboutElements")},t.getAllFaqElements=function(){return r.get("/api/content/getAllFaqElements")},t.addElement=function(t,e,n,a){return r.post("/api/content/addElement",{name:t,location:e,description:n,value:a})},t.updateElement=function(t){return r.put("/api/content/updateElement",t)},t.getAllFaqs=function(){return r.get("/api/content/getAllFaqs")},t.addFaq=function(t,e){return r.post("/api/content/addFaq",{question:t,answer:e})},t.updateFaq=function(t){return r.put("/api/content/updateFaq",t)},t.deleteFaq=function(t){return r.put("/api/content/deleteFaq",t)},t.addClass=function(t,e,n,a,l){return console.log("Service add class called!"),r.post("/api/content/addClass",{title:t,subtitle:e,icon:a,color:n,description:l})}}]),angular.module("app").controller("AdminCtrl",["$scope","AdminSvc","$location",function(n,t,e){n.init=function(){window.sessionStorage.token&&t.checkToken().then(function(t){n.currentAdmin=t.data})},n.$on("login",function(t,e){n.currentAdmin=e}),n.logout=function(){t.logout(),delete n.currentAdmin,e.path("/admin")}}]),angular.module("app").controller("ApplicationCtrl",["$scope","UserSvc","$location","$http",function(n,t,e,a){n.init=function(){window.sessionStorage.token&&t.checkToken().then(function(t){n.currentUser=t.data})},n.$on("login",function(t,e){n.currentUser=e}),n.logout=function(){t.logout(),delete n.currentUser,e.path("/login")}}]),angular.module("app").controller("ChildCtrl",["$scope","UserSvc","$location",function(t,r,o){t.addChild=function(t,e,n,a,l){r.addChild(t,e,n,a,l).then(function(t){o.path("/user-account")})}}]),angular.module("app").service("ClassSVC",["$http",function(r){var t=this;t.addClass=function(t,e,n,a,l){return r.post("/api/classes/addClass",{title:t,description:e,time:n,days:a,album:l})},t.updateClass=function(t){return r.put("/api/classes/updateClass",t)},t.deleteClass=function(t){return r.put("/api/classes/deleteClass",t)},t.getAllClasses=function(){return r.get("/api/classes/getAllClasses")},t.getAllChildren=function(){return r.get("/api/classes/getAllChildren")},t.addToClass=function(){return r.put("/api/classes/addToClass")}}]),angular.module("app").controller("ClientsCtrl",["$scope","AdminSvc",function(e,t){t.getAllUsers().then(function(t){e.clients=t.data})}]),angular.module("app").controller("ContentCtrl",["$scope","ContentSvc",function(n,t){t.getAllElements().then(function(t){angular.forEach(t.data,function(t,e){n[t.name]=t.value})}),t.getAllClasses().then(function(t){n.classes=t.data}),t.getAllFaqs().then(function(t){n.faq=t.data})}]),angular.module("app").service("ContentSvc",["$http",function(t){this.getAllElements=function(){return t.get("/api/content/getAllElements")},this.getAllClasses=function(){return t.get("/api/content/getAllClasses")},this.getAllFaqs=function(){return t.get("/api/content/getAllFaqs")}}]),angular.module("app").controller("LoginCtrl",["$scope","UserSvc","$location",function(a,l,r){a.login=function(t,e){a.loginError=!1,a.errorMessage="";var n=t.toLowerCase();l.login(n,e).then(function(t){if(401==t.status)return a.errorMessage=t.data,!(a.loginError=!0);a.$emit("login",t.data),r.path("/user-account")})}}]),angular.module("app").controller("RegisterCtrl",["$scope","UserSvc","$location",function(d,m,p){d.register=function(t,e,n,a,l,r,o,s,i,c){if(e!=n)return d.registerError=!0,!(d.errorMessage="Error: Passwords must match");d.registerError=!1;var u=t.toLowerCase();m.register(u,e,a,l,r,o,s,i,c).then(function(t){d.$emit("login",t.data),p.path("/user-account")})}}]),angular.module("app").controller("ResetCtrl",["$scope","UserSvc","$location",function(a,l,t){a.resetPassword=function(e){a.invalidEmail=!1,a.passwordReset=!1,a.InvalidEmailMessage="";var t=e.toLowerCase(),n=Math.random().toString(36).slice(-10);l.resetPassword(t,n).then(function(t){if(401==t.status)return console.log("applying invalid email"),a.invalidEmail=t.data,!(a.invalidEmail=!0);a.passwordReset=!0,l.email(e,n)})}}]),angular.module("app").config(["$routeProvider","$locationProvider",function(t,e){t.when("/",{controller:"ContentCtrl",templateUrl:"index.html"}).when("/classes",{controller:"ContentCtrl",templateUrl:"classes.html"}).when("/about",{controller:"ContentCtrl",templateUrl:"about.html"}).when("/faq",{controller:"ContentCtrl",templateUrl:"faq.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"login.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"registration.html"}).when("/reset-password",{controller:"ResetCtrl",templateUrl:"reset-password.html"}).when("/user-account",{controller:"UserCtrl",templateUrl:"user/user-account.html"}).when("/update-user-account",{controller:"UpdateCtrl",templateUrl:"user/update-user-account.html"}).when("/update-user-password",{controller:"UpdateCtrl",templateUrl:"user/update-user-password.html"}).when("/add-child",{controller:"ChildCtrl",templateUrl:"user/add-child.html"}).when("/update-child",{controller:"UserCtrl",templateUrl:"user/update-child.html"}).when("/user-classes",{templateUrl:"user/user-classes.html"}).when("/user-photos",{templateUrl:"user/user-photos.html"}).when("/user-payments",{templateUrl:"user/user-payments.html"}).when("/user-forms",{templateUrl:"user/user-forms.html"}).when("/admin",{controller:"AdminLoginCtrl",templateUrl:"admin/admin-login.html"}).when("/admin-register",{controller:"AdminLoginCtrl",templateUrl:"admin/registration.html"}).when("/admin-account",{templateUrl:"admin/admin-account.html"}).when("/update-admin-account",{controller:"UpdateAdminCtrl",templateUrl:"admin/update-admin-account.html"}).when("/update-admin-password",{controller:"UpdateAdminCtrl",templateUrl:"admin/update-admin-password.html"}).when("/update-admin-bio",{controller:"UpdateAdminCtrl",templateUrl:"admin/update-admin-bio.html"}).when("/admin-classes",{controller:"ClassCtrl",templateUrl:"admin/admin-classes.html"}).when("/admin-add-class",{controller:"ClassCtrl",templateUrl:"admin/admin-add-class.html"}).when("/admin-update-class",{controller:"ClassCtrl",templateUrl:"admin/admin-update-class.html"}).when("/admin-clients",{controller:"ClientsCtrl",templateUrl:"admin/admin-clients.html"}).when("/admin-photos",{templateUrl:"admin/admin-photos.html"}).when("/admin-payments",{templateUrl:"admin/admin-payments.html"}).when("/admin-forms",{templateUrl:"admin/admin-forms.html"}).when("/cm",{controller:"AdminContentCtrl",templateUrl:"cm/cm.html"}).when("/cm-element-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-element-add.html"}).when("/cm-element-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-element-edit.html"}).when("/cm-homepage",{controller:"AdminContentCtrl",templateUrl:"cm/cm-homepage.html"}).when("/cm-classes",{controller:"AdminContentCtrl",templateUrl:"cm/cm-classes.html"}).when("/cm-about",{controller:"AdminContentCtrl",templateUrl:"cm/cm-about.html"}).when("/cm-class-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-class-add.html"}).when("/cm-class-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-class-edit.html"}).when("/cm-faq",{controller:"AdminContentCtrl",templateUrl:"cm/cm-faq.html"}).when("/cm-faq-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-faq-add.html"}).when("/cm-faq-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-faq-edit.html"}),e.html5Mode(!0)}]),angular.module("app").controller("UpdateAdminCtrl",["$scope","AdminSvc","$location",function(a,o,s){a.update=function(t,e,n,a,l,r){o.update(t,e,n,a,l,r).then(function(t){s.path("/admin-account")})},a.updatePassword=function(t,e,n){if(e!=n)return!(a.passwordsMatch=!0);a.passwordsMatch=!1,o.updatePassword(t,e).then(function(t){s.path("/admin-account")})},a.updateBio=function(t,e){o.updateBio(t,e).then(function(t){s.path("/admin-account")})}}]),angular.module("app").controller("UpdateCtrl",["$scope","UserSvc","$location",function(u,d,m){u.update=function(t,e,n,a,l,r,o,s,i){var c=e.toLowerCase();d.update(t,c,n,a,l,r,o,s,i).then(function(t){u.currentUser.email=c,m.path("/user-account")})},u.updatePassword=function(t,e,n){if(e!=n)return!(u.passwordsMatch=!0);u.passwordsMatch=!1,d.updatePassword(t,e).then(function(t){m.path("/user-account")})}}]),angular.module("app").controller("UserCtrl",["$scope","UserSvc","$location",function(e,n,a){n.getAllChildren().then(function(t){e.children=t.data}),e.setChildToUpdate=function(t){e.currentUser.childToUpdate=t},e.updateChild=function(t){n.updateChild(t).then(function(t){a.path("/user-account")})},e.deleteChild=function(t){n.deleteChild(t).then(function(t){a.path("/user-account")})}}]),angular.module("app").service("UserSvc",["$http",function(c){var u=this;u.getUser=function(){return c.get("/api/users")},u.register=function(t,e,n,a,l,r,o,s,i){return c.post("/api/users",{email:t,password:e,firstName:n,lastName:a,streetAddress:l,city:r,state:o,zip:s,phone:i}).then(function(){return u.login(t,e)})},u.checkToken=function(){return c.defaults.headers.common["X-Auth"]=window.sessionStorage.token,u.getUser()},u.login=function(t,e){return c.post("/api/sessions",{email:t,password:e}).then(function(t){return window.sessionStorage.token=t.data,c.defaults.headers.common["X-Auth"]=t.data,u.getUser()},function(t){return t})},u.logout=function(){delete c.defaults.headers.common["X-Auth"],sessionStorage.clear()},u.update=function(t,e,n,a,l,r,o,s,i){return c.put("/api/users/update",{id:t,email:e,firstName:n,lastName:a,streetAddress:l,city:r,state:o,zip:s,phone:i})},u.updatePassword=function(t,e){return c.put("/api/users/updatePassword",{id:t,password:e})},u.resetPassword=function(t,e){return c.put("/api/users/resetPassword",{email:t,newPassword:e})},u.updateChild=function(t){return c.put("/api/users/updateChild",t)},u.deleteChild=function(t){return c.put("/api/users/deleteChild",t)},u.addChild=function(t,e,n,a,l){return c.post("/api/users/addChild",{adultId:t,firstName:e,lastName:n,dob:a,notes:l})},u.getAllChildren=function(){return c.get("/api/users/getAllChildren")},u.email=function(t,e){return c.post("/api/users/sendEmail",{email:t,newPassword:e})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFkbWluLmNsYXNzLmN0cmwuanMiLCJhZG1pbi5sb2dpbi5jdHJsLmpzIiwiYWRtaW4uc3ZjLmpzIiwiYWRtaW5Db250ZW50LmN0cmwuanMiLCJhZG1pbkNvbnRlbnQuc3ZjLmpzIiwiYWRtaW5hcHAuY3RybC5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJjaGlsZC5jdHJsLmpzIiwiY2xhc3Muc3ZjLmpzIiwiY2xpZW50cy5jdHJsLmpzIiwiY29udGVudC5jdHJsLmpzIiwiY29udGVudC5zdmMuanMiLCJsb2dpbi5jdHJsLmpzIiwicmVnaXN0ZXIuY3RybC5qcyIsInJlc2V0LmN0cmwuanMiLCJyb3V0ZXMuanMiLCJ1cGRhdGUuYWRtaW4uY3RybC5qcyIsInVwZGF0ZS5jdHJsLmpzIiwidXNlci5jdHJsLmpzIiwidXNlci5zdmMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJDbGFzc1NWQyIsIiRsb2NhdGlvbiIsImVucm9sbG1lbnQiLCJhZGRDbGFzcyIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ0aW1lIiwiZGF5cyIsImFsYnVtIiwidGhlbiIsInJlc3BvbnNlIiwicGF0aCIsImdldEFsbENsYXNzZXMiLCJyZXMiLCJjbGFzc2VzIiwiZGF0YSIsInNldENsYXNzVG9VcGRhdGUiLCJjbGFzc18iLCJjdXJyZW50QWRtaW4iLCJjbGFzc1RvVXBkYXRlIiwidXBkYXRlQ2xhc3MiLCJkZWxldGVDbGFzcyIsImdldEFsbENoaWxkcmVuIiwiY2hpbGRyZW4iLCJhZGRUb0NsYXNzIiwiY29uc29sZSIsImxvZyIsInB1c2giLCJpbnB1dCIsInJlbW92ZUZyb21DbGFzcyIsImluZGV4IiwiaXRlbXMiLCJzcGxpY2UiLCJBZG1pblN2YyIsImxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImxvZ2luRXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJzdGF0dXMiLCIkZW1pdCIsInJlZ2lzdGVyIiwiZW1haWwiLCJjaGVja3Bhc3MiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInBob25lIiwicmVnaXN0ZXJFcnJvciIsInNlcnZpY2UiLCIkaHR0cCIsInN2YyIsInRoaXMiLCJnZXRBZG1pbiIsImdldCIsInBvc3QiLCJjaGVja1Rva2VuIiwidG9rZW4iLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJjb21tb24iLCJ3aW5kb3ciLCJzZXNzaW9uU3RvcmFnZSIsInZhbCIsImVyciIsImxvZ291dCIsImNsZWFyIiwidXBkYXRlIiwiaWQiLCJwdXQiLCJ1cGRhdGVQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwidXBkYXRlQmlvIiwiYmlvIiwiZ2V0QWxsVXNlcnMiLCJBZG1pbkNvbnRlbnRTdmMiLCJnZXRBbGxIb21lcGFnZUVsZW1lbnRzIiwiZWxlbXMiLCJob21lcGFnZV9jb250ZW50IiwiZ2V0QWxsQ2xhc3Nlc0VsZW1lbnRzIiwiY2xhc3Nlc19jb250ZW50IiwiZ2V0QWxsQWJvdXRFbGVtZW50cyIsImFib3V0X2NvbnRlbnQiLCJnZXRBbGxGYXFFbGVtZW50cyIsImZhcV9jb250ZW50IiwiZ2V0QWxsRmFxcyIsImZhcSIsInNldEZhcVRvVXBkYXRlIiwiZmFxVG9VcGRhdGUiLCJ1cGRhdGVGYXEiLCJhZGRGYXEiLCJxdWVzdGlvbiIsImFuc3dlciIsImlucHV0RXJyb3IiLCJkZWxldGVGYXEiLCJhZGRFbGVtZW50IiwibmFtZSIsImxvY2F0aW9uIiwiZGVzYyIsInZhbHVlIiwic2V0RWxlbWVudFRvVXBkYXRlIiwiZWxlbWVudCIsImVsZW1lbnRUb1VwZGF0ZSIsInVwZGF0ZUVsZW1lbnQiLCJzdWJ0aXRsZSIsImNvbG9yIiwiaWNvbiIsImdldEFsbEVsZW1lbnRzIiwiaW5pdCIsIiRvbiIsIl8iLCJhZG1pbiIsIlVzZXJTdmMiLCJjdXJyZW50VXNlciIsInVzZXIiLCJhZGRDaGlsZCIsImFkdWx0SWQiLCJkb2IiLCJub3RlcyIsImNsaWVudHMiLCJDb250ZW50U3ZjIiwiZm9yRWFjaCIsIm1vZGlmaWVkRW1haWwiLCJ0b0xvd2VyQ2FzZSIsInN0cmVldEFkZHJlc3MiLCJjaXR5Iiwic3RhdGUiLCJ6aXAiLCJyZXNldFBhc3N3b3JkIiwiaW52YWxpZEVtYWlsIiwicGFzc3dvcmRSZXNldCIsIkludmFsaWRFbWFpbE1lc3NhZ2UiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzbGljZSIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJodG1sNU1vZGUiLCJjaGVja1Bhc3N3b3JkIiwicGFzc3dvcmRzTWF0Y2giLCJzZXRDaGlsZFRvVXBkYXRlIiwiY2hpbGQiLCJjaGlsZFRvVXBkYXRlIiwidXBkYXRlQ2hpbGQiLCJkZWxldGVDaGlsZCIsImdldFVzZXIiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLE1BQUEsQ0FDQSxZQ0RBRCxRQUFBQyxPQUFBLE9BQ0FDLFdBQUEsWUFBQSxDQUFBLFNBQUEsV0FBQSxZQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBRUFGLEVBQUFHLFdBQUEsR0FFQUgsRUFBQUksU0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBUixFQUFBRyxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBQyxLQUFBLFNBQUFDLEdBQ0FULEVBQUFVLEtBQUEscUJBSUFYLEVBQUFZLGdCQUFBSCxLQUFBLFNBQUFJLEdBQ0FkLEVBQUFlLFFBQUFELEVBQUFFLE9BR0FoQixFQUFBaUIsaUJBQUEsU0FBQUMsR0FDQWxCLEVBQUFtQixhQUFBQyxjQUFBRixHQUdBbEIsRUFBQXFCLFlBQUEsU0FBQUgsR0FDQWpCLEVBQUFvQixZQUFBSCxHQUNBUixLQUFBLFNBQUFDLEdBQ0FULEVBQUFVLEtBQUEscUJBSUFaLEVBQUFzQixZQUFBLFNBQUFKLEdBQ0FqQixFQUFBcUIsWUFBQUosR0FDQVIsS0FBQSxTQUFBQyxHQUNBVCxFQUFBVSxLQUFBLHFCQUlBWCxFQUFBc0IsaUJBQUFiLEtBQUEsU0FBQUksR0FDQWQsRUFBQXdCLFNBQUFWLEVBQUFFLE9BV0FoQixFQUFBeUIsV0FBQSxTQUFBUCxHQUNBUSxRQUFBQyxJQUFBVCxHQUNBbEIsRUFBQUcsV0FBQXlCLEtBQUE1QixFQUFBNkIsT0FDQVgsRUFBQU0sU0FBQXhCLEVBQUFHLFdBQ0FGLEVBQUF3QixXQUFBUCxJQUdBbEIsRUFBQThCLGdCQUFBLFNBQUFDLEdBQ0EvQixFQUFBZ0MsTUFBQUMsT0FBQUYsRUFBQSxPQ3REQWxDLFFBQUFDLE9BQUEsT0FDQUMsV0FBQSxpQkFBQSxDQUFBLFNBQUEsV0FBQSxZQUFBLFNBQUFDLEVBQUFrQyxFQUFBaEMsR0FFQUYsRUFBQW1DLE1BQUEsU0FBQUMsRUFBQUMsR0FDQXJDLEVBQUFzQyxZQUFBLEVBQ0F0QyxFQUFBdUMsYUFBQSxHQUVBTCxFQUFBQyxNQUFBQyxFQUFBQyxHQUNBM0IsS0FBQSxTQUFBSSxHQUNBLEdBQUEsS0FBQUEsRUFBQTBCLE9BR0EsT0FGQXhDLEVBQUF1QyxhQUFBekIsRUFBQUUsT0FDQWhCLEVBQUFzQyxZQUFBLEdBR0F0QyxFQUFBeUMsTUFBQSxRQUFBM0IsRUFBQUUsTUFDQWQsRUFBQVUsS0FBQSxxQkFLQVosRUFBQTBDLFNBQUEsU0FBQUMsRUFBQVAsRUFBQUMsRUFBQU8sRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxHQUFBVixHQUFBTyxFQUdBLE9BRkE1QyxFQUFBZ0QsZUFBQSxJQUNBaEQsRUFBQXVDLGFBQUEsK0JBSUF2QyxFQUFBZ0QsZUFBQSxFQUVBZCxFQUFBUSxTQUFBQyxFQUFBUCxFQUFBQyxFQUFBUSxFQUFBQyxFQUFBQyxHQUNBckMsS0FBQSxTQUFBQyxHQUNBWCxFQUFBeUMsTUFBQSxRQUFBOUIsRUFBQUssTUFDQWQsRUFBQVUsS0FBQSx3QkNoQ0FmLFFBQUFDLE9BQUEsT0FDQW1ELFFBQUEsV0FBQSxDQUFBLFFBQUEsU0FBQUMsR0FDQSxJQUFBQyxFQUFBQyxLQUVBRCxFQUFBRSxTQUFBLFdBQ0EsT0FBQUgsRUFBQUksSUFBQSxlQUdBSCxFQUFBVCxTQUFBLFNBQUFDLEVBQUFQLEVBQUFDLEVBQUFRLEVBQUFDLEVBQUFDLEdBQ0EsT0FBQUcsRUFBQUssS0FBQSxhQUFBLENBQ0FuQixTQUFBQSxFQUNBQyxTQUFBQSxFQUNBTSxNQUFBQSxFQUNBRSxVQUFBQSxFQUNBQyxTQUFBQSxFQUNBQyxNQUFBQSxJQUNBckMsS0FBQSxXQUNBLE9BQUF5QyxFQUFBaEIsTUFBQUMsRUFBQUMsTUFJQWMsRUFBQUssV0FBQSxTQUFBQyxHQUVBLE9BREFQLEVBQUFRLFNBQUFDLFFBQUFDLE9BQUEsVUFBQUMsT0FBQUMsZUFBQUwsTUFDQU4sRUFBQUUsWUFHQUYsRUFBQWhCLE1BQUEsU0FBQUMsRUFBQUMsR0FDQSxPQUFBYSxFQUFBSyxLQUFBLHNCQUFBLENBQ0FuQixTQUFBQSxFQUFBQyxTQUFBQSxJQUVBM0IsS0FBQSxTQUFBcUQsR0FHQSxPQUZBRixPQUFBQyxlQUFBTCxNQUFBTSxFQUFBL0MsS0FDQWtDLEVBQUFRLFNBQUFDLFFBQUFDLE9BQUEsVUFBQUcsRUFBQS9DLEtBQ0FtQyxFQUFBRSxZQUNBLFNBQUFXLEdBQ0EsT0FBQUEsS0FJQWIsRUFBQWMsT0FBQSxrQkFDQWYsRUFBQVEsU0FBQUMsUUFBQUMsT0FBQSxVQUNBRSxlQUFBSSxTQUdBZixFQUFBZ0IsT0FBQSxTQUFBQyxFQUFBaEMsRUFBQVMsRUFBQUMsRUFBQUgsRUFBQUksR0FDQSxPQUFBRyxFQUFBbUIsSUFBQSxvQkFBQSxDQUNBRCxHQUFBQSxFQUNBaEMsU0FBQUEsRUFDQVMsVUFBQUEsRUFDQUMsU0FBQUEsRUFDQUgsTUFBQUEsRUFDQUksTUFBQUEsS0FJQUksRUFBQW1CLGVBQUEsU0FBQUYsRUFBQUcsR0FDQSxPQUFBckIsRUFBQW1CLElBQUEsNEJBQUEsQ0FDQUQsR0FBQUEsRUFDQS9CLFNBQUFrQyxLQUlBcEIsRUFBQXFCLFVBQUEsU0FBQUosRUFBQUssR0FDQSxPQUFBdkIsRUFBQW1CLElBQUEsdUJBQUEsQ0FDQUQsR0FBQUEsRUFDQUssSUFBQUEsS0FJQXRCLEVBQUF1QixZQUFBLFdBQ0EsT0FBQXhCLEVBQUFJLElBQUEsOEJDdEVBekQsUUFBQUMsT0FBQSxPQUNBQyxXQUFBLG1CQUFBLENBQUEsU0FBQSxrQkFBQSxZQUFBLFNBQUFDLEVBQUEyRSxFQUFBekUsR0FHQXlFLEVBQUFDLHlCQUFBbEUsS0FBQSxTQUFBbUUsR0FDQTdFLEVBQUE4RSxpQkFBQUQsRUFBQTdELE9BR0EyRCxFQUFBSSx3QkFBQXJFLEtBQUEsU0FBQW1FLEdBQ0E3RSxFQUFBZ0YsZ0JBQUFILEVBQUE3RCxPQUdBMkQsRUFBQTlELGdCQUFBSCxLQUFBLFNBQUFJLEdBQ0FkLEVBQUFlLFFBQUFELEVBQUFFLE9BR0EyRCxFQUFBTSxzQkFBQXZFLEtBQUEsU0FBQW1FLEdBQ0E3RSxFQUFBa0YsY0FBQUwsRUFBQTdELE9BR0EyRCxFQUFBUSxvQkFBQXpFLEtBQUEsU0FBQW1FLEdBQ0E3RSxFQUFBb0YsWUFBQVAsRUFBQTdELE9BR0EyRCxFQUFBVSxhQUFBM0UsS0FBQSxTQUFBSSxHQUNBZCxFQUFBc0YsSUFBQXhFLEVBQUFFLE9BR0FoQixFQUFBdUYsZUFBQSxTQUFBRCxHQUNBdEYsRUFBQW1CLGFBQUFxRSxZQUFBRixHQUdBdEYsRUFBQXlGLFVBQUEsU0FBQUgsR0FFQVgsRUFBQWMsVUFBQUgsR0FDQTVFLEtBQUEsU0FBQUMsR0FDQVQsRUFBQVUsS0FBQSxjQUlBWixFQUFBMEYsT0FBQSxTQUFBQyxFQUFBQyxHQUlBLEdBSEE1RixFQUFBNkYsWUFBQSxFQUNBN0YsRUFBQXVDLGFBQUEsSUFFQW9ELElBQUFDLEVBR0EsT0FGQTVGLEVBQUE2RixZQUFBLE9BQ0E3RixFQUFBdUMsYUFBQSx3Q0FJQW9DLEVBQUFlLE9BQUFDLEVBQUFDLEdBQ0FsRixLQUFBLFNBQUFDLEdBQ0FULEVBQUFVLEtBQUEsY0FJQVosRUFBQThGLFVBQUEsU0FBQVIsR0FDQVgsRUFBQW1CLFVBQUFSLEdBQ0E1RSxLQUFBLFNBQUFDLEdBQ0FULEVBQUFVLEtBQUEsY0FJQVosRUFBQStGLFdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQW5HLEVBQUE2RixZQUFBLEVBQ0E3RixFQUFBdUMsYUFBQSxHQUVBb0MsRUFBQW9CLFdBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0F6RixLQUFBLFNBQUFDLEdBQ0FULEVBQUFVLEtBQUEsVUFJQVosRUFBQW9HLG1CQUFBLFNBQUFDLEdBQ0FyRyxFQUFBbUIsYUFBQW1GLGdCQUFBRCxHQUdBckcsRUFBQXVHLGNBQUEsU0FBQUYsR0FDQTFCLEVBQUE0QixjQUFBRixHQUNBM0YsS0FBQSxTQUFBQyxHQUNBVCxFQUFBVSxLQUFBLFVBSUFaLEVBQUFJLFNBQUEsU0FBQUMsRUFBQW1HLEVBQUFDLEVBQUFDLEVBQUFSLEdBS0EsR0FKQXhFLFFBQUFDLElBQUEsb0JBQ0EzQixFQUFBNkYsWUFBQSxFQUNBN0YsRUFBQXVDLGFBQUEsSUFFQWxDLElBQUE2RixFQUdBLE9BRkFsRyxFQUFBNkYsWUFBQSxPQUNBN0YsRUFBQXVDLGFBQUEsd0NBSUFvQyxFQUFBdkUsU0FBQUMsRUFBQW1HLEVBQUFDLEVBQUFDLEVBQUFSLEdBQ0F4RixLQUFBLFNBQUFDLEdBQ0FULEVBQUFVLEtBQUEscUJDakdBZixRQUFBQyxPQUFBLE9BQ0FtRCxRQUFBLGtCQUFBLENBQUEsUUFBQSxTQUFBQyxHQUNBLElBQUFDLEVBQUFDLEtBRUFELEVBQUF3RCxlQUFBLFdBQ0EsT0FBQXpELEVBQUFJLElBQUEsZ0NBR0FILEVBQUF5Qix1QkFBQSxXQUNBLE9BQUExQixFQUFBSSxJQUFBLHdDQUdBSCxFQUFBNEIsc0JBQUEsV0FDQSxPQUFBN0IsRUFBQUksSUFBQSx1Q0FHQUgsRUFBQXRDLGNBQUEsV0FDQSxPQUFBcUMsRUFBQUksSUFBQSwrQkFHQUgsRUFBQThCLG9CQUFBLFdBQ0EsT0FBQS9CLEVBQUFJLElBQUEscUNBR0FILEVBQUFnQyxrQkFBQSxXQUNBLE9BQUFqQyxFQUFBSSxJQUFBLG1DQUdBSCxFQUFBNEMsV0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBLE9BQUFqRCxFQUFBSyxLQUFBLDBCQUFBLENBQ0F5QyxLQUFBQSxFQUNBQyxTQUFBQSxFQUNBM0YsWUFBQTRGLEVBQ0FDLE1BQUFBLEtBSUFoRCxFQUFBb0QsY0FBQSxTQUFBRixHQUNBLE9BQUFuRCxFQUFBbUIsSUFBQSw2QkFBQWdDLElBR0FsRCxFQUFBa0MsV0FBQSxXQUNBLE9BQUFuQyxFQUFBSSxJQUFBLDRCQUdBSCxFQUFBdUMsT0FBQSxTQUFBQyxFQUFBQyxHQUNBLE9BQUExQyxFQUFBSyxLQUFBLHNCQUFBLENBQ0FvQyxTQUFBQSxFQUNBQyxPQUFBQSxLQUlBekMsRUFBQXNDLFVBQUEsU0FBQUgsR0FDQSxPQUFBcEMsRUFBQW1CLElBQUEseUJBQUFpQixJQUdBbkMsRUFBQTJDLFVBQUEsU0FBQVIsR0FDQSxPQUFBcEMsRUFBQW1CLElBQUEseUJBQUFpQixJQUdBbkMsRUFBQS9DLFNBQUEsU0FBQUMsRUFBQW1HLEVBQUFDLEVBQUFDLEVBQUFSLEdBRUEsT0FEQXhFLFFBQUFDLElBQUEsNkJBQ0F1QixFQUFBSyxLQUFBLHdCQUFBLENBQ0FsRCxNQUFBQSxFQUNBbUcsU0FBQUEsRUFDQUUsS0FBQUEsRUFDQUQsTUFBQUEsRUFDQW5HLFlBQUE0RixRQ25FQXJHLFFBQUFDLE9BQUEsT0FDQUMsV0FBQSxZQUFBLENBQUEsU0FBQSxXQUFBLFlBQUEsU0FBQUMsRUFBQWtDLEVBQUFoQyxHQUNBRixFQUFBNEcsS0FBQSxXQUNBL0MsT0FBQUMsZUFBQUwsT0FDQXZCLEVBQUFzQixhQUNBOUMsS0FBQSxTQUFBSSxHQUNBZCxFQUFBbUIsYUFBQUwsRUFBQUUsUUFLQWhCLEVBQUE2RyxJQUFBLFFBQUEsU0FBQUMsRUFBQUMsR0FDQS9HLEVBQUFtQixhQUFBNEYsSUFHQS9HLEVBQUFpRSxPQUFBLFdBQ0EvQixFQUFBK0IsZ0JBQ0FqRSxFQUFBbUIsYUFDQWpCLEVBQUFVLEtBQUEsY0NsQkFmLFFBQUFDLE9BQUEsT0FDQUMsV0FBQSxrQkFBQSxDQUFBLFNBQUEsVUFBQSxZQUFBLFFBQUEsU0FBQUMsRUFBQWdILEVBQUE5RyxFQUFBZ0QsR0FDQWxELEVBQUE0RyxLQUFBLFdBQ0EvQyxPQUFBQyxlQUFBTCxPQUNBdUQsRUFBQXhELGFBQ0E5QyxLQUFBLFNBQUFJLEdBQ0FkLEVBQUFpSCxZQUFBbkcsRUFBQUUsUUFLQWhCLEVBQUE2RyxJQUFBLFFBQUEsU0FBQUMsRUFBQUksR0FDQWxILEVBQUFpSCxZQUFBQyxJQUdBbEgsRUFBQWlFLE9BQUEsV0FDQStDLEVBQUEvQyxnQkFDQWpFLEVBQUFpSCxZQUNBL0csRUFBQVUsS0FBQSxjQ2xCQWYsUUFBQUMsT0FBQSxPQUNBQyxXQUFBLFlBQUEsQ0FBQSxTQUFBLFVBQUEsWUFBQSxTQUFBQyxFQUFBZ0gsRUFBQTlHLEdBRUFGLEVBQUFtSCxTQUFBLFNBQUFDLEVBQUF2RSxFQUFBQyxFQUFBdUUsRUFBQUMsR0FDQU4sRUFBQUcsU0FBQUMsRUFBQXZFLEVBQUFDLEVBQUF1RSxFQUFBQyxHQUNBNUcsS0FBQSxTQUFBQyxHQUNBVCxFQUFBVSxLQUFBLHVCQ05BZixRQUFBQyxPQUFBLE9BQ0FtRCxRQUFBLFdBQUEsQ0FBQSxRQUFBLFNBQUFDLEdBQ0EsSUFBQUMsRUFBQUMsS0FNQUQsRUFBQS9DLFNBQUEsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxPQUFBeUMsRUFBQUssS0FBQSx3QkFBQSxDQUNBbEQsTUFBQUEsRUFDQUMsWUFBQUEsRUFDQUMsS0FBQUEsRUFDQUMsS0FBQUEsRUFDQUMsTUFBQUEsS0FJQTBDLEVBQUE5QixZQUFBLFNBQUFILEdBQ0EsT0FBQWdDLEVBQUFtQixJQUFBLDJCQUFBbkQsSUFHQWlDLEVBQUE3QixZQUFBLFNBQUFKLEdBQ0EsT0FBQWdDLEVBQUFtQixJQUFBLDJCQUFBbkQsSUFHQWlDLEVBQUF0QyxjQUFBLFdBQ0EsT0FBQXFDLEVBQUFJLElBQUEsK0JBR0FILEVBQUE1QixlQUFBLFdBQ0EsT0FBQTJCLEVBQUFJLElBQUEsZ0NBT0FILEVBQUExQixXQUFBLFdBQ0EsT0FBQXlCLEVBQUFtQixJQUFBLCtCQ3ZDQXhFLFFBQUFDLE9BQUEsT0FDQUMsV0FBQSxjQUFBLENBQUEsU0FBQSxXQUFBLFNBQUFDLEVBQUFrQyxHQUNBQSxFQUFBd0MsY0FBQWhFLEtBQUEsU0FBQUksR0FDQWQsRUFBQXVILFFBQUF6RyxFQUFBRSxVQ0hBbkIsUUFBQUMsT0FBQSxPQUNBQyxXQUFBLGNBQUEsQ0FBQSxTQUFBLGFBQUEsU0FBQUMsRUFBQXdILEdBRUFBLEVBQUFiLGlCQUFBakcsS0FBQSxTQUFBbUUsR0FDQWhGLFFBQUE0SCxRQUFBNUMsRUFBQTdELEtBQUEsU0FBQW1GLEVBQUFwRSxHQUNBL0IsRUFBQW1HLEVBQUFILE1BQUFHLEVBQUFBLFVBSUFxQixFQUFBM0csZ0JBQUFILEtBQUEsU0FBQUksR0FDQWQsRUFBQWUsUUFBQUQsRUFBQUUsT0FHQXdHLEVBQUFuQyxhQUFBM0UsS0FBQSxTQUFBSSxHQUNBZCxFQUFBc0YsSUFBQXhFLEVBQUFFLFVDZEFuQixRQUFBQyxPQUFBLE9BQ0FtRCxRQUFBLGFBQUEsQ0FBQSxRQUFBLFNBQUFDLEdBQ0FFLEtBRUF1RCxlQUFBLFdBQ0EsT0FBQXpELEVBQUFJLElBQUEsZ0NBSEFGLEtBTUF2QyxjQUFBLFdBQ0EsT0FBQXFDLEVBQUFJLElBQUEsK0JBUEFGLEtBVUFpQyxXQUFBLFdBQ0EsT0FBQW5DLEVBQUFJLElBQUEsK0JDYkF6RCxRQUFBQyxPQUFBLE9BQ0FDLFdBQUEsWUFBQSxDQUFBLFNBQUEsVUFBQSxZQUFBLFNBQUFDLEVBQUFnSCxFQUFBOUcsR0FFQUYsRUFBQW1DLE1BQUEsU0FBQVEsRUFBQU4sR0FDQXJDLEVBQUFzQyxZQUFBLEVBQ0F0QyxFQUFBdUMsYUFBQSxHQUVBLElBQUFtRixFQUFBL0UsRUFBQWdGLGNBRUFYLEVBQUE3RSxNQUFBdUYsRUFBQXJGLEdBQ0EzQixLQUFBLFNBQUFJLEdBQ0EsR0FBQSxLQUFBQSxFQUFBMEIsT0FHQSxPQUZBeEMsRUFBQXVDLGFBQUF6QixFQUFBRSxPQUNBaEIsRUFBQXNDLFlBQUEsR0FHQXRDLEVBQUF5QyxNQUFBLFFBQUEzQixFQUFBRSxNQUNBZCxFQUFBVSxLQUFBLHVCQ2pCQWYsUUFBQUMsT0FBQSxPQUNBQyxXQUFBLGVBQUEsQ0FBQSxTQUFBLFVBQUEsWUFBQSxTQUFBQyxFQUFBZ0gsRUFBQTlHLEdBRUFGLEVBQUEwQyxTQUFBLFNBQUFDLEVBQUFOLEVBQUFPLEVBQUFDLEVBQUFDLEVBQUE4RSxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBaEYsR0FDQSxHQUFBVixHQUFBTyxFQUdBLE9BRkE1QyxFQUFBZ0QsZUFBQSxJQUNBaEQsRUFBQXVDLGFBQUEsK0JBSUF2QyxFQUFBZ0QsZUFBQSxFQUVBLElBQUEwRSxFQUFBL0UsRUFBQWdGLGNBRUFYLEVBQUF0RSxTQUFBZ0YsRUFBQXJGLEVBQUFRLEVBQUFDLEVBQUE4RSxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBaEYsR0FDQXJDLEtBQUEsU0FBQUMsR0FDQVgsRUFBQXlDLE1BQUEsUUFBQTlCLEVBQUFLLE1BQ0FkLEVBQUFVLEtBQUEsdUJDakJBZixRQUFBQyxPQUFBLE9BQ0FDLFdBQUEsWUFBQSxDQUFBLFNBQUEsVUFBQSxZQUFBLFNBQUFDLEVBQUFnSCxFQUFBOUcsR0FDQUYsRUFBQWdJLGNBQUEsU0FBQXJGLEdBQ0EzQyxFQUFBaUksY0FBQSxFQUNBakksRUFBQWtJLGVBQUEsRUFDQWxJLEVBQUFtSSxvQkFBQSxHQUNBLElBQUFULEVBQUEvRSxFQUFBZ0YsY0FDQXBELEVBQUE2RCxLQUFBQyxTQUFBQyxTQUFBLElBQUFDLE9BQUEsSUFFQXZCLEVBQUFnQixjQUFBTixFQUFBbkQsR0FDQTdELEtBQUEsU0FBQUksR0FDQSxHQUFBLEtBQUFBLEVBQUEwQixPQUlBLE9BSEFkLFFBQUFDLElBQUEsMEJBQ0EzQixFQUFBaUksYUFBQW5ILEVBQUFFLE9BQ0FoQixFQUFBaUksY0FBQSxHQUlBakksRUFBQWtJLGVBQUEsRUFDQWxCLEVBQUFyRSxNQUFBQSxFQUFBNEIsU0NuQkExRSxRQUFBQyxPQUFBLE9BQ0EwSSxPQUFBLENBQUEsaUJBQUEsb0JBQUEsU0FBQUMsRUFBQUMsR0FDQUQsRUFDQUUsS0FBQSxJQUFBLENBQUE1SSxXQUFBLGNBQUE2SSxZQUFBLGVBQ0FELEtBQUEsV0FBQSxDQUFBNUksV0FBQSxjQUFBNkksWUFBQSxpQkFDQUQsS0FBQSxTQUFBLENBQUE1SSxXQUFBLGNBQUE2SSxZQUFBLGVBQ0FELEtBQUEsT0FBQSxDQUFBNUksV0FBQSxjQUFBNkksWUFBQSxhQUVBRCxLQUFBLFNBQUEsQ0FBQTVJLFdBQUEsWUFBQTZJLFlBQUEsZUFDQUQsS0FBQSxZQUFBLENBQUE1SSxXQUFBLGVBQUE2SSxZQUFBLHNCQUNBRCxLQUFBLGtCQUFBLENBQUE1SSxXQUFBLFlBQUE2SSxZQUFBLHdCQUVBRCxLQUFBLGdCQUFBLENBQUE1SSxXQUFBLFdBQUE2SSxZQUFBLDJCQUNBRCxLQUFBLHVCQUFBLENBQUE1SSxXQUFBLGFBQUE2SSxZQUFBLGtDQUNBRCxLQUFBLHdCQUFBLENBQUE1SSxXQUFBLGFBQUE2SSxZQUFBLG1DQUVBRCxLQUFBLGFBQUEsQ0FBQTVJLFdBQUEsWUFBQTZJLFlBQUEsd0JBQ0FELEtBQUEsZ0JBQUEsQ0FBQTVJLFdBQUEsV0FBQTZJLFlBQUEsMkJBRUFELEtBQUEsZ0JBQUEsQ0FBQUMsWUFBQSwyQkFDQUQsS0FBQSxlQUFBLENBQUFDLFlBQUEsMEJBQ0FELEtBQUEsaUJBQUEsQ0FBQUMsWUFBQSw0QkFDQUQsS0FBQSxjQUFBLENBQUFDLFlBQUEseUJBRUFELEtBQUEsU0FBQSxDQUFBNUksV0FBQSxpQkFBQTZJLFlBQUEsMkJBQ0FELEtBQUEsa0JBQUEsQ0FBQTVJLFdBQUEsaUJBQUE2SSxZQUFBLDRCQUVBRCxLQUFBLGlCQUFBLENBQUFDLFlBQUEsNkJBQ0FELEtBQUEsd0JBQUEsQ0FBQTVJLFdBQUEsa0JBQUE2SSxZQUFBLG9DQUNBRCxLQUFBLHlCQUFBLENBQUE1SSxXQUFBLGtCQUFBNkksWUFBQSxxQ0FDQUQsS0FBQSxvQkFBQSxDQUFBNUksV0FBQSxrQkFBQTZJLFlBQUEsZ0NBRUFELEtBQUEsaUJBQUEsQ0FBQTVJLFdBQUEsWUFBQTZJLFlBQUEsNkJBQ0FELEtBQUEsbUJBQUEsQ0FBQTVJLFdBQUEsWUFBQTZJLFlBQUEsK0JBQ0FELEtBQUEsc0JBQUEsQ0FBQTVJLFdBQUEsWUFBQTZJLFlBQUEsa0NBRUFELEtBQUEsaUJBQUEsQ0FBQTVJLFdBQUEsY0FBQTZJLFlBQUEsNkJBQ0FELEtBQUEsZ0JBQUEsQ0FBQUMsWUFBQSw0QkFDQUQsS0FBQSxrQkFBQSxDQUFBQyxZQUFBLDhCQUNBRCxLQUFBLGVBQUEsQ0FBQUMsWUFBQSwyQkFFQUQsS0FBQSxNQUFBLENBQUE1SSxXQUFBLG1CQUFBNkksWUFBQSxlQUNBRCxLQUFBLGtCQUFBLENBQUE1SSxXQUFBLG1CQUFBNkksWUFBQSwyQkFDQUQsS0FBQSxtQkFBQSxDQUFBNUksV0FBQSxtQkFBQTZJLFlBQUEsNEJBRUFELEtBQUEsZUFBQSxDQUFBNUksV0FBQSxtQkFBQTZJLFlBQUEsd0JBQ0FELEtBQUEsY0FBQSxDQUFBNUksV0FBQSxtQkFBQTZJLFlBQUEsdUJBQ0FELEtBQUEsWUFBQSxDQUFBNUksV0FBQSxtQkFBQTZJLFlBQUEscUJBRUFELEtBQUEsZ0JBQUEsQ0FBQTVJLFdBQUEsbUJBQUE2SSxZQUFBLHlCQUNBRCxLQUFBLGlCQUFBLENBQUE1SSxXQUFBLG1CQUFBNkksWUFBQSwwQkFFQUQsS0FBQSxVQUFBLENBQUE1SSxXQUFBLG1CQUFBNkksWUFBQSxtQkFDQUQsS0FBQSxjQUFBLENBQUE1SSxXQUFBLG1CQUFBNkksWUFBQSx1QkFDQUQsS0FBQSxlQUFBLENBQUE1SSxXQUFBLG1CQUFBNkksWUFBQSx3QkFFQUYsRUFBQUcsV0FBQSxNQ3hEQWhKLFFBQUFDLE9BQUEsT0FDQUMsV0FBQSxrQkFBQSxDQUFBLFNBQUEsV0FBQSxZQUFBLFNBQUFDLEVBQUFrQyxFQUFBaEMsR0FDQUYsRUFBQW1FLE9BQUEsU0FBQUMsRUFBQWhDLEVBQUFTLEVBQUFDLEVBQUFILEVBQUFJLEdBQ0FiLEVBQUFpQyxPQUFBQyxFQUFBaEMsRUFBQVMsRUFBQUMsRUFBQUgsRUFBQUksR0FDQXJDLEtBQUEsU0FBQUMsR0FDQVQsRUFBQVUsS0FBQSxxQkFJQVosRUFBQXNFLGVBQUEsU0FBQUYsRUFBQUcsRUFBQXVFLEdBQ0EsR0FBQXZFLEdBQUF1RSxFQUVBLFFBREE5SSxFQUFBK0ksZ0JBQUEsR0FJQS9JLEVBQUErSSxnQkFBQSxFQUVBN0csRUFBQW9DLGVBQUFGLEVBQUFHLEdBQ0E3RCxLQUFBLFNBQUFJLEdBQ0FaLEVBQUFVLEtBQUEscUJBSUFaLEVBQUF3RSxVQUFBLFNBQUFKLEVBQUFLLEdBQ0F2QyxFQUFBc0MsVUFBQUosRUFBQUssR0FDQS9ELEtBQUEsU0FBQUksR0FDQVosRUFBQVUsS0FBQSx3QkMxQkFmLFFBQUFDLE9BQUEsT0FDQUMsV0FBQSxhQUFBLENBQUEsU0FBQSxVQUFBLFlBQUEsU0FBQUMsRUFBQWdILEVBQUE5RyxHQUNBRixFQUFBbUUsT0FBQSxTQUFBQyxFQUFBekIsRUFBQUUsRUFBQUMsRUFBQThFLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFoRixHQUVBLElBQUEyRSxFQUFBL0UsRUFBQWdGLGNBRUFYLEVBQUE3QyxPQUFBQyxFQUFBc0QsRUFBQTdFLEVBQUFDLEVBQUE4RSxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBaEYsR0FDQXJDLEtBQUEsU0FBQUMsR0FDQVgsRUFBQWlILFlBQUF0RSxNQUFBK0UsRUFDQXhILEVBQUFVLEtBQUEsb0JBSUFaLEVBQUFzRSxlQUFBLFNBQUFGLEVBQUFHLEVBQUF1RSxHQUNBLEdBQUF2RSxHQUFBdUUsRUFFQSxRQURBOUksRUFBQStJLGdCQUFBLEdBSUEvSSxFQUFBK0ksZ0JBQUEsRUFFQS9CLEVBQUExQyxlQUFBRixFQUFBRyxHQUNBN0QsS0FBQSxTQUFBSSxHQUNBWixFQUFBVSxLQUFBLHVCQ3ZCQWYsUUFBQUMsT0FBQSxPQUNBQyxXQUFBLFdBQUEsQ0FBQSxTQUFBLFVBQUEsWUFBQSxTQUFBQyxFQUFBZ0gsRUFBQTlHLEdBRUE4RyxFQUFBekYsaUJBQUFiLEtBQUEsU0FBQUksR0FDQWQsRUFBQXdCLFNBQUFWLEVBQUFFLE9BR0FoQixFQUFBZ0osaUJBQUEsU0FBQUMsR0FDQWpKLEVBQUFpSCxZQUFBaUMsY0FBQUQsR0FHQWpKLEVBQUFtSixZQUFBLFNBQUFGLEdBQ0FqQyxFQUFBbUMsWUFBQUYsR0FDQXZJLEtBQUEsU0FBQUMsR0FDQVQsRUFBQVUsS0FBQSxvQkFJQVosRUFBQW9KLFlBQUEsU0FBQUgsR0FDQWpDLEVBQUFvQyxZQUFBSCxHQUNBdkksS0FBQSxTQUFBQyxHQUNBVCxFQUFBVSxLQUFBLHVCQ3JCQWYsUUFBQUMsT0FBQSxPQUNBbUQsUUFBQSxVQUFBLENBQUEsUUFBQSxTQUFBQyxHQUNBLElBQUFDLEVBQUFDLEtBRUFELEVBQUFrRyxRQUFBLFdBQ0EsT0FBQW5HLEVBQUFJLElBQUEsZUFHQUgsRUFBQVQsU0FBQSxTQUFBQyxFQUFBTixFQUFBUSxFQUFBQyxFQUFBOEUsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQWhGLEdBQ0EsT0FBQUcsRUFBQUssS0FBQSxhQUFBLENBQ0FaLE1BQUFBLEVBQ0FOLFNBQUFBLEVBQ0FRLFVBQUFBLEVBQ0FDLFNBQUFBLEVBQ0E4RSxjQUFBQSxFQUNBQyxLQUFBQSxFQUNBQyxNQUFBQSxFQUNBQyxJQUFBQSxFQUNBaEYsTUFBQUEsSUFDQXJDLEtBQUEsV0FDQSxPQUFBeUMsRUFBQWhCLE1BQUFRLEVBQUFOLE1BSUFjLEVBQUFLLFdBQUEsV0FFQSxPQURBTixFQUFBUSxTQUFBQyxRQUFBQyxPQUFBLFVBQUFDLE9BQUFDLGVBQUFMLE1BQ0FOLEVBQUFrRyxXQUdBbEcsRUFBQWhCLE1BQUEsU0FBQVEsRUFBQU4sR0FDQSxPQUFBYSxFQUFBSyxLQUFBLGdCQUFBLENBQ0FaLE1BQUFBLEVBQUFOLFNBQUFBLElBRUEzQixLQUFBLFNBQUFxRCxHQUdBLE9BRkFGLE9BQUFDLGVBQUFMLE1BQUFNLEVBQUEvQyxLQUNBa0MsRUFBQVEsU0FBQUMsUUFBQUMsT0FBQSxVQUFBRyxFQUFBL0MsS0FDQW1DLEVBQUFrRyxXQUNBLFNBQUFyRixHQUNBLE9BQUFBLEtBSUFiLEVBQUFjLE9BQUEsa0JBQ0FmLEVBQUFRLFNBQUFDLFFBQUFDLE9BQUEsVUFDQUUsZUFBQUksU0FHQWYsRUFBQWdCLE9BQUEsU0FBQUMsRUFBQXpCLEVBQUFFLEVBQUFDLEVBQUE4RSxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBaEYsR0FDQSxPQUFBRyxFQUFBbUIsSUFBQSxvQkFBQSxDQUNBRCxHQUFBQSxFQUNBekIsTUFBQUEsRUFDQUUsVUFBQUEsRUFDQUMsU0FBQUEsRUFDQThFLGNBQUFBLEVBQ0FDLEtBQUFBLEVBQ0FDLE1BQUFBLEVBQ0FDLElBQUFBLEVBQ0FoRixNQUFBQSxLQUlBSSxFQUFBbUIsZUFBQSxTQUFBRixFQUFBRyxHQUNBLE9BQUFyQixFQUFBbUIsSUFBQSw0QkFBQSxDQUNBRCxHQUFBQSxFQUNBL0IsU0FBQWtDLEtBSUFwQixFQUFBNkUsY0FBQSxTQUFBckYsRUFBQTRCLEdBQ0EsT0FBQXJCLEVBQUFtQixJQUFBLDJCQUFBLENBQ0ExQixNQUFBQSxFQUNBNEIsWUFBQUEsS0FJQXBCLEVBQUFnRyxZQUFBLFNBQUFGLEdBQ0EsT0FBQS9GLEVBQUFtQixJQUFBLHlCQUFBNEUsSUFHQTlGLEVBQUFpRyxZQUFBLFNBQUFILEdBQ0EsT0FBQS9GLEVBQUFtQixJQUFBLHlCQUFBNEUsSUFHQTlGLEVBQUFnRSxTQUFBLFNBQUFDLEVBQUF2RSxFQUFBQyxFQUFBdUUsRUFBQUMsR0FDQSxPQUFBcEUsRUFBQUssS0FBQSxzQkFBQSxDQUNBNkQsUUFBQUEsRUFDQXZFLFVBQUFBLEVBQ0FDLFNBQUFBLEVBQ0F1RSxJQUFBQSxFQUNBQyxNQUFBQSxLQUlBbkUsRUFBQTVCLGVBQUEsV0FDQSxPQUFBMkIsRUFBQUksSUFBQSw4QkFHQUgsRUFBQVIsTUFBQSxTQUFBQSxFQUFBNEIsR0FDQSxPQUFBckIsRUFBQUssS0FBQSx1QkFBQSxDQUNBWixNQUFBQSxFQUNBNEIsWUFBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFtcblx0J25nUm91dGUnXG5dKSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAgIC5jb250cm9sbGVyKCdDbGFzc0N0cmwnLCBmdW5jdGlvbigkc2NvcGUsIENsYXNzU1ZDLCAkbG9jYXRpb24pIHtcblxuICAgICAgICAkc2NvcGUuZW5yb2xsbWVudCA9IFtdXG5cbiAgICAgICAgJHNjb3BlLmFkZENsYXNzID0gZnVuY3Rpb24gKHRpdGxlLCBkZXNjcmlwdGlvbiwgdGltZSwgZGF5cywgYWxidW0pIHtcbiAgICAgICAgICAgIENsYXNzU1ZDLmFkZENsYXNzKHRpdGxlLCBkZXNjcmlwdGlvbiwgdGltZSwgZGF5cywgYWxidW0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYWRtaW4tY2xhc3NlcycpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIENsYXNzU1ZDLmdldEFsbENsYXNzZXMoKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgJHNjb3BlLmNsYXNzZXMgPSByZXMuZGF0YVxuICAgICAgICB9KVxuXG4gICAgICAgICRzY29wZS5zZXRDbGFzc1RvVXBkYXRlID0gZnVuY3Rpb24oY2xhc3NfKSB7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudEFkbWluLmNsYXNzVG9VcGRhdGUgPSBjbGFzc19cbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS51cGRhdGVDbGFzcyA9IGZ1bmN0aW9uKGNsYXNzXykge1xuICAgICAgICAgICAgQ2xhc3NTVkMudXBkYXRlQ2xhc3MoY2xhc3NfKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2FkbWluLWNsYXNzZXMnKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuZGVsZXRlQ2xhc3MgPSBmdW5jdGlvbihjbGFzc18pIHtcbiAgICAgICAgICAgIENsYXNzU1ZDLmRlbGV0ZUNsYXNzKGNsYXNzXylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9hZG1pbi1jbGFzc2VzJylcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgQ2xhc3NTVkMuZ2V0QWxsQ2hpbGRyZW4oKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgJHNjb3BlLmNoaWxkcmVuID0gcmVzLmRhdGFcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBDbGFzc1NWQy5nZXRBbGxTdHVkZW50cygpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIC8vICAgICAkc2NvcGUuc3R1ZGVudHMgPSByZXMuZGF0YVxuICAgICAgICAvLyB9KVxuXG4gICAgICAgIC8vICRzY29wZS5zZXRDbGFzc1RvTW9kaWZ5Um9zdGVyID0gZnVuY3Rpb24oY2xhc3NSb3N0ZXIpIHtcbiAgICAgICAgLy8gICAgICRzY29wZS5jdXJyZW50QWRtaW4uY2xhc3NUb01vZGlmeVJvc3RlciA9IGNsYXNzUm9zdGVyXG4gICAgICAgIC8vIH1cbiAgICAgICAgLy9cbiAgICAgICAgJHNjb3BlLmFkZFRvQ2xhc3MgPSBmdW5jdGlvbihjbGFzc18pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNsYXNzXylcbiAgICAgICAgICAgICRzY29wZS5lbnJvbGxtZW50LnB1c2goJHNjb3BlLmlucHV0KVxuICAgICAgICAgICAgY2xhc3NfLmNoaWxkcmVuID0gJHNjb3BlLmVucm9sbG1lbnRcbiAgICAgICAgICAgIENsYXNzU1ZDLmFkZFRvQ2xhc3MoY2xhc3NfKVxuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnJlbW92ZUZyb21DbGFzcyA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICAkc2NvcGUuaXRlbXMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICB9O1xuICAgIH0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignQWRtaW5Mb2dpbkN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIEFkbWluU3ZjLCAkbG9jYXRpb24pIHtcblxuXHQkc2NvcGUubG9naW4gPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG5cdFx0JHNjb3BlLmxvZ2luRXJyb3IgPSBmYWxzZVxuXHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnJ1xuXG5cdFx0QWRtaW5TdmMubG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKVxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0XHRcdGlmKHJlcy5zdGF0dXMgPT0gNDAxKSB7XG5cdFx0XHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSByZXMuZGF0YVxuXHRcdFx0XHQkc2NvcGUubG9naW5FcnJvciA9IHRydWVcblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkc2NvcGUuJGVtaXQoJ2xvZ2luJywgcmVzLmRhdGEpXG5cdFx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvYWRtaW4tYWNjb3VudCcpXG5cdFx0XHR9XG5cdFx0fSlcblx0fVxuXG5cdCRzY29wZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChlbWFpbCwgdXNlcm5hbWUsIHBhc3N3b3JkLCBjaGVja3Bhc3MsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHBob25lKSB7XG5cdFx0aWYgKHBhc3N3b3JkICE9IGNoZWNrcGFzcykge1xuXHRcdFx0JHNjb3BlLnJlZ2lzdGVyRXJyb3IgPSB0cnVlXG5cdFx0XHQkc2NvcGUuZXJyb3JNZXNzYWdlID0gJ0Vycm9yOiBQYXNzd29yZHMgbXVzdCBtYXRjaCdcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdH1cblxuXHRcdCRzY29wZS5yZWdpc3RlckVycm9yID0gZmFsc2VcblxuXHRcdEFkbWluU3ZjLnJlZ2lzdGVyKGVtYWlsLCB1c2VybmFtZSwgcGFzc3dvcmQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHBob25lKVxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0JHNjb3BlLiRlbWl0KCdsb2dpbicsIHJlc3BvbnNlLmRhdGEpXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2FkbWluLWFjY291bnQnKVxuXHRcdH0pXG5cdH1cbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uc2VydmljZSgnQWRtaW5TdmMnLCBmdW5jdGlvbiAoJGh0dHApIHtcblx0dmFyIHN2YyA9IHRoaXNcblxuXHRzdmMuZ2V0QWRtaW4gPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9hZG1pbicpXG5cdH1cblxuXHRzdmMucmVnaXN0ZXIgPSBmdW5jdGlvbiAoZW1haWwsIHVzZXJuYW1lLCBwYXNzd29yZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgcGhvbmUpIHtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9hZG1pbicsIHtcblx0XHRcdHVzZXJuYW1lOiB1c2VybmFtZSxcblx0XHRcdHBhc3N3b3JkOiBwYXNzd29yZCxcblx0XHRcdGVtYWlsOiBlbWFpbCxcblx0XHRcdGZpcnN0TmFtZTogZmlyc3ROYW1lLFxuXHRcdFx0bGFzdE5hbWU6IGxhc3ROYW1lLFxuXHRcdFx0cGhvbmU6IHBob25lXG5cdFx0fSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gc3ZjLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZClcblx0XHR9KVxuXHR9XG5cblx0c3ZjLmNoZWNrVG9rZW4gPSBmdW5jdGlvbih0b2tlbikge1xuXHRcdCRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS50b2tlblxuXHRcdHJldHVybiBzdmMuZ2V0QWRtaW4oKVxuXHR9XG5cblx0c3ZjLmxvZ2luID0gZnVuY3Rpb24gKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2FkbWluLXNlc3Npb25zJywge1xuXHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lLCBwYXNzd29yZDogcGFzc3dvcmRcblx0XHR9KVxuXHRcdC50aGVuKGZ1bmN0aW9uICh2YWwpIHtcblx0XHRcdHdpbmRvdy5zZXNzaW9uU3RvcmFnZS50b2tlbiA9IHZhbC5kYXRhXG5cdFx0XHQkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ10gPSB2YWwuZGF0YVxuXHRcdFx0cmV0dXJuIHN2Yy5nZXRBZG1pbigpXG5cdFx0fSwgZnVuY3Rpb24oZXJyKSB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fSlcblx0fVxuXG5cdHN2Yy5sb2dvdXQgPSBmdW5jdGlvbigpIHtcblx0XHRkZWxldGUgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddXG5cdFx0c2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTtcblx0fVxuXG5cdHN2Yy51cGRhdGUgPSBmdW5jdGlvbiAoaWQsIHVzZXJuYW1lLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgcGhvbmUpIHtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2FkbWluL3VwZGF0ZScsIHtcblx0XHRcdGlkOiBpZCxcblx0XHRcdHVzZXJuYW1lOiB1c2VybmFtZSxcblx0XHRcdGZpcnN0TmFtZTogZmlyc3ROYW1lLFxuXHRcdFx0bGFzdE5hbWU6IGxhc3ROYW1lLFxuXHRcdFx0ZW1haWw6IGVtYWlsLFxuXHRcdFx0cGhvbmU6IHBob25lXG5cdFx0fSlcblx0fVxuXG5cdHN2Yy51cGRhdGVQYXNzd29yZCA9IGZ1bmN0aW9uIChpZCwgbmV3UGFzc3dvcmQpIHtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2FkbWluL3VwZGF0ZVBhc3N3b3JkJywge1xuXHRcdFx0aWQ6IGlkLFxuXHRcdFx0cGFzc3dvcmQ6IG5ld1Bhc3N3b3JkXG5cdFx0fSlcblx0fVxuXG5cdHN2Yy51cGRhdGVCaW8gPSBmdW5jdGlvbiAoaWQsIGJpbykge1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYWRtaW4vdXBkYXRlQmlvJywge1xuXHRcdFx0aWQ6IGlkLFxuXHRcdFx0YmlvOiBiaW9cblx0XHR9KVxuXHR9XG5cblx0c3ZjLmdldEFsbFVzZXJzID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYWRtaW4vZ2V0QWxsVXNlcnMnKVxuXHR9XG5cblx0Ly8gc3ZjLmdldEFsbENoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xuXHQvLyBcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYWRtaW4vZ2V0QWxsQ2hpbGRyZW4nKVxuXHQvLyB9XG5cbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignQWRtaW5Db250ZW50Q3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgQWRtaW5Db250ZW50U3ZjLCAkbG9jYXRpb24pIHtcblxuXG5cdEFkbWluQ29udGVudFN2Yy5nZXRBbGxIb21lcGFnZUVsZW1lbnRzKCkudGhlbihmdW5jdGlvbihlbGVtcykge1xuXHRcdCRzY29wZS5ob21lcGFnZV9jb250ZW50ID0gZWxlbXMuZGF0YVxuXHR9KVxuXG5cdEFkbWluQ29udGVudFN2Yy5nZXRBbGxDbGFzc2VzRWxlbWVudHMoKS50aGVuKGZ1bmN0aW9uKGVsZW1zKSB7XG5cdFx0JHNjb3BlLmNsYXNzZXNfY29udGVudCA9IGVsZW1zLmRhdGFcblx0fSlcblxuXHRBZG1pbkNvbnRlbnRTdmMuZ2V0QWxsQ2xhc3NlcygpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG5cdFx0JHNjb3BlLmNsYXNzZXMgPSByZXMuZGF0YVxuXHR9KVxuXG5cdEFkbWluQ29udGVudFN2Yy5nZXRBbGxBYm91dEVsZW1lbnRzKCkudGhlbihmdW5jdGlvbihlbGVtcykge1xuXHRcdCRzY29wZS5hYm91dF9jb250ZW50ID0gZWxlbXMuZGF0YVxuXHR9KVxuXG5cdEFkbWluQ29udGVudFN2Yy5nZXRBbGxGYXFFbGVtZW50cygpLnRoZW4oZnVuY3Rpb24oZWxlbXMpIHtcblx0XHQkc2NvcGUuZmFxX2NvbnRlbnQgPSBlbGVtcy5kYXRhXG5cdH0pXG5cblx0QWRtaW5Db250ZW50U3ZjLmdldEFsbEZhcXMoKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuXHRcdCRzY29wZS5mYXEgPSByZXMuZGF0YVxuXHR9KVxuXG5cdCRzY29wZS5zZXRGYXFUb1VwZGF0ZSA9IGZ1bmN0aW9uKGZhcSkge1xuXHRcdCRzY29wZS5jdXJyZW50QWRtaW4uZmFxVG9VcGRhdGUgPSBmYXFcblx0fVxuXG5cdCRzY29wZS51cGRhdGVGYXEgPSBmdW5jdGlvbihmYXEpIHtcblxuXHRcdEFkbWluQ29udGVudFN2Yy51cGRhdGVGYXEoZmFxKVxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9jbS1mYXEnKVxuXHRcdH0pXG5cdH1cblxuXHQkc2NvcGUuYWRkRmFxID0gZnVuY3Rpb24gKHF1ZXN0aW9uLCBhbnN3ZXIpIHtcblx0XHQkc2NvcGUuaW5wdXRFcnJvciA9IGZhbHNlXG5cdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICcnXG5cblx0XHRpZighcXVlc3Rpb24gfHwgIWFuc3dlcikge1xuXHRcdFx0JHNjb3BlLmlucHV0RXJyb3IgPSB0cnVlXG5cdFx0XHQkc2NvcGUuZXJyb3JNZXNzYWdlID0gJ0FsbCB0ZXh0IGZpZWxkcyBtdXN0IGNvbnRhaW4gY29udGVudCdcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdEFkbWluQ29udGVudFN2Yy5hZGRGYXEocXVlc3Rpb24sIGFuc3dlcilcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY20tZmFxJylcblx0XHR9KVxuXHR9XG5cblx0JHNjb3BlLmRlbGV0ZUZhcSA9IGZ1bmN0aW9uKGZhcSkge1xuXHRcdEFkbWluQ29udGVudFN2Yy5kZWxldGVGYXEoZmFxKVxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9jbS1mYXEnKVxuXHRcdH0pXG5cdH1cblxuXHQkc2NvcGUuYWRkRWxlbWVudCA9IGZ1bmN0aW9uIChuYW1lLCBsb2NhdGlvbiwgZGVzYywgdmFsdWUpIHtcblx0XHQkc2NvcGUuaW5wdXRFcnJvciA9IGZhbHNlXG5cdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICcnXG5cblx0XHRBZG1pbkNvbnRlbnRTdmMuYWRkRWxlbWVudChuYW1lLCBsb2NhdGlvbiwgZGVzYywgdmFsdWUpXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NtJylcblx0XHR9KVxuXHR9XG5cblx0JHNjb3BlLnNldEVsZW1lbnRUb1VwZGF0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0XHQkc2NvcGUuY3VycmVudEFkbWluLmVsZW1lbnRUb1VwZGF0ZSA9IGVsZW1lbnRcblx0fVxuXG5cdCRzY29wZS51cGRhdGVFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXHRcdEFkbWluQ29udGVudFN2Yy51cGRhdGVFbGVtZW50KGVsZW1lbnQpXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NtJylcblx0XHR9KVxuXHR9XG5cblx0JHNjb3BlLmFkZENsYXNzID0gZnVuY3Rpb24gKHRpdGxlLCBzdWJ0aXRsZSwgY29sb3IsIGljb24sIGRlc2MpIHtcblx0XHRjb25zb2xlLmxvZygnYWRkQ2xhc3MgQ2FsbGVkIScpXG5cdFx0JHNjb3BlLmlucHV0RXJyb3IgPSBmYWxzZVxuXHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnJ1xuXG5cdFx0aWYoIXRpdGxlIHx8ICFkZXNjKSB7XG5cdFx0XHQkc2NvcGUuaW5wdXRFcnJvciA9IHRydWVcblx0XHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnQWxsIHRleHQgZmllbGRzIG11c3QgY29udGFpbiBjb250ZW50J1xuXHRcdFx0cmV0dXJuXG5cdFx0fVxuXG5cdFx0QWRtaW5Db250ZW50U3ZjLmFkZENsYXNzKHRpdGxlLCBzdWJ0aXRsZSwgY29sb3IsIGljb24sIGRlc2MpXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NtLWNsYXNzZXMnKVxuXHRcdH0pXG5cdH1cbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uc2VydmljZSgnQWRtaW5Db250ZW50U3ZjJywgZnVuY3Rpb24gKCRodHRwKSB7XG5cdHZhciBzdmMgPSB0aGlzXG5cblx0c3ZjLmdldEFsbEVsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29udGVudC9nZXRBbGxFbGVtZW50cycpXG5cdH1cblxuXHRzdmMuZ2V0QWxsSG9tZXBhZ2VFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsSG9tZXBhZ2VFbGVtZW50cycpXG5cdH1cblxuXHRzdmMuZ2V0QWxsQ2xhc3Nlc0VsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29udGVudC9nZXRBbGxDbGFzc2VzRWxlbWVudHMnKVxuXHR9XG5cblx0c3ZjLmdldEFsbENsYXNzZXMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbENsYXNzZXMnKVxuXHR9XG5cblx0c3ZjLmdldEFsbEFib3V0RWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbEFib3V0RWxlbWVudHMnKVxuXHR9XG5cblx0c3ZjLmdldEFsbEZhcUVsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29udGVudC9nZXRBbGxGYXFFbGVtZW50cycpXG5cdH1cblxuXHRzdmMuYWRkRWxlbWVudCA9IGZ1bmN0aW9uIChuYW1lLCBsb2NhdGlvbiwgZGVzYywgdmFsdWUpIHtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jb250ZW50L2FkZEVsZW1lbnQnLCB7XG5cdFx0XHRuYW1lOiBuYW1lLFxuXHRcdFx0bG9jYXRpb246IGxvY2F0aW9uLFxuXHRcdFx0ZGVzY3JpcHRpb246IGRlc2MsXG5cdFx0XHR2YWx1ZTogdmFsdWVcblx0XHR9KVxuXHR9XG5cblx0c3ZjLnVwZGF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY29udGVudC91cGRhdGVFbGVtZW50JywgZWxlbWVudClcblx0fVxuXG5cdHN2Yy5nZXRBbGxGYXFzID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29udGVudC9nZXRBbGxGYXFzJylcblx0fVxuXG5cdHN2Yy5hZGRGYXEgPSBmdW5jdGlvbiAocXVlc3Rpb24sIGFuc3dlcikge1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2NvbnRlbnQvYWRkRmFxJywge1xuXHRcdFx0cXVlc3Rpb246IHF1ZXN0aW9uLFxuXHRcdFx0YW5zd2VyOiBhbnN3ZXJcblx0XHR9KVxuXHR9XG5cblx0c3ZjLnVwZGF0ZUZhcSA9IGZ1bmN0aW9uIChmYXEpIHtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2NvbnRlbnQvdXBkYXRlRmFxJywgZmFxKVxuXHR9XG5cblx0c3ZjLmRlbGV0ZUZhcSA9IGZ1bmN0aW9uIChmYXEpIHtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2NvbnRlbnQvZGVsZXRlRmFxJywgZmFxKVxuXHR9XG5cblx0c3ZjLmFkZENsYXNzID0gZnVuY3Rpb24gKHRpdGxlLCBzdWJ0aXRsZSwgY29sb3IsIGljb24sIGRlc2MpIHtcblx0XHRjb25zb2xlLmxvZygnU2VydmljZSBhZGQgY2xhc3MgY2FsbGVkIScpXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvY29udGVudC9hZGRDbGFzcycsIHtcblx0XHRcdHRpdGxlOiB0aXRsZSxcblx0XHRcdHN1YnRpdGxlOiBzdWJ0aXRsZSxcblx0XHRcdGljb246IGljb24sXG5cdFx0XHRjb2xvcjogY29sb3IsXG5cdFx0XHRkZXNjcmlwdGlvbjogZGVzY1xuXHRcdH0pXG5cdH1cblxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdBZG1pbkN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCBBZG1pblN2YywgJGxvY2F0aW9uKSB7XG5cdCRzY29wZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuXHRcdGlmKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS50b2tlbikge1xuXHRcdFx0QWRtaW5TdmMuY2hlY2tUb2tlbigpXG5cdFx0XHQudGhlbihmdW5jdGlvbihyZXMpIHtcblx0XHRcdFx0JHNjb3BlLmN1cnJlbnRBZG1pbiA9IHJlcy5kYXRhXG5cdFx0XHR9KVxuXHRcdH1cblx0fVxuXG5cdCRzY29wZS4kb24oJ2xvZ2luJywgZnVuY3Rpb24oXywgYWRtaW4pIHtcblx0XHQkc2NvcGUuY3VycmVudEFkbWluID0gYWRtaW5cblx0fSlcblxuXHQkc2NvcGUubG9nb3V0ID0gZnVuY3Rpb24oKSB7XG5cdFx0QWRtaW5TdmMubG9nb3V0KClcblx0XHRkZWxldGUgJHNjb3BlLmN1cnJlbnRBZG1pblxuXHRcdCRsb2NhdGlvbi5wYXRoKCcvYWRtaW4nKVxuXHR9XG5cbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignQXBwbGljYXRpb25DdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uLCAkaHR0cCkge1xuXHQkc2NvcGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcblx0XHRpZih3aW5kb3cuc2Vzc2lvblN0b3JhZ2UudG9rZW4pIHtcblx0XHRcdFVzZXJTdmMuY2hlY2tUb2tlbigpXG5cdFx0XHQudGhlbihmdW5jdGlvbihyZXMpIHtcblx0XHRcdFx0JHNjb3BlLmN1cnJlbnRVc2VyID0gcmVzLmRhdGFcblx0XHRcdH0pXG5cdFx0fVxuXHR9XG5cblx0JHNjb3BlLiRvbignbG9naW4nLCBmdW5jdGlvbihfLCB1c2VyKSB7XG5cdFx0JHNjb3BlLmN1cnJlbnRVc2VyID0gdXNlclxuXHR9KVxuXG5cdCRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpIHtcblx0XHRVc2VyU3ZjLmxvZ291dCgpXG5cdFx0ZGVsZXRlICRzY29wZS5jdXJyZW50VXNlclxuXHRcdCRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKVxuXHR9XG5cbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignQ2hpbGRDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjLCAkbG9jYXRpb24pIHtcblxuXHQkc2NvcGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiAoYWR1bHRJZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZG9iLCBub3Rlcykge1xuXHRcdFVzZXJTdmMuYWRkQ2hpbGQoYWR1bHRJZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZG9iLCBub3Rlcylcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvdXNlci1hY2NvdW50Jylcblx0XHR9KVxuXHR9XG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAgIC5zZXJ2aWNlKCdDbGFzc1NWQycsIGZ1bmN0aW9uICgkaHR0cCkge1xuICAgICAgICB2YXIgc3ZjID0gdGhpc1xuXG4gICAgICAgIC8vIHN2Yy5nZXRBZG1pbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2xhc3NlcycpXG4gICAgICAgIC8vIH1cblxuICAgICAgICBzdmMuYWRkQ2xhc3MgPSBmdW5jdGlvbiAodGl0bGUsIGRlc2NyaXB0aW9uLCB0aW1lLCBkYXlzLCBhbGJ1bSkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvY2xhc3Nlcy9hZGRDbGFzcycsIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgICAgICAgICAgZGF5czogZGF5cyxcbiAgICAgICAgICAgICAgICBhbGJ1bTogYWxidW1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBzdmMudXBkYXRlQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NfKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2NsYXNzZXMvdXBkYXRlQ2xhc3MnLCBjbGFzc18pXG4gICAgICAgIH1cblxuICAgICAgICBzdmMuZGVsZXRlQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NfKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2NsYXNzZXMvZGVsZXRlQ2xhc3MnLCBjbGFzc18pXG4gICAgICAgIH1cblxuICAgICAgICBzdmMuZ2V0QWxsQ2xhc3NlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2xhc3Nlcy9nZXRBbGxDbGFzc2VzJylcbiAgICAgICAgfVxuXG4gICAgICAgIHN2Yy5nZXRBbGxDaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2xhc3Nlcy9nZXRBbGxDaGlsZHJlbicpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdmMuZ2V0QWxsU3R1ZGVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NsYXNzZXMvZ2V0QWxsU3R1ZGVudHMnKVxuICAgICAgICAvLyB9XG5cbiAgICAgICAgc3ZjLmFkZFRvQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2NsYXNzZXMvYWRkVG9DbGFzcycpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdmMucmVtb3ZlRnJvbUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9jbGFzc2VzL3JlbW92ZUZyb21DbGFzcycpXG4gICAgICAgIC8vIH1cblxuICAgIH0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignQ2xpZW50c0N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCBBZG1pblN2Yykge1xuICAgIEFkbWluU3ZjLmdldEFsbFVzZXJzKCkudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgJHNjb3BlLmNsaWVudHMgPSByZXMuZGF0YVxuICAgIH0pXG5cbiAgICAvLyBBZG1pblN2Yy5nZXRBbGxDaGlsZHJlbigpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgLy8gICAgICRzY29wZS5jaGlsZHJlbiA9IHJlcy5kYXRhXG4gICAgLy8gfSlcblxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdDb250ZW50Q3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgQ29udGVudFN2Yykge1xuXG5cdENvbnRlbnRTdmMuZ2V0QWxsRWxlbWVudHMoKS50aGVuKGZ1bmN0aW9uKGVsZW1zKSB7XG5cdFx0YW5ndWxhci5mb3JFYWNoKGVsZW1zLmRhdGEsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuXHRcdFx0JHNjb3BlW3ZhbHVlLm5hbWVdID0gdmFsdWUudmFsdWVcblx0XHR9KVxuXHR9KVxuXG5cdENvbnRlbnRTdmMuZ2V0QWxsQ2xhc3NlcygpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG5cdFx0JHNjb3BlLmNsYXNzZXMgPSByZXMuZGF0YVxuXHR9KVxuXG5cdENvbnRlbnRTdmMuZ2V0QWxsRmFxcygpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG5cdFx0JHNjb3BlLmZhcSA9IHJlcy5kYXRhXG5cdH0pXG5cbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uc2VydmljZSgnQ29udGVudFN2YycsIGZ1bmN0aW9uICgkaHR0cCkge1xuXHR2YXIgc3ZjID0gdGhpc1xuXG5cdHN2Yy5nZXRBbGxFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsRWxlbWVudHMnKVxuXHR9XG5cblx0c3ZjLmdldEFsbENsYXNzZXMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbENsYXNzZXMnKVxuXHR9XG5cblx0c3ZjLmdldEFsbEZhcXMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbEZhcXMnKVxuXHR9XG5cbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignTG9naW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjLCAkbG9jYXRpb24pIHtcblxuXHQkc2NvcGUubG9naW4gPSBmdW5jdGlvbiAoZW1haWwsIHBhc3N3b3JkKSB7XG5cdFx0JHNjb3BlLmxvZ2luRXJyb3IgPSBmYWxzZVxuXHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnJ1xuXG5cdFx0dmFyIG1vZGlmaWVkRW1haWwgPSBlbWFpbC50b0xvd2VyQ2FzZSgpXG5cblx0XHRVc2VyU3ZjLmxvZ2luKG1vZGlmaWVkRW1haWwsIHBhc3N3b3JkKVxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0XHRcdGlmKHJlcy5zdGF0dXMgPT0gNDAxKSB7XG5cdFx0XHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSByZXMuZGF0YVxuXHRcdFx0XHQkc2NvcGUubG9naW5FcnJvciA9IHRydWVcblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkc2NvcGUuJGVtaXQoJ2xvZ2luJywgcmVzLmRhdGEpXG5cdFx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvdXNlci1hY2NvdW50Jylcblx0XHRcdH1cblx0XHR9KVxuXHR9XG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uKSB7XG5cblx0JHNjb3BlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGVtYWlsLCBwYXNzd29yZCwgY2hlY2twYXNzLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBzdHJlZXRBZGRyZXNzLCBjaXR5LCBzdGF0ZSwgemlwLCBwaG9uZSkge1xuXHRcdGlmIChwYXNzd29yZCAhPSBjaGVja3Bhc3MpIHtcblx0XHRcdCRzY29wZS5yZWdpc3RlckVycm9yID0gdHJ1ZVxuXHRcdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICdFcnJvcjogUGFzc3dvcmRzIG11c3QgbWF0Y2gnXG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHR9XG5cblx0XHQkc2NvcGUucmVnaXN0ZXJFcnJvciA9IGZhbHNlXG5cblx0XHR2YXIgbW9kaWZpZWRFbWFpbCA9IGVtYWlsLnRvTG93ZXJDYXNlKClcblxuXHRcdFVzZXJTdmMucmVnaXN0ZXIobW9kaWZpZWRFbWFpbCwgcGFzc3dvcmQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHN0cmVldEFkZHJlc3MsIGNpdHksIHN0YXRlLCB6aXAsIHBob25lKVxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0JHNjb3BlLiRlbWl0KCdsb2dpbicsIHJlc3BvbnNlLmRhdGEpXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL3VzZXItYWNjb3VudCcpXG5cdFx0fSlcblx0fVxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdSZXNldEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXJTdmMsICRsb2NhdGlvbikge1xuICAgICRzY29wZS5yZXNldFBhc3N3b3JkID0gZnVuY3Rpb24gKGVtYWlsKSB7XG4gICAgICAgICRzY29wZS5pbnZhbGlkRW1haWwgPSBmYWxzZVxuICAgICAgICAkc2NvcGUucGFzc3dvcmRSZXNldCA9IGZhbHNlXG4gICAgICAgICRzY29wZS5JbnZhbGlkRW1haWxNZXNzYWdlID0gJydcbiAgICAgICAgdmFyIG1vZGlmaWVkRW1haWwgPSBlbWFpbC50b0xvd2VyQ2FzZSgpXG4gICAgICAgIHZhciBuZXdQYXNzd29yZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKC0xMCk7XG5cbiAgICAgICAgVXNlclN2Yy5yZXNldFBhc3N3b3JkKG1vZGlmaWVkRW1haWwsIG5ld1Bhc3N3b3JkKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgIGlmKHJlcy5zdGF0dXMgPT0gNDAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYXBwbHlpbmcgaW52YWxpZCBlbWFpbFwiKVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW52YWxpZEVtYWlsID0gcmVzLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkRW1haWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGFzc3dvcmRSZXNldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIFVzZXJTdmMuZW1haWwoZW1haWwsIG5ld1Bhc3N3b3JkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgfVxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcblx0LmNvbmZpZyhmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG5cdFx0XHQkcm91dGVQcm92aWRlclxuXHRcdFx0LndoZW4oJy8nLCB7IGNvbnRyb2xsZXI6ICdDb250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnaW5kZXguaHRtbCcgfSlcblx0XHRcdC53aGVuKCcvY2xhc3NlcycsIHsgY29udHJvbGxlcjogJ0NvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbGFzc2VzLmh0bWwnIH0pXG5cdFx0XHQud2hlbignL2Fib3V0JywgeyBjb250cm9sbGVyOiAnQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2Fib3V0Lmh0bWwnIH0pXG5cdFx0XHQud2hlbignL2ZhcScsIHsgY29udHJvbGxlcjogJ0NvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdmYXEuaHRtbCcgfSlcblxuXHRcdFx0LndoZW4oJy9sb2dpbicsIHsgY29udHJvbGxlcjogJ0xvZ2luQ3RybCcsIHRlbXBsYXRlVXJsOiAnbG9naW4uaHRtbCcgfSlcblx0XHRcdC53aGVuKCcvcmVnaXN0ZXInLCB7IGNvbnRyb2xsZXI6ICdSZWdpc3RlckN0cmwnLCB0ZW1wbGF0ZVVybDogJ3JlZ2lzdHJhdGlvbi5odG1sJyB9KVxuXHRcdFx0LndoZW4oJy9yZXNldC1wYXNzd29yZCcsIHsgY29udHJvbGxlcjogJ1Jlc2V0Q3RybCcsIHRlbXBsYXRlVXJsOiAncmVzZXQtcGFzc3dvcmQuaHRtbCd9KVxuXHRcdFx0XG5cdFx0XHQud2hlbignL3VzZXItYWNjb3VudCcsIHsgY29udHJvbGxlcjogJ1VzZXJDdHJsJywgdGVtcGxhdGVVcmw6ICd1c2VyL3VzZXItYWNjb3VudC5odG1sJyB9KVxuXHRcdFx0LndoZW4oJy91cGRhdGUtdXNlci1hY2NvdW50JywgeyBjb250cm9sbGVyOiAnVXBkYXRlQ3RybCcsIHRlbXBsYXRlVXJsOiAndXNlci91cGRhdGUtdXNlci1hY2NvdW50Lmh0bWwnIH0pXG5cdFx0XHQud2hlbignL3VwZGF0ZS11c2VyLXBhc3N3b3JkJywgeyBjb250cm9sbGVyOiAnVXBkYXRlQ3RybCcsIHRlbXBsYXRlVXJsOiAndXNlci91cGRhdGUtdXNlci1wYXNzd29yZC5odG1sJyB9KVxuXG5cdFx0XHQud2hlbignL2FkZC1jaGlsZCcsIHsgY29udHJvbGxlcjogJ0NoaWxkQ3RybCcsIHRlbXBsYXRlVXJsOiAndXNlci9hZGQtY2hpbGQuaHRtbCcgfSlcblx0XHRcdC53aGVuKCcvdXBkYXRlLWNoaWxkJywgeyBjb250cm9sbGVyOiAnVXNlckN0cmwnLCB0ZW1wbGF0ZVVybDogJ3VzZXIvdXBkYXRlLWNoaWxkLmh0bWwnIH0pXG5cblx0XHRcdC53aGVuKCcvdXNlci1jbGFzc2VzJywgeyB0ZW1wbGF0ZVVybDogJ3VzZXIvdXNlci1jbGFzc2VzLmh0bWwnIH0pXG5cdFx0XHQud2hlbignL3VzZXItcGhvdG9zJywgeyB0ZW1wbGF0ZVVybDogJ3VzZXIvdXNlci1waG90b3MuaHRtbCcgfSlcblx0XHRcdC53aGVuKCcvdXNlci1wYXltZW50cycsIHsgdGVtcGxhdGVVcmw6ICd1c2VyL3VzZXItcGF5bWVudHMuaHRtbCcgfSlcblx0XHRcdC53aGVuKCcvdXNlci1mb3JtcycsIHsgdGVtcGxhdGVVcmw6ICd1c2VyL3VzZXItZm9ybXMuaHRtbCcgfSlcblx0XHRcdFxuXHRcdFx0LndoZW4oJy9hZG1pbicsIHsgY29udHJvbGxlcjogJ0FkbWluTG9naW5DdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi9hZG1pbi1sb2dpbi5odG1sJyB9KVxuXHRcdFx0LndoZW4oJy9hZG1pbi1yZWdpc3RlcicsIHsgY29udHJvbGxlcjogJ0FkbWluTG9naW5DdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi9yZWdpc3RyYXRpb24uaHRtbCcgfSlcblxuXHRcdFx0LndoZW4oJy9hZG1pbi1hY2NvdW50JywgeyB0ZW1wbGF0ZVVybDogJ2FkbWluL2FkbWluLWFjY291bnQuaHRtbCcgfSlcblx0XHRcdC53aGVuKCcvdXBkYXRlLWFkbWluLWFjY291bnQnLCB7IGNvbnRyb2xsZXI6ICdVcGRhdGVBZG1pbkN0cmwnLCB0ZW1wbGF0ZVVybDogJ2FkbWluL3VwZGF0ZS1hZG1pbi1hY2NvdW50Lmh0bWwnfSlcblx0XHRcdC53aGVuKCcvdXBkYXRlLWFkbWluLXBhc3N3b3JkJywgeyBjb250cm9sbGVyOiAnVXBkYXRlQWRtaW5DdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi91cGRhdGUtYWRtaW4tcGFzc3dvcmQuaHRtbCd9KVxuXHRcdFx0LndoZW4oJy91cGRhdGUtYWRtaW4tYmlvJywgeyBjb250cm9sbGVyOiAnVXBkYXRlQWRtaW5DdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi91cGRhdGUtYWRtaW4tYmlvLmh0bWwnfSlcblxuXHRcdFx0LndoZW4oJy9hZG1pbi1jbGFzc2VzJywgeyBjb250cm9sbGVyOiAnQ2xhc3NDdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi9hZG1pbi1jbGFzc2VzLmh0bWwnfSlcblx0XHRcdC53aGVuKCcvYWRtaW4tYWRkLWNsYXNzJywgeyBjb250cm9sbGVyOiAnQ2xhc3NDdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi9hZG1pbi1hZGQtY2xhc3MuaHRtbCd9KVxuXHRcdFx0LndoZW4oJy9hZG1pbi11cGRhdGUtY2xhc3MnLCB7IGNvbnRyb2xsZXI6ICdDbGFzc0N0cmwnLCB0ZW1wbGF0ZVVybDogJ2FkbWluL2FkbWluLXVwZGF0ZS1jbGFzcy5odG1sJyB9KVxuXG5cdFx0XHQud2hlbignL2FkbWluLWNsaWVudHMnLCB7Y29udHJvbGxlcjogJ0NsaWVudHNDdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi9hZG1pbi1jbGllbnRzLmh0bWwnfSlcblx0XHRcdC53aGVuKCcvYWRtaW4tcGhvdG9zJywge3RlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tcGhvdG9zLmh0bWwnfSlcblx0XHRcdC53aGVuKCcvYWRtaW4tcGF5bWVudHMnLCB7dGVtcGxhdGVVcmw6ICdhZG1pbi9hZG1pbi1wYXltZW50cy5odG1sJ30pXG5cdFx0XHQud2hlbignL2FkbWluLWZvcm1zJywge3RlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tZm9ybXMuaHRtbCd9KVxuXG5cdFx0XHQud2hlbignL2NtJywgeyBjb250cm9sbGVyOiAnQWRtaW5Db250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnY20vY20uaHRtbCd9KVxuXHRcdFx0LndoZW4oJy9jbS1lbGVtZW50LWFkZCcsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWVsZW1lbnQtYWRkLmh0bWwnfSlcblx0XHRcdC53aGVuKCcvY20tZWxlbWVudC1lZGl0JywgeyBjb250cm9sbGVyOiAnQWRtaW5Db250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnY20vY20tZWxlbWVudC1lZGl0Lmh0bWwnfSlcblxuXHRcdFx0LndoZW4oJy9jbS1ob21lcGFnZScsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWhvbWVwYWdlLmh0bWwnfSlcblx0XHRcdC53aGVuKCcvY20tY2xhc3NlcycsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWNsYXNzZXMuaHRtbCd9KVxuXHRcdFx0LndoZW4oJy9jbS1hYm91dCcsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWFib3V0Lmh0bWwnfSlcblxuXHRcdFx0LndoZW4oJy9jbS1jbGFzcy1hZGQnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1jbGFzcy1hZGQuaHRtbCd9KVxuXHRcdFx0LndoZW4oJy9jbS1jbGFzcy1lZGl0JywgeyBjb250cm9sbGVyOiAnQWRtaW5Db250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnY20vY20tY2xhc3MtZWRpdC5odG1sJ30pXG5cblx0XHRcdC53aGVuKCcvY20tZmFxJywgeyBjb250cm9sbGVyOiAnQWRtaW5Db250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnY20vY20tZmFxLmh0bWwnfSlcblx0XHRcdC53aGVuKCcvY20tZmFxLWFkZCcsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWZhcS1hZGQuaHRtbCd9KVxuXHRcdFx0LndoZW4oJy9jbS1mYXEtZWRpdCcsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWZhcS1lZGl0Lmh0bWwnfSlcblxuXHQkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG59KVxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignVXBkYXRlQWRtaW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBBZG1pblN2YywgJGxvY2F0aW9uKSB7XG4gICAgJHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uIChpZCwgdXNlcm5hbWUsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwaG9uZSkge1xuICAgICAgICBBZG1pblN2Yy51cGRhdGUoaWQsIHVzZXJuYW1lLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgcGhvbmUpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2Upe1xuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYWRtaW4tYWNjb3VudCcpXG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgICRzY29wZS51cGRhdGVQYXNzd29yZCA9IGZ1bmN0aW9uIChpZCwgbmV3UGFzc3dvcmQsIGNoZWNrUGFzc3dvcmQpIHtcbiAgICAgICAgaWYgKG5ld1Bhc3N3b3JkICE9IGNoZWNrUGFzc3dvcmQpIHtcbiAgICAgICAgICAgICRzY29wZS5wYXNzd29yZHNNYXRjaCA9IHRydWVcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnBhc3N3b3Jkc01hdGNoID0gZmFsc2VcblxuICAgICAgICBBZG1pblN2Yy51cGRhdGVQYXNzd29yZChpZCwgbmV3UGFzc3dvcmQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9hZG1pbi1hY2NvdW50JylcbiAgICAgICAgICAgIH0pXG4gICAgfVxuXG4gICAgJHNjb3BlLnVwZGF0ZUJpbyA9IGZ1bmN0aW9uIChpZCwgYmlvKSB7XG4gICAgICAgIEFkbWluU3ZjLnVwZGF0ZUJpbyhpZCwgYmlvKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYWRtaW4tYWNjb3VudCcpXG4gICAgICAgICAgICB9KVxuXG4gICAgfVxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdVcGRhdGVDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjLCAkbG9jYXRpb24pIHtcblx0JHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uIChpZCwgZW1haWwsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHN0cmVldEFkZHJlc3MsIGNpdHksIHN0YXRlLCB6aXAsIHBob25lKSB7XG5cdFx0XG5cdFx0dmFyIG1vZGlmaWVkRW1haWwgPSBlbWFpbC50b0xvd2VyQ2FzZSgpXG5cblx0XHRVc2VyU3ZjLnVwZGF0ZShpZCwgbW9kaWZpZWRFbWFpbCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgc3RyZWV0QWRkcmVzcywgY2l0eSwgc3RhdGUsIHppcCwgcGhvbmUpXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdFx0XHQkc2NvcGUuY3VycmVudFVzZXIuZW1haWwgPSBtb2RpZmllZEVtYWlsXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL3VzZXItYWNjb3VudCcpXG5cdFx0fSlcblx0fVxuXG5cdCRzY29wZS51cGRhdGVQYXNzd29yZCA9IGZ1bmN0aW9uIChpZCwgbmV3UGFzc3dvcmQsIGNoZWNrUGFzc3dvcmQpIHtcblx0XHRpZiAobmV3UGFzc3dvcmQgIT0gY2hlY2tQYXNzd29yZCkge1xuXHRcdFx0JHNjb3BlLnBhc3N3b3Jkc01hdGNoID0gdHJ1ZVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0fVxuXG5cdFx0JHNjb3BlLnBhc3N3b3Jkc01hdGNoID0gZmFsc2Vcblx0XG5cdFx0VXNlclN2Yy51cGRhdGVQYXNzd29yZChpZCwgbmV3UGFzc3dvcmQpXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy91c2VyLWFjY291bnQnKVxuXHRcdH0pXG5cdH1cblxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdVc2VyQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uKSB7XG5cblx0VXNlclN2Yy5nZXRBbGxDaGlsZHJlbigpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG5cdFx0JHNjb3BlLmNoaWxkcmVuID0gcmVzLmRhdGFcblx0fSlcblxuXHQkc2NvcGUuc2V0Q2hpbGRUb1VwZGF0ZSA9IGZ1bmN0aW9uKGNoaWxkKSB7XG5cdFx0JHNjb3BlLmN1cnJlbnRVc2VyLmNoaWxkVG9VcGRhdGUgPSBjaGlsZFxuXHR9XG5cblx0JHNjb3BlLnVwZGF0ZUNoaWxkID0gZnVuY3Rpb24oY2hpbGQpIHtcblx0XHRVc2VyU3ZjLnVwZGF0ZUNoaWxkKGNoaWxkKVxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy91c2VyLWFjY291bnQnKVxuXHRcdH0pXG5cdH1cblxuXHQkc2NvcGUuZGVsZXRlQ2hpbGQgPSBmdW5jdGlvbihjaGlsZCkge1xuXHRcdFVzZXJTdmMuZGVsZXRlQ2hpbGQoY2hpbGQpXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL3VzZXItYWNjb3VudCcpXG5cdFx0fSlcblx0fVxuXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLnNlcnZpY2UoJ1VzZXJTdmMnLCBmdW5jdGlvbiAoJGh0dHApIHtcblx0dmFyIHN2YyA9IHRoaXNcblxuXHRzdmMuZ2V0VXNlciA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzJylcblx0fVxuXG5cdHN2Yy5yZWdpc3RlciA9IGZ1bmN0aW9uIChlbWFpbCwgcGFzc3dvcmQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHN0cmVldEFkZHJlc3MsIGNpdHksIHN0YXRlLCB6aXAsIHBob25lKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMnLCB7XG5cdFx0XHRlbWFpbDogZW1haWwsXG5cdFx0XHRwYXNzd29yZDogcGFzc3dvcmQsXG5cdFx0XHRmaXJzdE5hbWU6IGZpcnN0TmFtZSxcblx0XHRcdGxhc3ROYW1lOiBsYXN0TmFtZSxcblx0XHRcdHN0cmVldEFkZHJlc3M6IHN0cmVldEFkZHJlc3MsXG5cdFx0XHRjaXR5OiBjaXR5LFxuXHRcdFx0c3RhdGU6IHN0YXRlLFxuXHRcdFx0emlwOiB6aXAsXG5cdFx0XHRwaG9uZTogcGhvbmVcblx0XHR9KS50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBzdmMubG9naW4oZW1haWwsIHBhc3N3b3JkKVxuXHRcdH0pXG5cdH1cblxuXHRzdmMuY2hlY2tUb2tlbiA9IGZ1bmN0aW9uKCkge1xuXHRcdCRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS50b2tlblxuXHRcdHJldHVybiBzdmMuZ2V0VXNlcigpXG5cdH1cblxuXHRzdmMubG9naW4gPSBmdW5jdGlvbiAoZW1haWwsIHBhc3N3b3JkKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2Vzc2lvbnMnLCB7XG5cdFx0XHRlbWFpbDogZW1haWwsIHBhc3N3b3JkOiBwYXNzd29yZFxuXHRcdH0pXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHZhbCkge1xuXHRcdFx0d2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuID0gdmFsLmRhdGFcblx0XHRcdCRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9IHZhbC5kYXRhXG5cdFx0XHRyZXR1cm4gc3ZjLmdldFVzZXIoKVxuXHRcdH0sIGZ1bmN0aW9uKGVycikge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH0pXG5cdH1cblxuXHRzdmMubG9nb3V0ID0gZnVuY3Rpb24oKSB7XG5cdFx0ZGVsZXRlICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXVxuXHRcdHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XG5cdH1cblxuXHRzdmMudXBkYXRlID0gZnVuY3Rpb24gKGlkLCBlbWFpbCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgc3RyZWV0QWRkcmVzcywgY2l0eSwgc3RhdGUsIHppcCwgcGhvbmUpIHtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL3VzZXJzL3VwZGF0ZScsIHtcblx0XHRcdGlkOiBpZCxcblx0XHRcdGVtYWlsOiBlbWFpbCxcblx0XHRcdGZpcnN0TmFtZTogZmlyc3ROYW1lLFxuXHRcdFx0bGFzdE5hbWU6IGxhc3ROYW1lLFxuXHRcdFx0c3RyZWV0QWRkcmVzczogc3RyZWV0QWRkcmVzcyxcblx0XHRcdGNpdHk6IGNpdHksXG5cdFx0XHRzdGF0ZTogc3RhdGUsXG5cdFx0XHR6aXA6IHppcCxcblx0XHRcdHBob25lOiBwaG9uZVxuXHRcdH0pXG5cdH1cblxuXHRzdmMudXBkYXRlUGFzc3dvcmQgPSBmdW5jdGlvbiAoaWQsIG5ld1Bhc3N3b3JkKSB7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS91c2Vycy91cGRhdGVQYXNzd29yZCcsIHtcblx0XHRcdGlkOiBpZCxcblx0XHRcdHBhc3N3b3JkOiBuZXdQYXNzd29yZFxuXHRcdH0pXG5cdH1cblxuXHRzdmMucmVzZXRQYXNzd29yZCA9ICBmdW5jdGlvbiAoZW1haWwsIG5ld1Bhc3N3b3JkKSB7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS91c2Vycy9yZXNldFBhc3N3b3JkJywge1xuXHRcdFx0ZW1haWw6IGVtYWlsLFxuXHRcdFx0bmV3UGFzc3dvcmQ6IG5ld1Bhc3N3b3JkXG5cdFx0fSlcblx0fVxuXG5cdHN2Yy51cGRhdGVDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZCkge1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvdXNlcnMvdXBkYXRlQ2hpbGQnLCBjaGlsZClcblx0fVxuXG5cdHN2Yy5kZWxldGVDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZCkge1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvdXNlcnMvZGVsZXRlQ2hpbGQnLCBjaGlsZClcblx0fVxuXG5cdHN2Yy5hZGRDaGlsZCA9IGZ1bmN0aW9uIChhZHVsdElkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBkb2IsIG5vdGVzKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMvYWRkQ2hpbGQnLCB7XG5cdFx0XHRhZHVsdElkOiBhZHVsdElkLFxuXHRcdFx0Zmlyc3ROYW1lOiBmaXJzdE5hbWUsXG5cdFx0XHRsYXN0TmFtZTogbGFzdE5hbWUsXG5cdFx0XHRkb2I6IGRvYixcblx0XHRcdG5vdGVzOiBub3Rlc1xuXHRcdH0pXG5cdH1cblxuXHRzdmMuZ2V0QWxsQ2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy9nZXRBbGxDaGlsZHJlbicpXG5cdH1cblxuXHRzdmMuZW1haWwgPSBmdW5jdGlvbiAoZW1haWwsIG5ld1Bhc3N3b3JkKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMvc2VuZEVtYWlsJyx7XG5cdFx0XHRlbWFpbDogZW1haWwsXG5cdFx0XHRuZXdQYXNzd29yZDogbmV3UGFzc3dvcmRcblx0XHR9KVxuXHR9XG5cblxufSlcbiJdfQ==
