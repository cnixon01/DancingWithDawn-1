angular.module("app",["ngRoute"]),angular.module("app").controller("ClassCtrl",["$scope","ClassSVC","$location",function(l,o,r){var e;l.enrollment=[],l.addClass=function(t,e,n,a,l){o.addClass(t,e,n,a,l).then(function(t){r.path("/admin-classes")})},o.getAllClasses().then(function(t){l.classes=t.data}),l.setClassToUpdate=function(t){l.currentAdmin.classToUpdate=t},l.updateClass=function(t){o.updateClass(t).then(function(t){r.path("/admin-classes")})},l.deleteClass=function(t){o.deleteClass(t).then(function(t){r.path("/admin-classes")})},o.getAllChildren().then(function(t){l.children=t.data}),o.getAllStudents().then(function(t){e=t.data,l.enrollment=t.data}).then(o.getStudentsNames(e).then(function(t){console.log("I'm about to get students names"),$("input").val(JSON.stringify(students));JSON.parse($("input").val());l.studentsList=t.data})),l.addToClass=function(t,e){console.log("class "+t),console.log("students before put request "+t.children),t.children.includes(e)?console.log("child already added"):(l.enrollment.push(e),t.children=l.enrollment,o.addToClass(t)),console.log("students after put request "+t.children),o.getAllStudents().then(function(t){l.enrolledStudents=t.data})},l.removeFromClass=function(t,e){var n=t.children.indexOf(e);t.children.splice(n,1);var a=t;a.children.splice(0),a.children.push(e),a.children=e,o.removeFromClass(a),o.getAllStudents().then(function(t){l.enrolledStudents=t.data})},l.removeAll=function(t){console.log("I'm about to call svc remove all"),o.removeAll(t)}}]),angular.module("app").controller("AdminLoginCtrl",["$scope","AdminSvc","$location",function(s,i,c){s.login=function(t,e){s.loginError=!1,s.errorMessage="",i.login(t,e).then(function(t){if(401==t.status)return s.errorMessage=t.data,!(s.loginError=!0);s.$emit("login",t.data),c.path("/admin-account")})},s.register=function(t,e,n,a,l,o,r){if(n!=a)return s.registerError=!0,!(s.errorMessage="Error: Passwords must match");s.registerError=!1,i.register(t,e,n,l,o,r).then(function(t){s.$emit("login",t.data),c.path("/admin-account")})}}]),angular.module("app").service("AdminSvc",["$http",function(r){var s=this;s.getAdmin=function(){return r.get("/api/admin")},s.register=function(t,e,n,a,l,o){return r.post("/api/admin",{username:e,password:n,email:t,firstName:a,lastName:l,phone:o}).then(function(){return s.login(e,n)})},s.checkToken=function(t){return r.defaults.headers.common["X-Auth"]=window.sessionStorage.token,s.getAdmin()},s.login=function(t,e){return r.post("/api/admin-sessions",{username:t,password:e}).then(function(t){return window.sessionStorage.token=t.data,r.defaults.headers.common["X-Auth"]=t.data,s.getAdmin()},function(t){return t})},s.logout=function(){delete r.defaults.headers.common["X-Auth"],sessionStorage.clear()},s.update=function(t,e,n,a,l,o){return r.put("/api/admin/update",{id:t,username:e,firstName:n,lastName:a,email:l,phone:o})},s.updatePassword=function(t,e){return r.put("/api/admin/updatePassword",{id:t,password:e})},s.updateBio=function(t,e){return r.put("/api/admin/updateBio",{id:t,bio:e})},s.getAllUsers=function(){return r.get("/api/admin/getAllUsers")}}]),angular.module("app").controller("AdminCtrl",["$scope","AdminSvc","$location",function(n,t,e){n.init=function(){window.sessionStorage.token&&t.checkToken().then(function(t){n.currentAdmin=t.data})},n.$on("login",function(t,e){n.currentAdmin=e}),n.logout=function(){t.logout(),delete n.currentAdmin,e.path("/admin")}}]),angular.module("app").controller("AdminContentCtrl",["$scope","AdminContentSvc","$location",function(o,r,s){r.getAllHomepageElements().then(function(t){o.homepage_content=t.data}),r.getAllBuckets().then(function(t){o.buckets=t.data}),r.getAllClassesElements().then(function(t){o.classes_content=t.data}),r.getAllClasses().then(function(t){o.classes=t.data}),r.getAllAboutElements().then(function(t){o.about_content=t.data}),r.getAllFaqElements().then(function(t){o.faq_content=t.data}),r.getAllFaqs().then(function(t){o.faq=t.data}),o.setFaqToUpdate=function(t){o.currentAdmin.faqToUpdate=t},o.updateFaq=function(t){r.updateFaq(t).then(function(t){s.path("/cm-faq")})},o.addFaq=function(t,e){if(o.inputError=!1,o.errorMessage="",!t||!e)return o.inputError=!0,void(o.errorMessage="All text fields must contain content");r.addFaq(t,e).then(function(t){s.path("/cm-faq")})},o.deleteFaq=function(t){r.deleteFaq(t).then(function(t){s.path("/cm-faq")})},o.addElement=function(t,e,n,a){o.inputError=!1,o.errorMessage="",r.addElement(t,e,n,a).then(function(t){s.path("/cm")})},o.setElementToUpdate=function(t){o.currentAdmin.elementToUpdate=t},o.updateElement=function(t){r.updateElement(t).then(function(t){s.path("/cm")})},o.addClass=function(t,e,n,a,l){if(o.inputError=!1,o.errorMessage="",!t||!l)return o.inputError=!0,void(o.errorMessage="All text fields must contain content");r.addClass(t,e,n,a,l).then(function(t){s.path("/cm-classes")})},o.setClassToUpdate=function(t){o.currentAdmin.classToUpdate=t},o.updateClass=function(t){r.updateClass(t).then(function(t){s.path("/cm-classes")})},o.deleteClass=function(t){r.deleteClass(t).then(function(t){s.path("/cm-classes")})},o.addBucket=function(t,e,n,a){if(o.inputError=!1,o.errorMessage="",!t||!a)return o.inputError=!0,void(o.errorMessage="All text fields must contain content");r.addBucket(t,e,n,a).then(function(t){s.path("/cm-homepage")})},o.setBucketToUpdate=function(t){o.currentAdmin.bucketToUpdate=t},o.updateBucket=function(t){r.updateBucket(t).then(function(t){s.path("/cm-homepage")})}}]),angular.module("app").service("AdminContentSvc",["$http",function(o){var t=this;t.getAllElements=function(){return o.get("/api/content/getAllElements")},t.getAllHomepageElements=function(){return o.get("/api/content/getAllHomepageElements")},t.getAllBuckets=function(){return o.get("/api/content/getAllBuckets")},t.getAllClassesElements=function(){return o.get("/api/content/getAllClassesElements")},t.getAllClasses=function(){return o.get("/api/content/getAllClasses")},t.getAllAboutElements=function(){return o.get("/api/content/getAllAboutElements")},t.getAllFaqElements=function(){return o.get("/api/content/getAllFaqElements")},t.addElement=function(t,e,n,a){return o.post("/api/content/addElement",{name:t,location:e,description:n,value:a})},t.updateElement=function(t){return o.put("/api/content/updateElement",t)},t.getAllFaqs=function(){return o.get("/api/content/getAllFaqs")},t.addFaq=function(t,e){return o.post("/api/content/addFaq",{question:t,answer:e})},t.updateFaq=function(t){return o.put("/api/content/updateFaq",t)},t.deleteFaq=function(t){return o.put("/api/content/deleteFaq",t)},t.addClass=function(t,e,n,a,l){return o.post("/api/content/addClass",{title:t,subtitle:e,icon:a,color:n,description:l})},t.updateClass=function(t){return o.put("/api/content/updateClass",t)},t.deleteClass=function(t){return o.put("/api/content/deleteClass",t)},t.addBucket=function(t,e,n,a){return o.post("/api/content/addBucket",{title:t,icon:n,color:e,description:a})},t.updateBucket=function(t){return o.put("/api/content/updateBucket",t)}}]),angular.module("app").controller("ApplicationCtrl",["$scope","UserSvc","$location","$http",function(n,t,e,a){n.init=function(){window.sessionStorage.token&&t.checkToken().then(function(t){n.currentUser=t.data})},n.$on("login",function(t,e){n.currentUser=e}),n.logout=function(){t.logout(),delete n.currentUser,e.path("/login")}}]),angular.module("app").controller("ChildCtrl",["$scope","UserSvc","$location",function(t,o,r){t.addChild=function(t,e,n,a,l){o.addChild(t,e,n,a,l).then(function(t){r.path("/user-account")})}}]),angular.module("app").service("ClassSVC",["$http",function(o){var t=this;t.addClass=function(t,e,n,a,l){return o.post("/api/classes/addClass",{title:t,description:e,time:n,days:a,album:l})},t.updateClass=function(t){return o.put("/api/classes/updateClass",t)},t.deleteClass=function(t){return o.put("/api/classes/deleteClass",t)},t.getAllClasses=function(){return o.get("/api/classes/getAllClasses")},t.getAllChildren=function(){return o.get("/api/classes/getAllChildren")},t.getAllStudents=function(){return o.get("/api/classes/getAllStudents")},t.getStudentsNames=function(t){return console.log("students in class.svc  "),o.get("/api/classes/getStudentsNames",t)},t.addToClass=function(t){return o.put("/api/classes/addToClass",t)},t.removeFromClass=function(t){return o.put("/api/classes/removeFromClass",t)},t.removeAll=function(t){return o.put("/api/classes/removeAll",t)}}]),angular.module("app").controller("ClientsCtrl",["$scope","AdminSvc",function(e,t){t.getAllUsers().then(function(t){e.clients=t.data})}]),angular.module("app").controller("ContentCtrl",["$scope","ContentSvc",function(n,t){t.getAllElements().then(function(t){angular.forEach(t.data,function(t,e){n[t.name]=t.value})}),t.getAllBuckets().then(function(t){n.buckets=t.data}),t.getAllClasses().then(function(t){n.classes=t.data}),t.getAllFaqs().then(function(t){n.faq=t.data})}]),angular.module("app").service("ContentSvc",["$http",function(t){this.getAllElements=function(){return t.get("/api/content/getAllElements")},this.getAllBuckets=function(){return t.get("/api/content/getAllBuckets")},this.getAllClasses=function(){return t.get("/api/content/getAllClasses")},this.getAllFaqs=function(){return t.get("/api/content/getAllFaqs")}}]),angular.module("app").controller("LoginCtrl",["$scope","UserSvc","$location",function(a,l,o){a.login=function(t,e){a.loginError=!1,a.errorMessage="";var n=t.toLowerCase();l.login(n,e).then(function(t){if(401==t.status)return a.errorMessage=t.data,!(a.loginError=!0);a.$emit("login",t.data),o.path("/user-account")})}}]),angular.module("app").controller("RegisterCtrl",["$scope","UserSvc","$location",function(d,m,p){d.register=function(t,e,n,a,l,o,r,s,i,c){if(e!=n)return d.registerError=!0,!(d.errorMessage="Error: Passwords must match");d.registerError=!1;var u=t.toLowerCase();m.register(u,e,a,l,o,r,s,i,c).then(function(t){d.$emit("login",t.data),p.path("/user-account")})}}]),angular.module("app").controller("ResetCtrl",["$scope","UserSvc","$location",function(a,l,t){a.resetPassword=function(e){a.invalidEmail=!1,a.passwordReset=!1,a.InvalidEmailMessage="";var t=e.toLowerCase(),n=Math.random().toString(36).slice(-10);l.resetPassword(t,n).then(function(t){if(401==t.status)return console.log("applying invalid email"),a.invalidEmail=t.data,!(a.invalidEmail=!0);a.passwordReset=!0,l.email(e,n)})}}]),angular.module("app").config(["$routeProvider","$locationProvider",function(t,e){t.when("/",{controller:"ContentCtrl",templateUrl:"index.html"}).when("/classes",{controller:"ContentCtrl",templateUrl:"classes.html"}).when("/about",{controller:"ContentCtrl",templateUrl:"about.html"}).when("/faq",{controller:"ContentCtrl",templateUrl:"faq.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"login.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"registration.html"}).when("/reset-password",{controller:"ResetCtrl",templateUrl:"reset-password.html"}).when("/user-account",{controller:"UserCtrl",templateUrl:"user/user-account.html"}).when("/update-user-account",{controller:"UpdateCtrl",templateUrl:"user/update-user-account.html"}).when("/update-user-password",{controller:"UpdateCtrl",templateUrl:"user/update-user-password.html"}).when("/add-child",{controller:"ChildCtrl",templateUrl:"user/add-child.html"}).when("/update-child",{controller:"UserCtrl",templateUrl:"user/update-child.html"}).when("/user-classes",{templateUrl:"user/user-classes.html"}).when("/user-photos",{templateUrl:"user/user-photos.html"}).when("/user-payments",{templateUrl:"user/user-payments.html"}).when("/user-forms",{templateUrl:"user/user-forms.html"}).when("/admin",{controller:"AdminLoginCtrl",templateUrl:"admin/admin-login.html"}).when("/admin-register",{controller:"AdminLoginCtrl",templateUrl:"admin/registration.html"}).when("/admin-account",{templateUrl:"admin/admin-account.html"}).when("/update-admin-account",{controller:"UpdateAdminCtrl",templateUrl:"admin/update-admin-account.html"}).when("/update-admin-password",{controller:"UpdateAdminCtrl",templateUrl:"admin/update-admin-password.html"}).when("/update-admin-bio",{controller:"UpdateAdminCtrl",templateUrl:"admin/update-admin-bio.html"}).when("/admin-classes",{controller:"ClassCtrl",templateUrl:"admin/admin-classes.html"}).when("/admin-add-class",{controller:"ClassCtrl",templateUrl:"admin/admin-add-class.html"}).when("/admin-update-class",{controller:"ClassCtrl",templateUrl:"admin/admin-update-class.html"}).when("/admin-clients",{controller:"ClientsCtrl",templateUrl:"admin/admin-clients.html"}).when("/admin-photos",{templateUrl:"admin/admin-photos.html"}).when("/admin-payments",{templateUrl:"admin/admin-payments.html"}).when("/admin-forms",{templateUrl:"admin/admin-forms.html"}).when("/cm",{controller:"AdminContentCtrl",templateUrl:"cm/cm.html"}).when("/cm-element-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-element-add.html"}).when("/cm-element-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-element-edit.html"}).when("/cm-homepage",{controller:"AdminContentCtrl",templateUrl:"cm/cm-homepage.html"}).when("/cm-classes",{controller:"AdminContentCtrl",templateUrl:"cm/cm-classes.html"}).when("/cm-about",{controller:"AdminContentCtrl",templateUrl:"cm/cm-about.html"}).when("/cm-class-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-class-add.html"}).when("/cm-class-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-class-edit.html"}).when("/cm-bucket-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-bucket-add.html"}).when("/cm-bucket-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-bucket-edit.html"}).when("/cm-faq",{controller:"AdminContentCtrl",templateUrl:"cm/cm-faq.html"}).when("/cm-faq-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-faq-add.html"}).when("/cm-faq-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-faq-edit.html"}),e.html5Mode(!0)}]),angular.module("app").controller("UpdateAdminCtrl",["$scope","AdminSvc","$location",function(a,r,s){a.update=function(t,e,n,a,l,o){r.update(t,e,n,a,l,o).then(function(t){s.path("/admin-account")})},a.updatePassword=function(t,e,n){if(e!=n)return!(a.passwordsMatch=!0);a.passwordsMatch=!1,r.updatePassword(t,e).then(function(t){s.path("/admin-account")})},a.updateBio=function(t,e){r.updateBio(t,e).then(function(t){s.path("/admin-account")})}}]),angular.module("app").controller("UpdateCtrl",["$scope","UserSvc","$location",function(u,d,m){u.update=function(t,e,n,a,l,o,r,s,i){var c=e.toLowerCase();d.update(t,c,n,a,l,o,r,s,i).then(function(t){u.currentUser.email=c,m.path("/user-account")})},u.updatePassword=function(t,e,n){if(e!=n)return!(u.passwordsMatch=!0);u.passwordsMatch=!1,d.updatePassword(t,e).then(function(t){m.path("/user-account")})}}]),angular.module("app").controller("UserCtrl",["$scope","UserSvc","$location",function(e,n,a){n.getAllChildren().then(function(t){e.children=t.data}),e.setChildToUpdate=function(t){e.currentUser.childToUpdate=t},e.updateChild=function(t){n.updateChild(t).then(function(t){a.path("/user-account")})},e.deleteChild=function(t){n.deleteChild(t).then(function(t){a.path("/user-account")})}}]),angular.module("app").service("UserSvc",["$http",function(c){var u=this;u.getUser=function(){return c.get("/api/users")},u.register=function(t,e,n,a,l,o,r,s,i){return c.post("/api/users",{email:t,password:e,firstName:n,lastName:a,streetAddress:l,city:o,state:r,zip:s,phone:i}).then(function(){return u.login(t,e)})},u.checkToken=function(){return c.defaults.headers.common["X-Auth"]=window.sessionStorage.token,u.getUser()},u.login=function(t,e){return c.post("/api/sessions",{email:t,password:e}).then(function(t){return window.sessionStorage.token=t.data,c.defaults.headers.common["X-Auth"]=t.data,u.getUser()},function(t){return t})},u.logout=function(){delete c.defaults.headers.common["X-Auth"],sessionStorage.clear()},u.update=function(t,e,n,a,l,o,r,s,i){return c.put("/api/users/update",{id:t,email:e,firstName:n,lastName:a,streetAddress:l,city:o,state:r,zip:s,phone:i})},u.updatePassword=function(t,e){return c.put("/api/users/updatePassword",{id:t,password:e})},u.resetPassword=function(t,e){return c.put("/api/users/resetPassword",{email:t,newPassword:e})},u.updateChild=function(t){return c.put("/api/users/updateChild",t)},u.deleteChild=function(t){return c.put("/api/users/deleteChild",t)},u.addChild=function(t,e,n,a,l){return c.post("/api/users/addChild",{adultId:t,firstName:e,lastName:n,dob:a,notes:l})},u.getAllChildren=function(){return c.get("/api/users/getAllChildren")},u.email=function(t,e){return c.post("/api/users/sendEmail",{email:t,newPassword:e})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFkbWluLmNsYXNzLmN0cmwuanMiLCJhZG1pbi5sb2dpbi5jdHJsLmpzIiwiYWRtaW4uc3ZjLmpzIiwiYWRtaW5hcHAuY3RybC5qcyIsImFkbWluQ29udGVudC5jdHJsLmpzIiwiYWRtaW5Db250ZW50LnN2Yy5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJjaGlsZC5jdHJsLmpzIiwiY2xhc3Muc3ZjLmpzIiwiY2xpZW50cy5jdHJsLmpzIiwiY29udGVudC5jdHJsLmpzIiwiY29udGVudC5zdmMuanMiLCJsb2dpbi5jdHJsLmpzIiwicmVnaXN0ZXIuY3RybC5qcyIsInJlc2V0LmN0cmwuanMiLCJyb3V0ZXMuanMiLCJ1cGRhdGUuYWRtaW4uY3RybC5qcyIsInVwZGF0ZS5jdHJsLmpzIiwidXNlci5jdHJsLmpzIiwidXNlci5zdmMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJDbGFzc1NWQyIsIiRsb2NhdGlvbiIsImVucm9sbGVkU3R1ZGVudHMiLCJlbnJvbGxtZW50IiwiYWRkQ2xhc3MiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidGltZSIsImRheXMiLCJhbGJ1bSIsInRoZW4iLCJyZXNwb25zZSIsInBhdGgiLCJnZXRBbGxDbGFzc2VzIiwicmVzIiwiY2xhc3NlcyIsImRhdGEiLCJzZXRDbGFzc1RvVXBkYXRlIiwiY2xhc3NfIiwiY3VycmVudEFkbWluIiwiY2xhc3NUb1VwZGF0ZSIsInVwZGF0ZUNsYXNzIiwiZGVsZXRlQ2xhc3MiLCJnZXRBbGxDaGlsZHJlbiIsImNoaWxkcmVuIiwiZ2V0QWxsU3R1ZGVudHMiLCJnZXRTdHVkZW50c05hbWVzIiwiY29uc29sZSIsImxvZyIsIiQiLCJ2YWwiLCJKU09OIiwic3RyaW5naWZ5Iiwic3R1ZGVudHMiLCJwYXJzZSIsInN0dWRlbnRzTGlzdCIsImFkZFRvQ2xhc3MiLCJjaGlsZCIsImluY2x1ZGVzIiwicHVzaCIsInJlbW92ZUZyb21DbGFzcyIsInN0dWRlbnQiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJjbGFzc19tb2RpZmllZCIsInJlbW92ZUFsbCIsIkFkbWluU3ZjIiwibG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwibG9naW5FcnJvciIsImVycm9yTWVzc2FnZSIsInN0YXR1cyIsIiRlbWl0IiwicmVnaXN0ZXIiLCJlbWFpbCIsImNoZWNrcGFzcyIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwicGhvbmUiLCJyZWdpc3RlckVycm9yIiwic2VydmljZSIsIiRodHRwIiwic3ZjIiwidGhpcyIsImdldEFkbWluIiwiZ2V0IiwicG9zdCIsImNoZWNrVG9rZW4iLCJ0b2tlbiIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsIndpbmRvdyIsInNlc3Npb25TdG9yYWdlIiwiZXJyIiwibG9nb3V0IiwiY2xlYXIiLCJ1cGRhdGUiLCJpZCIsInB1dCIsInVwZGF0ZVBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJ1cGRhdGVCaW8iLCJiaW8iLCJnZXRBbGxVc2VycyIsImluaXQiLCIkb24iLCJfIiwiYWRtaW4iLCJBZG1pbkNvbnRlbnRTdmMiLCJnZXRBbGxIb21lcGFnZUVsZW1lbnRzIiwiZWxlbXMiLCJob21lcGFnZV9jb250ZW50IiwiZ2V0QWxsQnVja2V0cyIsImJ1Y2tldHMiLCJnZXRBbGxDbGFzc2VzRWxlbWVudHMiLCJjbGFzc2VzX2NvbnRlbnQiLCJnZXRBbGxBYm91dEVsZW1lbnRzIiwiYWJvdXRfY29udGVudCIsImdldEFsbEZhcUVsZW1lbnRzIiwiZmFxX2NvbnRlbnQiLCJnZXRBbGxGYXFzIiwiZmFxIiwic2V0RmFxVG9VcGRhdGUiLCJmYXFUb1VwZGF0ZSIsInVwZGF0ZUZhcSIsImFkZEZhcSIsInF1ZXN0aW9uIiwiYW5zd2VyIiwiaW5wdXRFcnJvciIsImRlbGV0ZUZhcSIsImFkZEVsZW1lbnQiLCJuYW1lIiwibG9jYXRpb24iLCJkZXNjIiwidmFsdWUiLCJzZXRFbGVtZW50VG9VcGRhdGUiLCJlbGVtZW50IiwiZWxlbWVudFRvVXBkYXRlIiwidXBkYXRlRWxlbWVudCIsInN1YnRpdGxlIiwiY29sb3IiLCJpY29uIiwiYWRkQnVja2V0Iiwic2V0QnVja2V0VG9VcGRhdGUiLCJidWNrZXRUb1VwZGF0ZSIsInVwZGF0ZUJ1Y2tldCIsImdldEFsbEVsZW1lbnRzIiwiVXNlclN2YyIsImN1cnJlbnRVc2VyIiwidXNlciIsImFkZENoaWxkIiwiYWR1bHRJZCIsImRvYiIsIm5vdGVzIiwiY2xpZW50cyIsIkNvbnRlbnRTdmMiLCJmb3JFYWNoIiwibW9kaWZpZWRFbWFpbCIsInRvTG93ZXJDYXNlIiwic3RyZWV0QWRkcmVzcyIsImNpdHkiLCJzdGF0ZSIsInppcCIsInJlc2V0UGFzc3dvcmQiLCJpbnZhbGlkRW1haWwiLCJwYXNzd29yZFJlc2V0IiwiSW52YWxpZEVtYWlsTWVzc2FnZSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInNsaWNlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImh0bWw1TW9kZSIsImNoZWNrUGFzc3dvcmQiLCJwYXNzd29yZHNNYXRjaCIsInNldENoaWxkVG9VcGRhdGUiLCJjaGlsZFRvVXBkYXRlIiwidXBkYXRlQ2hpbGQiLCJkZWxldGVDaGlsZCIsImdldFVzZXIiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLE1BQUEsQ0FDQSxZQ0RBRCxRQUFBQyxPQUFBLE9BQ0FDLFdBQUEsWUFBQSxDQUFBLFNBQUEsV0FBQSxZQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBRUEsSUFBQUMsRUFDQUgsRUFBQUksV0FBQSxHQUVBSixFQUFBSyxTQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FULEVBQUFJLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FDLEtBQUEsU0FBQUMsR0FDQVYsRUFBQVcsS0FBQSxxQkFJQVosRUFBQWEsZ0JBQUFILEtBQUEsU0FBQUksR0FDQWYs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QSxTQUFBaEksR0FDQSxPQUFBMEIsRUFBQWtCLElBQUEseUJBQUE1QyxJQUdBMkIsRUFBQXFFLFNBQUEsU0FBQUMsRUFBQTVFLEVBQUFDLEVBQUE0RSxFQUFBQyxHQUNBLE9BQUF6RSxFQUFBSyxLQUFBLHNCQUFBLENBQ0FrRSxRQUFBQSxFQUNBNUUsVUFBQUEsRUFDQUMsU0FBQUEsRUFDQTRFLElBQUFBLEVBQ0FDLE1BQUFBLEtBSUF4RSxFQUFBekMsZUFBQSxXQUNBLE9BQUF3QyxFQUFBSSxJQUFBLDhCQUdBSCxFQUFBUixNQUFBLFNBQUFBLEVBQUEyQixHQUNBLE9BQUFwQixFQUFBSyxLQUFBLHVCQUFBLENBQ0FaLE1BQUFBLEVBQ0EyQixZQUFBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xyXG5cdCduZ1JvdXRlJ1xyXG5dKSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0NsYXNzQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgQ2xhc3NTVkMsICRsb2NhdGlvbikge1xyXG5cclxuICAgICAgICB2YXIgZW5yb2xsZWRTdHVkZW50c1xyXG4gICAgICAgICRzY29wZS5lbnJvbGxtZW50ID0gW107XHJcblxyXG4gICAgICAgICRzY29wZS5hZGRDbGFzcyA9IGZ1bmN0aW9uICh0aXRsZSwgZGVzY3JpcHRpb24sIHRpbWUsIGRheXMsIGFsYnVtKSB7XHJcbiAgICAgICAgICAgIENsYXNzU1ZDLmFkZENsYXNzKHRpdGxlLCBkZXNjcmlwdGlvbiwgdGltZSwgZGF5cywgYWxidW0pXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2FkbWluLWNsYXNzZXMnKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIENsYXNzU1ZDLmdldEFsbENsYXNzZXMoKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgICAgICAkc2NvcGUuY2xhc3NlcyA9IHJlcy5kYXRhXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgJHNjb3BlLnNldENsYXNzVG9VcGRhdGUgPSBmdW5jdGlvbihjbGFzc18pIHtcclxuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRBZG1pbi5jbGFzc1RvVXBkYXRlID0gY2xhc3NfXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUudXBkYXRlQ2xhc3MgPSBmdW5jdGlvbihjbGFzc18pIHtcclxuICAgICAgICAgICAgQ2xhc3NTVkMudXBkYXRlQ2xhc3MoY2xhc3NfKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9hZG1pbi1jbGFzc2VzJylcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUuZGVsZXRlQ2xhc3MgPSBmdW5jdGlvbihjbGFzc18pIHtcclxuICAgICAgICAgICAgQ2xhc3NTVkMuZGVsZXRlQ2xhc3MoY2xhc3NfKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9hZG1pbi1jbGFzc2VzJylcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBDbGFzc1NWQy5nZXRBbGxDaGlsZHJlbigpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jaGlsZHJlbiA9IHJlcy5kYXRhXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgQ2xhc3NTVkMuZ2V0QWxsU3R1ZGVudHMoKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgICAgICBlbnJvbGxlZFN0dWRlbnRzID0gcmVzLmRhdGFcclxuICAgICAgICAgICAgJHNjb3BlLmVucm9sbG1lbnQgPSByZXMuZGF0YVxyXG5cclxuICAgICAgICAgICAgLy8gQ2xhc3NTVkMuZ2V0U3R1ZGVudHNOYW1lcyhlbnJvbGxlZFN0dWRlbnRzKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgICAgICAvLyAgICAgJHNjb3BlLnN0dWRlbnRzTGlzdCA9IHJlcy5kYXRhXHJcbiAgICAgICAgICAgIC8vIH0pXHJcbiAgICAgICAgfSkudGhlbihcclxuICAgICAgICAgICAgQ2xhc3NTVkMuZ2V0U3R1ZGVudHNOYW1lcyhlbnJvbGxlZFN0dWRlbnRzKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJJ20gYWJvdXQgdG8gZ2V0IHN0dWRlbnRzIG5hbWVzXCIpXHJcbiAgICAgICAgICAgICAgICAkKFwiaW5wdXRcIikudmFsKEpTT04uc3RyaW5naWZ5KHN0dWRlbnRzKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2F2ZWRBcnJheSA9IEpTT04ucGFyc2UoJChcImlucHV0XCIpLnZhbCgpKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdHVkZW50c0xpc3QgPSByZXMuZGF0YVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIClcclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gJHNjb3BlLnNldENsYXNzVG9Nb2RpZnlSb3N0ZXIgPSBmdW5jdGlvbihjbGFzc1Jvc3Rlcikge1xyXG4gICAgICAgIC8vICAgICAkc2NvcGUuY3VycmVudEFkbWluLmNsYXNzVG9Nb2RpZnlSb3N0ZXIgPSBjbGFzc1Jvc3RlclxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvL1xyXG4gICAgICAgICRzY29wZS5hZGRUb0NsYXNzID0gZnVuY3Rpb24oY2xhc3NfLCBjaGlsZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNsYXNzIFwiICsgY2xhc3NfKVxyXG5cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJlbnJvbGxtZW50IFwiICsgJHNjb3BlLmVucm9sbG1lbnQpXHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0dWRlbnRzIGJlZm9yZSBwdXQgcmVxdWVzdCBcIiArIGNsYXNzXy5jaGlsZHJlbilcclxuICAgICAgICAgICAgdmFyIGR1cGVDaGlsZCA9IGNsYXNzXy5jaGlsZHJlbi5pbmNsdWRlcyhjaGlsZCk7XHJcbiAgICAgICAgICAgIGlmICghZHVwZUNoaWxkKXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5lbnJvbGxtZW50LnB1c2goY2hpbGQpXHJcbiAgICAgICAgICAgICAgICBjbGFzc18uY2hpbGRyZW4gPSAkc2NvcGUuZW5yb2xsbWVudFxyXG4gICAgICAgICAgICAgICAgLy8gJHNjb3BlLmVucm9sbG1lbnQuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgLy8gY2xhc3NfLmNoaWxkcmVuLnB1c2goY2hpbGQpXHJcbiAgICAgICAgICAgICAgICBDbGFzc1NWQy5hZGRUb0NsYXNzKGNsYXNzXylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2hpbGQgYWxyZWFkeSBhZGRlZFwiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3R1ZGVudHMgYWZ0ZXIgcHV0IHJlcXVlc3QgXCIgKyBjbGFzc18uY2hpbGRyZW4pXHJcblxyXG4gICAgICAgICAgICBDbGFzc1NWQy5nZXRBbGxTdHVkZW50cygpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZW5yb2xsZWRTdHVkZW50cyA9IHJlcy5kYXRhXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUucmVtb3ZlRnJvbUNsYXNzID0gZnVuY3Rpb24oY2xhc3NfLCBzdHVkZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGNsYXNzXy5jaGlsZHJlbi5pbmRleE9mKHN0dWRlbnQpXHJcbiAgICAgICAgICAgIGNsYXNzXy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNsYXNzX21vZGlmaWVkID0gY2xhc3NfO1xyXG4gICAgICAgICAgICBjbGFzc19tb2RpZmllZC5jaGlsZHJlbi5zcGxpY2UoMCk7XHJcbiAgICAgICAgICAgIGNsYXNzX21vZGlmaWVkLmNoaWxkcmVuLnB1c2goc3R1ZGVudCk7XHJcbiAgICAgICAgICAgIGNsYXNzX21vZGlmaWVkLmNoaWxkcmVuID0gc3R1ZGVudDtcclxuICAgICAgICAgICAgQ2xhc3NTVkMucmVtb3ZlRnJvbUNsYXNzKGNsYXNzX21vZGlmaWVkKTtcclxuXHJcbiAgICAgICAgICAgIENsYXNzU1ZDLmdldEFsbFN0dWRlbnRzKCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5lbnJvbGxlZFN0dWRlbnRzID0gcmVzLmRhdGFcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUucmVtb3ZlQWxsID0gZnVuY3Rpb24oY2xhc3NfKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSSdtIGFib3V0IHRvIGNhbGwgc3ZjIHJlbW92ZSBhbGxcIilcclxuICAgICAgICAgICAgQ2xhc3NTVkMucmVtb3ZlQWxsKGNsYXNzXyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0FkbWluTG9naW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBBZG1pblN2YywgJGxvY2F0aW9uKSB7XHJcblxyXG5cdCRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuXHRcdCRzY29wZS5sb2dpbkVycm9yID0gZmFsc2VcclxuXHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnJ1xyXG5cclxuXHRcdEFkbWluU3ZjLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZClcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuXHRcdFx0aWYocmVzLnN0YXR1cyA9PSA0MDEpIHtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3JNZXNzYWdlID0gcmVzLmRhdGFcclxuXHRcdFx0XHQkc2NvcGUubG9naW5FcnJvciA9IHRydWVcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkc2NvcGUuJGVtaXQoJ2xvZ2luJywgcmVzLmRhdGEpXHJcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9hZG1pbi1hY2NvdW50JylcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChlbWFpbCwgdXNlcm5hbWUsIHBhc3N3b3JkLCBjaGVja3Bhc3MsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHBob25lKSB7XHJcblx0XHRpZiAocGFzc3dvcmQgIT0gY2hlY2twYXNzKSB7XHJcblx0XHRcdCRzY29wZS5yZWdpc3RlckVycm9yID0gdHJ1ZVxyXG5cdFx0XHQkc2NvcGUuZXJyb3JNZXNzYWdlID0gJ0Vycm9yOiBQYXNzd29yZHMgbXVzdCBtYXRjaCdcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHR9XHJcblxyXG5cdFx0JHNjb3BlLnJlZ2lzdGVyRXJyb3IgPSBmYWxzZVxyXG5cclxuXHRcdEFkbWluU3ZjLnJlZ2lzdGVyKGVtYWlsLCB1c2VybmFtZSwgcGFzc3dvcmQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHBob25lKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRzY29wZS4kZW1pdCgnbG9naW4nLCByZXNwb25zZS5kYXRhKVxyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2FkbWluLWFjY291bnQnKVxyXG5cdFx0fSlcclxuXHR9XHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5zZXJ2aWNlKCdBZG1pblN2YycsIGZ1bmN0aW9uICgkaHR0cCkge1xyXG5cdHZhciBzdmMgPSB0aGlzXHJcblxyXG5cdHN2Yy5nZXRBZG1pbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYWRtaW4nKVxyXG5cdH1cclxuXHJcblx0c3ZjLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGVtYWlsLCB1c2VybmFtZSwgcGFzc3dvcmQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHBob25lKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9hZG1pbicsIHtcclxuXHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lLFxyXG5cdFx0XHRwYXNzd29yZDogcGFzc3dvcmQsXHJcblx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0Zmlyc3ROYW1lOiBmaXJzdE5hbWUsXHJcblx0XHRcdGxhc3ROYW1lOiBsYXN0TmFtZSxcclxuXHRcdFx0cGhvbmU6IHBob25lXHJcblx0XHR9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIHN2Yy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLmNoZWNrVG9rZW4gPSBmdW5jdGlvbih0b2tlbikge1xyXG5cdFx0JGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddID0gd2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuXHJcblx0XHRyZXR1cm4gc3ZjLmdldEFkbWluKClcclxuXHR9XHJcblxyXG5cdHN2Yy5sb2dpbiA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2FkbWluLXNlc3Npb25zJywge1xyXG5cdFx0XHR1c2VybmFtZTogdXNlcm5hbWUsIHBhc3N3b3JkOiBwYXNzd29yZFxyXG5cdFx0fSlcclxuXHRcdC50aGVuKGZ1bmN0aW9uICh2YWwpIHtcclxuXHRcdFx0d2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuID0gdmFsLmRhdGFcclxuXHRcdFx0JGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddID0gdmFsLmRhdGFcclxuXHRcdFx0cmV0dXJuIHN2Yy5nZXRBZG1pbigpXHJcblx0XHR9LCBmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0cmV0dXJuIGVyclxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy5sb2dvdXQgPSBmdW5jdGlvbigpIHtcclxuXHRcdGRlbGV0ZSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ11cclxuXHRcdHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlID0gZnVuY3Rpb24gKGlkLCB1c2VybmFtZSwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwsIHBob25lKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2FkbWluL3VwZGF0ZScsIHtcclxuXHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHR1c2VybmFtZTogdXNlcm5hbWUsXHJcblx0XHRcdGZpcnN0TmFtZTogZmlyc3ROYW1lLFxyXG5cdFx0XHRsYXN0TmFtZTogbGFzdE5hbWUsXHJcblx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0cGhvbmU6IHBob25lXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLnVwZGF0ZVBhc3N3b3JkID0gZnVuY3Rpb24gKGlkLCBuZXdQYXNzd29yZCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9hZG1pbi91cGRhdGVQYXNzd29yZCcsIHtcclxuXHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHRwYXNzd29yZDogbmV3UGFzc3dvcmRcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlQmlvID0gZnVuY3Rpb24gKGlkLCBiaW8pIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYWRtaW4vdXBkYXRlQmlvJywge1xyXG5cdFx0XHRpZDogaWQsXHJcblx0XHRcdGJpbzogYmlvXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLmdldEFsbFVzZXJzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9hZG1pbi9nZXRBbGxVc2VycycpXHJcblx0fVxyXG5cclxuXHQvLyBzdmMuZ2V0QWxsQ2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XHJcblx0Ly8gXHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2FkbWluL2dldEFsbENoaWxkcmVuJylcclxuXHQvLyB9XHJcblxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignQWRtaW5DdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgQWRtaW5TdmMsICRsb2NhdGlvbikge1xyXG5cdCRzY29wZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYod2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuKSB7XHJcblx0XHRcdEFkbWluU3ZjLmNoZWNrVG9rZW4oKVxyXG5cdFx0XHQudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHQkc2NvcGUuY3VycmVudEFkbWluID0gcmVzLmRhdGFcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdCRzY29wZS4kb24oJ2xvZ2luJywgZnVuY3Rpb24oXywgYWRtaW4pIHtcclxuXHRcdCRzY29wZS5jdXJyZW50QWRtaW4gPSBhZG1pblxyXG5cdH0pXHJcblxyXG5cdCRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpIHtcclxuXHRcdEFkbWluU3ZjLmxvZ291dCgpXHJcblx0XHRkZWxldGUgJHNjb3BlLmN1cnJlbnRBZG1pblxyXG5cdFx0JGxvY2F0aW9uLnBhdGgoJy9hZG1pbicpXHJcblx0fVxyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0FkbWluQ29udGVudEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIEFkbWluQ29udGVudFN2YywgJGxvY2F0aW9uKSB7XHJcblxyXG5cclxuXHRBZG1pbkNvbnRlbnRTdmMuZ2V0QWxsSG9tZXBhZ2VFbGVtZW50cygpLnRoZW4oZnVuY3Rpb24oZWxlbXMpIHtcclxuXHRcdCRzY29wZS5ob21lcGFnZV9jb250ZW50ID0gZWxlbXMuZGF0YVxyXG5cdH0pXHJcblxyXG5cdEFkbWluQ29udGVudFN2Yy5nZXRBbGxCdWNrZXRzKCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdCRzY29wZS5idWNrZXRzID0gcmVzLmRhdGFcclxuXHR9KVxyXG5cclxuXHRBZG1pbkNvbnRlbnRTdmMuZ2V0QWxsQ2xhc3Nlc0VsZW1lbnRzKCkudGhlbihmdW5jdGlvbihlbGVtcykge1xyXG5cdFx0JHNjb3BlLmNsYXNzZXNfY29udGVudCA9IGVsZW1zLmRhdGFcclxuXHR9KVxyXG5cclxuXHRBZG1pbkNvbnRlbnRTdmMuZ2V0QWxsQ2xhc3NlcygpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHQkc2NvcGUuY2xhc3NlcyA9IHJlcy5kYXRhXHJcblx0fSlcclxuXHJcblx0QWRtaW5Db250ZW50U3ZjLmdldEFsbEFib3V0RWxlbWVudHMoKS50aGVuKGZ1bmN0aW9uKGVsZW1zKSB7XHJcblx0XHQkc2NvcGUuYWJvdXRfY29udGVudCA9IGVsZW1zLmRhdGFcclxuXHR9KVxyXG5cclxuXHRBZG1pbkNvbnRlbnRTdmMuZ2V0QWxsRmFxRWxlbWVudHMoKS50aGVuKGZ1bmN0aW9uKGVsZW1zKSB7XHJcblx0XHQkc2NvcGUuZmFxX2NvbnRlbnQgPSBlbGVtcy5kYXRhXHJcblx0fSlcclxuXHJcblx0QWRtaW5Db250ZW50U3ZjLmdldEFsbEZhcXMoKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0JHNjb3BlLmZhcSA9IHJlcy5kYXRhXHJcblx0fSlcclxuXHJcblx0JHNjb3BlLnNldEZhcVRvVXBkYXRlID0gZnVuY3Rpb24oZmFxKSB7XHJcblx0XHQkc2NvcGUuY3VycmVudEFkbWluLmZhcVRvVXBkYXRlID0gZmFxXHJcblx0fVxyXG5cclxuXHQkc2NvcGUudXBkYXRlRmFxID0gZnVuY3Rpb24oZmFxKSB7XHJcblxyXG5cdFx0QWRtaW5Db250ZW50U3ZjLnVwZGF0ZUZhcShmYXEpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9jbS1mYXEnKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5hZGRGYXEgPSBmdW5jdGlvbiAocXVlc3Rpb24sIGFuc3dlcikge1xyXG5cdFx0JHNjb3BlLmlucHV0RXJyb3IgPSBmYWxzZVxyXG5cdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICcnXHJcblxyXG5cdFx0aWYoIXF1ZXN0aW9uIHx8ICFhbnN3ZXIpIHtcclxuXHRcdFx0JHNjb3BlLmlucHV0RXJyb3IgPSB0cnVlXHJcblx0XHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnQWxsIHRleHQgZmllbGRzIG11c3QgY29udGFpbiBjb250ZW50J1xyXG5cdFx0XHRyZXR1cm5cclxuXHRcdH1cclxuXHJcblx0XHRBZG1pbkNvbnRlbnRTdmMuYWRkRmFxKHF1ZXN0aW9uLCBhbnN3ZXIpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9jbS1mYXEnKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5kZWxldGVGYXEgPSBmdW5jdGlvbihmYXEpIHtcclxuXHRcdEFkbWluQ29udGVudFN2Yy5kZWxldGVGYXEoZmFxKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY20tZmFxJylcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQkc2NvcGUuYWRkRWxlbWVudCA9IGZ1bmN0aW9uIChuYW1lLCBsb2NhdGlvbiwgZGVzYywgdmFsdWUpIHtcclxuXHRcdCRzY29wZS5pbnB1dEVycm9yID0gZmFsc2VcclxuXHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnJ1xyXG5cclxuXHRcdEFkbWluQ29udGVudFN2Yy5hZGRFbGVtZW50KG5hbWUsIGxvY2F0aW9uLCBkZXNjLCB2YWx1ZSlcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NtJylcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQkc2NvcGUuc2V0RWxlbWVudFRvVXBkYXRlID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG5cdFx0JHNjb3BlLmN1cnJlbnRBZG1pbi5lbGVtZW50VG9VcGRhdGUgPSBlbGVtZW50XHJcblx0fVxyXG5cclxuXHQkc2NvcGUudXBkYXRlRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuXHRcdEFkbWluQ29udGVudFN2Yy51cGRhdGVFbGVtZW50KGVsZW1lbnQpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9jbScpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLmFkZENsYXNzID0gZnVuY3Rpb24gKHRpdGxlLCBzdWJ0aXRsZSwgY29sb3IsIGljb24sIGRlc2MpIHtcclxuXHRcdCRzY29wZS5pbnB1dEVycm9yID0gZmFsc2VcclxuXHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnJ1xyXG5cclxuXHRcdGlmKCF0aXRsZSB8fCAhZGVzYykge1xyXG5cdFx0XHQkc2NvcGUuaW5wdXRFcnJvciA9IHRydWVcclxuXHRcdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICdBbGwgdGV4dCBmaWVsZHMgbXVzdCBjb250YWluIGNvbnRlbnQnXHJcblx0XHRcdHJldHVyblxyXG5cdFx0fVxyXG5cclxuXHRcdEFkbWluQ29udGVudFN2Yy5hZGRDbGFzcyh0aXRsZSwgc3VidGl0bGUsIGNvbG9yLCBpY29uLCBkZXNjKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY20tY2xhc3NlcycpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLnNldENsYXNzVG9VcGRhdGUgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcblx0XHQkc2NvcGUuY3VycmVudEFkbWluLmNsYXNzVG9VcGRhdGUgPSBlbGVtZW50XHJcblx0fVxyXG5cclxuXHQkc2NvcGUudXBkYXRlQ2xhc3MgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcblx0XHRBZG1pbkNvbnRlbnRTdmMudXBkYXRlQ2xhc3MoZWxlbWVudClcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NtLWNsYXNzZXMnKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5kZWxldGVDbGFzcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuXHRcdEFkbWluQ29udGVudFN2Yy5kZWxldGVDbGFzcyhlbGVtZW50KVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY20tY2xhc3NlcycpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLmFkZEJ1Y2tldCA9IGZ1bmN0aW9uICh0aXRsZSwgY29sb3IsIGljb24sIGRlc2MpIHtcclxuXHRcdCRzY29wZS5pbnB1dEVycm9yID0gZmFsc2VcclxuXHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnJ1xyXG5cclxuXHRcdGlmKCF0aXRsZSB8fCAhZGVzYykge1xyXG5cdFx0XHQkc2NvcGUuaW5wdXRFcnJvciA9IHRydWVcclxuXHRcdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICdBbGwgdGV4dCBmaWVsZHMgbXVzdCBjb250YWluIGNvbnRlbnQnXHJcblx0XHRcdHJldHVyblxyXG5cdFx0fVxyXG5cclxuXHRcdEFkbWluQ29udGVudFN2Yy5hZGRCdWNrZXQodGl0bGUsIGNvbG9yLCBpY29uLCBkZXNjKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY20taG9tZXBhZ2UnKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5zZXRCdWNrZXRUb1VwZGF0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuXHRcdCRzY29wZS5jdXJyZW50QWRtaW4uYnVja2V0VG9VcGRhdGUgPSBlbGVtZW50XHJcblx0fVxyXG5cclxuXHQkc2NvcGUudXBkYXRlQnVja2V0ID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG5cdFx0QWRtaW5Db250ZW50U3ZjLnVwZGF0ZUJ1Y2tldChlbGVtZW50KVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY20taG9tZXBhZ2UnKVxyXG5cdFx0fSlcclxuXHR9XHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5zZXJ2aWNlKCdBZG1pbkNvbnRlbnRTdmMnLCBmdW5jdGlvbiAoJGh0dHApIHtcclxuXHR2YXIgc3ZjID0gdGhpc1xyXG5cclxuXHRzdmMuZ2V0QWxsRWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsRWxlbWVudHMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmdldEFsbEhvbWVwYWdlRWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsSG9tZXBhZ2VFbGVtZW50cycpXHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0QWxsQnVja2V0cyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29udGVudC9nZXRBbGxCdWNrZXRzJylcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxDbGFzc2VzRWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsQ2xhc3Nlc0VsZW1lbnRzJylcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxDbGFzc2VzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbENsYXNzZXMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmdldEFsbEFib3V0RWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsQWJvdXRFbGVtZW50cycpXHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0QWxsRmFxRWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsRmFxRWxlbWVudHMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmFkZEVsZW1lbnQgPSBmdW5jdGlvbiAobmFtZSwgbG9jYXRpb24sIGRlc2MsIHZhbHVlKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jb250ZW50L2FkZEVsZW1lbnQnLCB7XHJcblx0XHRcdG5hbWU6IG5hbWUsXHJcblx0XHRcdGxvY2F0aW9uOiBsb2NhdGlvbixcclxuXHRcdFx0ZGVzY3JpcHRpb246IGRlc2MsXHJcblx0XHRcdHZhbHVlOiB2YWx1ZVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy51cGRhdGVFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY29udGVudC91cGRhdGVFbGVtZW50JywgZWxlbWVudClcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxGYXFzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbEZhcXMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmFkZEZhcSA9IGZ1bmN0aW9uIChxdWVzdGlvbiwgYW5zd2VyKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jb250ZW50L2FkZEZhcScsIHtcclxuXHRcdFx0cXVlc3Rpb246IHF1ZXN0aW9uLFxyXG5cdFx0XHRhbnN3ZXI6IGFuc3dlclxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy51cGRhdGVGYXEgPSBmdW5jdGlvbiAoZmFxKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2NvbnRlbnQvdXBkYXRlRmFxJywgZmFxKVxyXG5cdH1cclxuXHJcblx0c3ZjLmRlbGV0ZUZhcSA9IGZ1bmN0aW9uIChmYXEpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY29udGVudC9kZWxldGVGYXEnLCBmYXEpXHJcblx0fVxyXG5cclxuXHRzdmMuYWRkQ2xhc3MgPSBmdW5jdGlvbiAodGl0bGUsIHN1YnRpdGxlLCBjb2xvciwgaWNvbiwgZGVzYykge1xyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvY29udGVudC9hZGRDbGFzcycsIHtcclxuXHRcdFx0dGl0bGU6IHRpdGxlLFxyXG5cdFx0XHRzdWJ0aXRsZTogc3VidGl0bGUsXHJcblx0XHRcdGljb246IGljb24sXHJcblx0XHRcdGNvbG9yOiBjb2xvcixcclxuXHRcdFx0ZGVzY3JpcHRpb246IGRlc2NcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlQ2xhc3MgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9jb250ZW50L3VwZGF0ZUNsYXNzJywgZWxlbWVudClcclxuXHR9XHJcblxyXG5cdHN2Yy5kZWxldGVDbGFzcyA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2NvbnRlbnQvZGVsZXRlQ2xhc3MnLCBlbGVtZW50KVxyXG5cdH1cclxuXHJcblx0c3ZjLmFkZEJ1Y2tldCA9IGZ1bmN0aW9uICh0aXRsZSwgY29sb3IsIGljb24sIGRlc2MpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2NvbnRlbnQvYWRkQnVja2V0Jywge1xyXG5cdFx0XHR0aXRsZTogdGl0bGUsXHJcblx0XHRcdGljb246IGljb24sXHJcblx0XHRcdGNvbG9yOiBjb2xvcixcclxuXHRcdFx0ZGVzY3JpcHRpb246IGRlc2NcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlQnVja2V0ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY29udGVudC91cGRhdGVCdWNrZXQnLCBlbGVtZW50KVxyXG5cdH1cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0FwcGxpY2F0aW9uQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsIFVzZXJTdmMsICRsb2NhdGlvbiwgJGh0dHApIHtcclxuXHQkc2NvcGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS50b2tlbikge1xyXG5cdFx0XHRVc2VyU3ZjLmNoZWNrVG9rZW4oKVxyXG5cdFx0XHQudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHQkc2NvcGUuY3VycmVudFVzZXIgPSByZXMuZGF0YVxyXG5cdFx0XHR9KVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLiRvbignbG9naW4nLCBmdW5jdGlvbihfLCB1c2VyKSB7XHJcblx0XHQkc2NvcGUuY3VycmVudFVzZXIgPSB1c2VyXHJcblx0fSlcclxuXHJcblx0JHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0VXNlclN2Yy5sb2dvdXQoKVxyXG5cdFx0ZGVsZXRlICRzY29wZS5jdXJyZW50VXNlclxyXG5cdFx0JGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpXHJcblx0fVxyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0NoaWxkQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uKSB7XHJcblxyXG5cdCRzY29wZS5hZGRDaGlsZCA9IGZ1bmN0aW9uIChhZHVsdElkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBkb2IsIG5vdGVzKSB7XHJcblx0XHRVc2VyU3ZjLmFkZENoaWxkKGFkdWx0SWQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIGRvYiwgbm90ZXMpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy91c2VyLWFjY291bnQnKVxyXG5cdFx0fSlcclxuXHR9XHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuc2VydmljZSgnQ2xhc3NTVkMnLCBmdW5jdGlvbiAoJGh0dHApIHtcclxuICAgICAgICB2YXIgc3ZjID0gdGhpc1xyXG5cclxuICAgICAgICAvLyBzdmMuZ2V0QWRtaW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2xhc3NlcycpXHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBzdmMuYWRkQ2xhc3MgPSBmdW5jdGlvbiAodGl0bGUsIGRlc2NyaXB0aW9uLCB0aW1lLCBkYXlzLCBhbGJ1bSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jbGFzc2VzL2FkZENsYXNzJywge1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgdGltZTogdGltZSxcclxuICAgICAgICAgICAgICAgIGRheXM6IGRheXMsXHJcbiAgICAgICAgICAgICAgICBhbGJ1bTogYWxidW1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN2Yy51cGRhdGVDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc18pIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9jbGFzc2VzL3VwZGF0ZUNsYXNzJywgY2xhc3NfKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3ZjLmRlbGV0ZUNsYXNzID0gZnVuY3Rpb24gKGNsYXNzXykge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2NsYXNzZXMvZGVsZXRlQ2xhc3MnLCBjbGFzc18pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdmMuZ2V0QWxsQ2xhc3NlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9jbGFzc2VzL2dldEFsbENsYXNzZXMnKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3ZjLmdldEFsbENoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NsYXNzZXMvZ2V0QWxsQ2hpbGRyZW4nKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3ZjLmdldEFsbFN0dWRlbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NsYXNzZXMvZ2V0QWxsU3R1ZGVudHMnKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3ZjLmdldFN0dWRlbnRzTmFtZXMgPSBmdW5jdGlvbiAoc3R1ZGVudHMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdHVkZW50cyBpbiBjbGFzcy5zdmMgIFwiKVxyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NsYXNzZXMvZ2V0U3R1ZGVudHNOYW1lcycsIHN0dWRlbnRzKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3ZjLmFkZFRvQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NfKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY2xhc3Nlcy9hZGRUb0NsYXNzJywgY2xhc3NfKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3ZjLnJlbW92ZUZyb21DbGFzcyA9IGZ1bmN0aW9uIChjbGFzc18pIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9jbGFzc2VzL3JlbW92ZUZyb21DbGFzcycsIGNsYXNzXylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN2Yy5yZW1vdmVBbGwgPSBmdW5jdGlvbiAoY2xhc3NfKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY2xhc3Nlcy9yZW1vdmVBbGwnLCBjbGFzc18pXHJcbiAgICAgICAgfVxyXG4gICAgfSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0NsaWVudHNDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgQWRtaW5TdmMpIHtcclxuICAgIEFkbWluU3ZjLmdldEFsbFVzZXJzKCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAkc2NvcGUuY2xpZW50cyA9IHJlcy5kYXRhXHJcbiAgICB9KVxyXG5cclxuICAgIC8vIEFkbWluU3ZjLmdldEFsbENoaWxkcmVuKCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuICAgIC8vICAgICAkc2NvcGUuY2hpbGRyZW4gPSByZXMuZGF0YVxyXG4gICAgLy8gfSlcclxuXHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdDb250ZW50Q3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgQ29udGVudFN2Yykge1xyXG5cclxuXHRDb250ZW50U3ZjLmdldEFsbEVsZW1lbnRzKCkudGhlbihmdW5jdGlvbihlbGVtcykge1xyXG5cdFx0YW5ndWxhci5mb3JFYWNoKGVsZW1zLmRhdGEsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xyXG5cdFx0XHQkc2NvcGVbdmFsdWUubmFtZV0gPSB2YWx1ZS52YWx1ZVxyXG5cdFx0fSlcclxuXHR9KVxyXG5cclxuXHRDb250ZW50U3ZjLmdldEFsbEJ1Y2tldHMoKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0JHNjb3BlLmJ1Y2tldHMgPSByZXMuZGF0YVxyXG5cdH0pXHJcblxyXG5cdENvbnRlbnRTdmMuZ2V0QWxsQ2xhc3NlcygpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHQkc2NvcGUuY2xhc3NlcyA9IHJlcy5kYXRhXHJcblx0fSlcclxuXHJcblx0Q29udGVudFN2Yy5nZXRBbGxGYXFzKCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdCRzY29wZS5mYXEgPSByZXMuZGF0YVxyXG5cdH0pXHJcblxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uc2VydmljZSgnQ29udGVudFN2YycsIGZ1bmN0aW9uICgkaHR0cCkge1xyXG5cdHZhciBzdmMgPSB0aGlzXHJcblxyXG5cdHN2Yy5nZXRBbGxFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29udGVudC9nZXRBbGxFbGVtZW50cycpXHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0QWxsQnVja2V0cyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29udGVudC9nZXRBbGxCdWNrZXRzJylcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxDbGFzc2VzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbENsYXNzZXMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmdldEFsbEZhcXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsRmFxcycpXHJcblx0fVxyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0xvZ2luQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uKSB7XHJcblxyXG5cdCRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uIChlbWFpbCwgcGFzc3dvcmQpIHtcclxuXHRcdCRzY29wZS5sb2dpbkVycm9yID0gZmFsc2VcclxuXHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnJ1xyXG5cclxuXHRcdHZhciBtb2RpZmllZEVtYWlsID0gZW1haWwudG9Mb3dlckNhc2UoKVxyXG5cclxuXHRcdFVzZXJTdmMubG9naW4obW9kaWZpZWRFbWFpbCwgcGFzc3dvcmQpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcblx0XHRcdGlmKHJlcy5zdGF0dXMgPT0gNDAxKSB7XHJcblx0XHRcdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9IHJlcy5kYXRhXHJcblx0XHRcdFx0JHNjb3BlLmxvZ2luRXJyb3IgPSB0cnVlXHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JHNjb3BlLiRlbWl0KCdsb2dpbicsIHJlcy5kYXRhKVxyXG5cdFx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvdXNlci1hY2NvdW50JylcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9XHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdSZWdpc3RlckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXJTdmMsICRsb2NhdGlvbikge1xyXG5cclxuXHQkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoZW1haWwsIHBhc3N3b3JkLCBjaGVja3Bhc3MsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHN0cmVldEFkZHJlc3MsIGNpdHksIHN0YXRlLCB6aXAsIHBob25lKSB7XHJcblx0XHRpZiAocGFzc3dvcmQgIT0gY2hlY2twYXNzKSB7XHJcblx0XHRcdCRzY29wZS5yZWdpc3RlckVycm9yID0gdHJ1ZVxyXG5cdFx0XHQkc2NvcGUuZXJyb3JNZXNzYWdlID0gJ0Vycm9yOiBQYXNzd29yZHMgbXVzdCBtYXRjaCdcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHR9XHJcblxyXG5cdFx0JHNjb3BlLnJlZ2lzdGVyRXJyb3IgPSBmYWxzZVxyXG5cclxuXHRcdHZhciBtb2RpZmllZEVtYWlsID0gZW1haWwudG9Mb3dlckNhc2UoKVxyXG5cclxuXHRcdFVzZXJTdmMucmVnaXN0ZXIobW9kaWZpZWRFbWFpbCwgcGFzc3dvcmQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHN0cmVldEFkZHJlc3MsIGNpdHksIHN0YXRlLCB6aXAsIHBob25lKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRzY29wZS4kZW1pdCgnbG9naW4nLCByZXNwb25zZS5kYXRhKVxyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL3VzZXItYWNjb3VudCcpXHJcblx0XHR9KVxyXG5cdH1cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ1Jlc2V0Q3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uKSB7XHJcbiAgICAkc2NvcGUucmVzZXRQYXNzd29yZCA9IGZ1bmN0aW9uIChlbWFpbCkge1xyXG4gICAgICAgICRzY29wZS5pbnZhbGlkRW1haWwgPSBmYWxzZVxyXG4gICAgICAgICRzY29wZS5wYXNzd29yZFJlc2V0ID0gZmFsc2VcclxuICAgICAgICAkc2NvcGUuSW52YWxpZEVtYWlsTWVzc2FnZSA9ICcnXHJcbiAgICAgICAgdmFyIG1vZGlmaWVkRW1haWwgPSBlbWFpbC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgdmFyIG5ld1Bhc3N3b3JkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoLTEwKTtcclxuXHJcbiAgICAgICAgVXNlclN2Yy5yZXNldFBhc3N3b3JkKG1vZGlmaWVkRW1haWwsIG5ld1Bhc3N3b3JkKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXMuc3RhdHVzID09IDQwMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYXBwbHlpbmcgaW52YWxpZCBlbWFpbFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkRW1haWwgPSByZXMuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW52YWxpZEVtYWlsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGFzc3dvcmRSZXNldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgVXNlclN2Yy5lbWFpbChlbWFpbCwgbmV3UGFzc3dvcmQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcblx0LmNvbmZpZyhmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcblx0XHRcdCRyb3V0ZVByb3ZpZGVyXHJcblx0XHRcdC53aGVuKCcvJywgeyBjb250cm9sbGVyOiAnQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2luZGV4Lmh0bWwnIH0pXHJcblx0XHRcdC53aGVuKCcvY2xhc3NlcycsIHsgY29udHJvbGxlcjogJ0NvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbGFzc2VzLmh0bWwnIH0pXHJcblx0XHRcdC53aGVuKCcvYWJvdXQnLCB7IGNvbnRyb2xsZXI6ICdDb250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnYWJvdXQuaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy9mYXEnLCB7IGNvbnRyb2xsZXI6ICdDb250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnZmFxLmh0bWwnIH0pXHJcblxyXG5cdFx0XHQud2hlbignL2xvZ2luJywgeyBjb250cm9sbGVyOiAnTG9naW5DdHJsJywgdGVtcGxhdGVVcmw6ICdsb2dpbi5odG1sJyB9KVxyXG5cdFx0XHQud2hlbignL3JlZ2lzdGVyJywgeyBjb250cm9sbGVyOiAnUmVnaXN0ZXJDdHJsJywgdGVtcGxhdGVVcmw6ICdyZWdpc3RyYXRpb24uaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy9yZXNldC1wYXNzd29yZCcsIHsgY29udHJvbGxlcjogJ1Jlc2V0Q3RybCcsIHRlbXBsYXRlVXJsOiAncmVzZXQtcGFzc3dvcmQuaHRtbCd9KVxyXG5cdFx0XHRcclxuXHRcdFx0LndoZW4oJy91c2VyLWFjY291bnQnLCB7IGNvbnRyb2xsZXI6ICdVc2VyQ3RybCcsIHRlbXBsYXRlVXJsOiAndXNlci91c2VyLWFjY291bnQuaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy91cGRhdGUtdXNlci1hY2NvdW50JywgeyBjb250cm9sbGVyOiAnVXBkYXRlQ3RybCcsIHRlbXBsYXRlVXJsOiAndXNlci91cGRhdGUtdXNlci1hY2NvdW50Lmh0bWwnIH0pXHJcblx0XHRcdC53aGVuKCcvdXBkYXRlLXVzZXItcGFzc3dvcmQnLCB7IGNvbnRyb2xsZXI6ICdVcGRhdGVDdHJsJywgdGVtcGxhdGVVcmw6ICd1c2VyL3VwZGF0ZS11c2VyLXBhc3N3b3JkLmh0bWwnIH0pXHJcblxyXG5cdFx0XHQud2hlbignL2FkZC1jaGlsZCcsIHsgY29udHJvbGxlcjogJ0NoaWxkQ3RybCcsIHRlbXBsYXRlVXJsOiAndXNlci9hZGQtY2hpbGQuaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy91cGRhdGUtY2hpbGQnLCB7IGNvbnRyb2xsZXI6ICdVc2VyQ3RybCcsIHRlbXBsYXRlVXJsOiAndXNlci91cGRhdGUtY2hpbGQuaHRtbCcgfSlcclxuXHJcblx0XHRcdC53aGVuKCcvdXNlci1jbGFzc2VzJywgeyB0ZW1wbGF0ZVVybDogJ3VzZXIvdXNlci1jbGFzc2VzLmh0bWwnIH0pXHJcblx0XHRcdC53aGVuKCcvdXNlci1waG90b3MnLCB7IHRlbXBsYXRlVXJsOiAndXNlci91c2VyLXBob3Rvcy5odG1sJyB9KVxyXG5cdFx0XHQud2hlbignL3VzZXItcGF5bWVudHMnLCB7IHRlbXBsYXRlVXJsOiAndXNlci91c2VyLXBheW1lbnRzLmh0bWwnIH0pXHJcblx0XHRcdC53aGVuKCcvdXNlci1mb3JtcycsIHsgdGVtcGxhdGVVcmw6ICd1c2VyL3VzZXItZm9ybXMuaHRtbCcgfSlcclxuXHRcdFx0XHJcblx0XHRcdC53aGVuKCcvYWRtaW4nLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkxvZ2luQ3RybCcsIHRlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tbG9naW4uaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy9hZG1pbi1yZWdpc3RlcicsIHsgY29udHJvbGxlcjogJ0FkbWluTG9naW5DdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi9yZWdpc3RyYXRpb24uaHRtbCcgfSlcclxuXHJcblx0XHRcdC53aGVuKCcvYWRtaW4tYWNjb3VudCcsIHsgdGVtcGxhdGVVcmw6ICdhZG1pbi9hZG1pbi1hY2NvdW50Lmh0bWwnIH0pXHJcblx0XHRcdC53aGVuKCcvdXBkYXRlLWFkbWluLWFjY291bnQnLCB7IGNvbnRyb2xsZXI6ICdVcGRhdGVBZG1pbkN0cmwnLCB0ZW1wbGF0ZVVybDogJ2FkbWluL3VwZGF0ZS1hZG1pbi1hY2NvdW50Lmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy91cGRhdGUtYWRtaW4tcGFzc3dvcmQnLCB7IGNvbnRyb2xsZXI6ICdVcGRhdGVBZG1pbkN0cmwnLCB0ZW1wbGF0ZVVybDogJ2FkbWluL3VwZGF0ZS1hZG1pbi1wYXNzd29yZC5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvdXBkYXRlLWFkbWluLWJpbycsIHsgY29udHJvbGxlcjogJ1VwZGF0ZUFkbWluQ3RybCcsIHRlbXBsYXRlVXJsOiAnYWRtaW4vdXBkYXRlLWFkbWluLWJpby5odG1sJ30pXHJcblxyXG5cdFx0XHQud2hlbignL2FkbWluLWNsYXNzZXMnLCB7IGNvbnRyb2xsZXI6ICdDbGFzc0N0cmwnLCB0ZW1wbGF0ZVVybDogJ2FkbWluL2FkbWluLWNsYXNzZXMuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL2FkbWluLWFkZC1jbGFzcycsIHsgY29udHJvbGxlcjogJ0NsYXNzQ3RybCcsIHRlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tYWRkLWNsYXNzLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9hZG1pbi11cGRhdGUtY2xhc3MnLCB7IGNvbnRyb2xsZXI6ICdDbGFzc0N0cmwnLCB0ZW1wbGF0ZVVybDogJ2FkbWluL2FkbWluLXVwZGF0ZS1jbGFzcy5odG1sJyB9KVxyXG5cclxuXHRcdFx0LndoZW4oJy9hZG1pbi1jbGllbnRzJywge2NvbnRyb2xsZXI6ICdDbGllbnRzQ3RybCcsIHRlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tY2xpZW50cy5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvYWRtaW4tcGhvdG9zJywge3RlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tcGhvdG9zLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9hZG1pbi1wYXltZW50cycsIHt0ZW1wbGF0ZVVybDogJ2FkbWluL2FkbWluLXBheW1lbnRzLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9hZG1pbi1mb3JtcycsIHt0ZW1wbGF0ZVVybDogJ2FkbWluL2FkbWluLWZvcm1zLmh0bWwnfSlcclxuXHJcblx0XHRcdC53aGVuKCcvY20nLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvY20tZWxlbWVudC1hZGQnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1lbGVtZW50LWFkZC5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvY20tZWxlbWVudC1lZGl0JywgeyBjb250cm9sbGVyOiAnQWRtaW5Db250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnY20vY20tZWxlbWVudC1lZGl0Lmh0bWwnfSlcclxuXHJcblx0XHRcdC53aGVuKCcvY20taG9tZXBhZ2UnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1ob21lcGFnZS5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvY20tY2xhc3NlcycsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWNsYXNzZXMuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL2NtLWFib3V0JywgeyBjb250cm9sbGVyOiAnQWRtaW5Db250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnY20vY20tYWJvdXQuaHRtbCd9KVxyXG5cclxuXHRcdFx0LndoZW4oJy9jbS1jbGFzcy1hZGQnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1jbGFzcy1hZGQuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL2NtLWNsYXNzLWVkaXQnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1jbGFzcy1lZGl0Lmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9jbS1idWNrZXQtYWRkJywgeyBjb250cm9sbGVyOiAnQWRtaW5Db250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnY20vY20tYnVja2V0LWFkZC5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvY20tYnVja2V0LWVkaXQnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1idWNrZXQtZWRpdC5odG1sJ30pXHJcblxyXG5cdFx0XHQud2hlbignL2NtLWZhcScsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWZhcS5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvY20tZmFxLWFkZCcsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWZhcS1hZGQuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL2NtLWZhcS1lZGl0JywgeyBjb250cm9sbGVyOiAnQWRtaW5Db250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnY20vY20tZmFxLWVkaXQuaHRtbCd9KVxyXG5cclxuXHQkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcbn0pXHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignVXBkYXRlQWRtaW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBBZG1pblN2YywgJGxvY2F0aW9uKSB7XHJcbiAgICAkc2NvcGUudXBkYXRlID0gZnVuY3Rpb24gKGlkLCB1c2VybmFtZSwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwsIHBob25lKSB7XHJcbiAgICAgICAgQWRtaW5TdmMudXBkYXRlKGlkLCB1c2VybmFtZSwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwsIHBob25lKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9hZG1pbi1hY2NvdW50JylcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAkc2NvcGUudXBkYXRlUGFzc3dvcmQgPSBmdW5jdGlvbiAoaWQsIG5ld1Bhc3N3b3JkLCBjaGVja1Bhc3N3b3JkKSB7XHJcbiAgICAgICAgaWYgKG5ld1Bhc3N3b3JkICE9IGNoZWNrUGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnBhc3N3b3Jkc01hdGNoID0gdHJ1ZVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5wYXNzd29yZHNNYXRjaCA9IGZhbHNlXHJcblxyXG4gICAgICAgIEFkbWluU3ZjLnVwZGF0ZVBhc3N3b3JkKGlkLCBuZXdQYXNzd29yZClcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9hZG1pbi1hY2NvdW50JylcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAkc2NvcGUudXBkYXRlQmlvID0gZnVuY3Rpb24gKGlkLCBiaW8pIHtcclxuICAgICAgICBBZG1pblN2Yy51cGRhdGVCaW8oaWQsIGJpbylcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9hZG1pbi1hY2NvdW50JylcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdVcGRhdGVDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjLCAkbG9jYXRpb24pIHtcclxuXHQkc2NvcGUudXBkYXRlID0gZnVuY3Rpb24gKGlkLCBlbWFpbCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgc3RyZWV0QWRkcmVzcywgY2l0eSwgc3RhdGUsIHppcCwgcGhvbmUpIHtcclxuXHRcdFxyXG5cdFx0dmFyIG1vZGlmaWVkRW1haWwgPSBlbWFpbC50b0xvd2VyQ2FzZSgpXHJcblxyXG5cdFx0VXNlclN2Yy51cGRhdGUoaWQsIG1vZGlmaWVkRW1haWwsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHN0cmVldEFkZHJlc3MsIGNpdHksIHN0YXRlLCB6aXAsIHBob25lKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRzY29wZS5jdXJyZW50VXNlci5lbWFpbCA9IG1vZGlmaWVkRW1haWxcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy91c2VyLWFjY291bnQnKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS51cGRhdGVQYXNzd29yZCA9IGZ1bmN0aW9uIChpZCwgbmV3UGFzc3dvcmQsIGNoZWNrUGFzc3dvcmQpIHtcclxuXHRcdGlmIChuZXdQYXNzd29yZCAhPSBjaGVja1Bhc3N3b3JkKSB7XHJcblx0XHRcdCRzY29wZS5wYXNzd29yZHNNYXRjaCA9IHRydWVcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHR9XHJcblxyXG5cdFx0JHNjb3BlLnBhc3N3b3Jkc01hdGNoID0gZmFsc2VcclxuXHRcclxuXHRcdFVzZXJTdmMudXBkYXRlUGFzc3dvcmQoaWQsIG5ld1Bhc3N3b3JkKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL3VzZXItYWNjb3VudCcpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdVc2VyQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uKSB7XHJcblxyXG5cdFVzZXJTdmMuZ2V0QWxsQ2hpbGRyZW4oKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0JHNjb3BlLmNoaWxkcmVuID0gcmVzLmRhdGFcclxuXHR9KVxyXG5cclxuXHQkc2NvcGUuc2V0Q2hpbGRUb1VwZGF0ZSA9IGZ1bmN0aW9uKGNoaWxkKSB7XHJcblx0XHQkc2NvcGUuY3VycmVudFVzZXIuY2hpbGRUb1VwZGF0ZSA9IGNoaWxkXHJcblx0fVxyXG5cclxuXHQkc2NvcGUudXBkYXRlQ2hpbGQgPSBmdW5jdGlvbihjaGlsZCkge1xyXG5cdFx0VXNlclN2Yy51cGRhdGVDaGlsZChjaGlsZClcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL3VzZXItYWNjb3VudCcpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLmRlbGV0ZUNoaWxkID0gZnVuY3Rpb24oY2hpbGQpIHtcclxuXHRcdFVzZXJTdmMuZGVsZXRlQ2hpbGQoY2hpbGQpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy91c2VyLWFjY291bnQnKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uc2VydmljZSgnVXNlclN2YycsIGZ1bmN0aW9uICgkaHR0cCkge1xyXG5cdHZhciBzdmMgPSB0aGlzXHJcblxyXG5cdHN2Yy5nZXRVc2VyID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS91c2VycycpXHJcblx0fVxyXG5cclxuXHRzdmMucmVnaXN0ZXIgPSBmdW5jdGlvbiAoZW1haWwsIHBhc3N3b3JkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBzdHJlZXRBZGRyZXNzLCBjaXR5LCBzdGF0ZSwgemlwLCBwaG9uZSkge1xyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMnLCB7XHJcblx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0cGFzc3dvcmQ6IHBhc3N3b3JkLFxyXG5cdFx0XHRmaXJzdE5hbWU6IGZpcnN0TmFtZSxcclxuXHRcdFx0bGFzdE5hbWU6IGxhc3ROYW1lLFxyXG5cdFx0XHRzdHJlZXRBZGRyZXNzOiBzdHJlZXRBZGRyZXNzLFxyXG5cdFx0XHRjaXR5OiBjaXR5LFxyXG5cdFx0XHRzdGF0ZTogc3RhdGUsXHJcblx0XHRcdHppcDogemlwLFxyXG5cdFx0XHRwaG9uZTogcGhvbmVcclxuXHRcdH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gc3ZjLmxvZ2luKGVtYWlsLCBwYXNzd29yZClcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMuY2hlY2tUb2tlbiA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0JGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddID0gd2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuXHJcblx0XHRyZXR1cm4gc3ZjLmdldFVzZXIoKVxyXG5cdH1cclxuXHJcblx0c3ZjLmxvZ2luID0gZnVuY3Rpb24gKGVtYWlsLCBwYXNzd29yZCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2Vzc2lvbnMnLCB7XHJcblx0XHRcdGVtYWlsOiBlbWFpbCwgcGFzc3dvcmQ6IHBhc3N3b3JkXHJcblx0XHR9KVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHZhbCkge1xyXG5cdFx0XHR3aW5kb3cuc2Vzc2lvblN0b3JhZ2UudG9rZW4gPSB2YWwuZGF0YVxyXG5cdFx0XHQkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ10gPSB2YWwuZGF0YVxyXG5cdFx0XHRyZXR1cm4gc3ZjLmdldFVzZXIoKVxyXG5cdFx0fSwgZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdHJldHVybiBlcnJcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMubG9nb3V0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRkZWxldGUgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddXHJcblx0XHRzZXNzaW9uU3RvcmFnZS5jbGVhcigpO1xyXG5cdH1cclxuXHJcblx0c3ZjLnVwZGF0ZSA9IGZ1bmN0aW9uIChpZCwgZW1haWwsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHN0cmVldEFkZHJlc3MsIGNpdHksIHN0YXRlLCB6aXAsIHBob25lKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL3VzZXJzL3VwZGF0ZScsIHtcclxuXHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHRlbWFpbDogZW1haWwsXHJcblx0XHRcdGZpcnN0TmFtZTogZmlyc3ROYW1lLFxyXG5cdFx0XHRsYXN0TmFtZTogbGFzdE5hbWUsXHJcblx0XHRcdHN0cmVldEFkZHJlc3M6IHN0cmVldEFkZHJlc3MsXHJcblx0XHRcdGNpdHk6IGNpdHksXHJcblx0XHRcdHN0YXRlOiBzdGF0ZSxcclxuXHRcdFx0emlwOiB6aXAsXHJcblx0XHRcdHBob25lOiBwaG9uZVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy51cGRhdGVQYXNzd29yZCA9IGZ1bmN0aW9uIChpZCwgbmV3UGFzc3dvcmQpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvdXNlcnMvdXBkYXRlUGFzc3dvcmQnLCB7XHJcblx0XHRcdGlkOiBpZCxcclxuXHRcdFx0cGFzc3dvcmQ6IG5ld1Bhc3N3b3JkXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLnJlc2V0UGFzc3dvcmQgPSAgZnVuY3Rpb24gKGVtYWlsLCBuZXdQYXNzd29yZCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS91c2Vycy9yZXNldFBhc3N3b3JkJywge1xyXG5cdFx0XHRlbWFpbDogZW1haWwsXHJcblx0XHRcdG5ld1Bhc3N3b3JkOiBuZXdQYXNzd29yZFxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy51cGRhdGVDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS91c2Vycy91cGRhdGVDaGlsZCcsIGNoaWxkKVxyXG5cdH1cclxuXHJcblx0c3ZjLmRlbGV0ZUNoaWxkID0gZnVuY3Rpb24gKGNoaWxkKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL3VzZXJzL2RlbGV0ZUNoaWxkJywgY2hpbGQpXHJcblx0fVxyXG5cclxuXHRzdmMuYWRkQ2hpbGQgPSBmdW5jdGlvbiAoYWR1bHRJZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZG9iLCBub3Rlcykge1xyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMvYWRkQ2hpbGQnLCB7XHJcblx0XHRcdGFkdWx0SWQ6IGFkdWx0SWQsXHJcblx0XHRcdGZpcnN0TmFtZTogZmlyc3ROYW1lLFxyXG5cdFx0XHRsYXN0TmFtZTogbGFzdE5hbWUsXHJcblx0XHRcdGRvYjogZG9iLFxyXG5cdFx0XHRub3Rlczogbm90ZXNcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0QWxsQ2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzL2dldEFsbENoaWxkcmVuJylcclxuXHR9XHJcblxyXG5cdHN2Yy5lbWFpbCA9IGZ1bmN0aW9uIChlbWFpbCwgbmV3UGFzc3dvcmQpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzL3NlbmRFbWFpbCcse1xyXG5cdFx0XHRlbWFpbDogZW1haWwsXHJcblx0XHRcdG5ld1Bhc3N3b3JkOiBuZXdQYXNzd29yZFxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cclxufSlcclxuIl19
