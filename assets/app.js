angular.module("app",["ngRoute"]),angular.module("app").controller("ClassCtrl",["$scope","ClassSVC","$location",function(e,r,o){e.students=[],e.addClass=function(t,e,n,a,l){r.addClass(t,e,n,a,l).then(function(t){o.path("/admin-classes")})},r.getAllClasses().then(function(t){e.classes=t.data}),e.setClassToUpdate=function(t){e.currentAdmin.classToUpdate=t},e.updateClass=function(t){r.updateClass(t).then(function(t){o.path("/admin-classes")})},e.deleteClass=function(t){r.deleteClass(t).then(function(t){o.path("/admin-classes")})},r.getAllChildren().then(function(t){e.children=t.data}),e.addToClass=function(t,e){console.log("class "+t),console.log("students before put request "+t.children),t.children.includes(e)?console.log("child already added"):t.children.push(e),r.addToClass(t),console.log("students after put request "+t.children)},e.removeFromClass=function(t,e){var n=t.children.indexOf(e);t.children.splice(n,1);var a=t;a.children.splice(0),a.children.push(e),a.children=e,r.removeFromClass(a)},e.removeAll=function(t){console.log("I'm about to call svc remove all"),r.removeAll(t)}}]),angular.module("app").controller("AdminLoginCtrl",["$scope","AdminSvc","$location",function(s,i,c){s.login=function(t,e){s.loginError=!1,s.errorMessage="",i.login(t,e).then(function(t){if(401==t.status)return s.errorMessage=t.data,!(s.loginError=!0);s.$emit("login",t.data),c.path("/admin-account")})},s.register=function(t,e,n,a,l,r,o){if(n!=a)return s.registerError=!0,!(s.errorMessage="Error: Passwords must match");s.registerError=!1,i.register(t,e,n,l,r,o).then(function(t){s.$emit("login",t.data),c.path("/admin-account")})}}]),angular.module("app").service("AdminSvc",["$http",function(o){var s=this;s.getAdmin=function(){return o.get("/api/admin")},s.register=function(t,e,n,a,l,r){return o.post("/api/admin",{username:e,password:n,email:t,firstName:a,lastName:l,phone:r}).then(function(){return s.login(e,n)})},s.checkToken=function(t){return o.defaults.headers.common["X-Auth"]=window.sessionStorage.token,s.getAdmin()},s.login=function(t,e){return o.post("/api/admin-sessions",{username:t,password:e}).then(function(t){return window.sessionStorage.token=t.data,o.defaults.headers.common["X-Auth"]=t.data,s.getAdmin()},function(t){return t})},s.logout=function(){delete o.defaults.headers.common["X-Auth"],sessionStorage.clear()},s.update=function(t,e,n,a,l,r){return o.put("/api/admin/update",{id:t,username:e,firstName:n,lastName:a,email:l,phone:r})},s.updatePassword=function(t,e){return o.put("/api/admin/updatePassword",{id:t,password:e})},s.updateBio=function(t,e){return o.put("/api/admin/updateBio",{id:t,bio:e})},s.getAllUsers=function(){return o.get("/api/admin/getAllUsers")}}]),angular.module("app").controller("AdminCtrl",["$scope","AdminSvc","$location",function(n,t,e){n.init=function(){window.sessionStorage.token&&t.checkToken().then(function(t){n.currentAdmin=t.data})},n.$on("login",function(t,e){n.currentAdmin=e}),n.logout=function(){t.logout(),delete n.currentAdmin,e.path("/admin")}}]),angular.module("app").controller("AdminContentCtrl",["$scope","AdminContentSvc","$location",function(r,o,s){o.getAllHomepageElements().then(function(t){r.homepage_content=t.data}),o.getAllBuckets().then(function(t){r.buckets=t.data}),o.getAllClassesElements().then(function(t){r.classes_content=t.data}),o.getAllClasses().then(function(t){r.classes=t.data}),o.getAllAboutElements().then(function(t){r.about_content=t.data}),o.getAllFaqElements().then(function(t){r.faq_content=t.data}),o.getAllFaqs().then(function(t){r.faq=t.data}),r.setFaqToUpdate=function(t){r.currentAdmin.faqToUpdate=t},r.updateFaq=function(t){o.updateFaq(t).then(function(t){s.path("/cm-faq")})},r.addFaq=function(t,e){if(r.inputError=!1,r.errorMessage="",!t||!e)return r.inputError=!0,void(r.errorMessage="All text fields must contain content");o.addFaq(t,e).then(function(t){s.path("/cm-faq")})},r.deleteFaq=function(t){o.deleteFaq(t).then(function(t){s.path("/cm-faq")})},r.addElement=function(t,e,n,a){r.inputError=!1,r.errorMessage="",o.addElement(t,e,n,a).then(function(t){s.path("/cm")})},r.setElementToUpdate=function(t){r.currentAdmin.elementToUpdate=t},r.updateElement=function(t){o.updateElement(t).then(function(t){s.path("/cm")})},r.addClass=function(t,e,n,a,l){if(r.inputError=!1,r.errorMessage="",!t||!l)return r.inputError=!0,void(r.errorMessage="All text fields must contain content");o.addClass(t,e,n,a,l).then(function(t){s.path("/cm-classes")})},r.setClassToUpdate=function(t){r.currentAdmin.classToUpdate=t},r.updateClass=function(t){o.updateClass(t).then(function(t){s.path("/cm-classes")})},r.deleteClass=function(t){o.deleteClass(t).then(function(t){s.path("/cm-classes")})},r.addBucket=function(t,e,n,a){if(r.inputError=!1,r.errorMessage="",!t||!a)return r.inputError=!0,void(r.errorMessage="All text fields must contain content");o.addBucket(t,e,n,a).then(function(t){s.path("/cm-homepage")})},r.setBucketToUpdate=function(t){r.currentAdmin.bucketToUpdate=t},r.updateBucket=function(t){o.updateBucket(t).then(function(t){s.path("/cm-homepage")})}}]),angular.module("app").service("AdminContentSvc",["$http",function(r){var t=this;t.getAllElements=function(){return r.get("/api/content/getAllElements")},t.getAllHomepageElements=function(){return r.get("/api/content/getAllHomepageElements")},t.getAllBuckets=function(){return r.get("/api/content/getAllBuckets")},t.getAllClassesElements=function(){return r.get("/api/content/getAllClassesElements")},t.getAllClasses=function(){return r.get("/api/content/getAllClasses")},t.getAllAboutElements=function(){return r.get("/api/content/getAllAboutElements")},t.getAllFaqElements=function(){return r.get("/api/content/getAllFaqElements")},t.addElement=function(t,e,n,a){return r.post("/api/content/addElement",{name:t,location:e,description:n,value:a})},t.updateElement=function(t){return r.put("/api/content/updateElement",t)},t.getAllFaqs=function(){return r.get("/api/content/getAllFaqs")},t.addFaq=function(t,e){return r.post("/api/content/addFaq",{question:t,answer:e})},t.updateFaq=function(t){return r.put("/api/content/updateFaq",t)},t.deleteFaq=function(t){return r.put("/api/content/deleteFaq",t)},t.addClass=function(t,e,n,a,l){return r.post("/api/content/addClass",{title:t,subtitle:e,icon:a,color:n,description:l})},t.updateClass=function(t){return r.put("/api/content/updateClass",t)},t.deleteClass=function(t){return r.put("/api/content/deleteClass",t)},t.addBucket=function(t,e,n,a){return r.post("/api/content/addBucket",{title:t,icon:n,color:e,description:a})},t.updateBucket=function(t){return r.put("/api/content/updateBucket",t)}}]),angular.module("app").controller("ApplicationCtrl",["$scope","UserSvc","$location","$http",function(n,t,e,a){n.init=function(){window.sessionStorage.token&&t.checkToken().then(function(t){n.currentUser=t.data})},n.$on("login",function(t,e){n.currentUser=e}),n.logout=function(){t.logout(),delete n.currentUser,e.path("/login")}}]),angular.module("app").controller("ChildCtrl",["$scope","UserSvc","$location",function(t,r,o){t.addChild=function(t,e,n,a,l){r.addChild(t,e,n,a,l).then(function(t){o.path("/user-account")})}}]),angular.module("app").service("ClassSVC",["$http",function(r){var t=this;t.addClass=function(t,e,n,a,l){return r.post("/api/classes/addClass",{title:t,description:e,time:n,days:a,album:l})},t.updateClass=function(t){return r.put("/api/classes/updateClass",t)},t.deleteClass=function(t){return r.put("/api/classes/deleteClass",t)},t.getAllClasses=function(){return r.get("/api/classes/getAllClasses")},t.getAllChildren=function(){return r.get("/api/classes/getAllChildren")},t.addToClass=function(t){return r.put("/api/classes/addToClass",t)},t.removeFromClass=function(t){return r.put("/api/classes/removeFromClass",t)},t.removeAll=function(t){return r.put("/api/classes/removeAll",t)}}]),angular.module("app").controller("ClientsCtrl",["$scope","AdminSvc",function(e,t){t.getAllUsers().then(function(t){e.clients=t.data})}]),angular.module("app").controller("ContentCtrl",["$scope","ContentSvc",function(n,t){t.getAllElements().then(function(t){angular.forEach(t.data,function(t,e){n[t.name]=t.value})}),t.getAllBuckets().then(function(t){n.buckets=t.data}),t.getAllClasses().then(function(t){n.classes=t.data}),t.getAllFaqs().then(function(t){n.faq=t.data})}]),angular.module("app").service("ContentSvc",["$http",function(t){this.getAllElements=function(){return t.get("/api/content/getAllElements")},this.getAllBuckets=function(){return t.get("/api/content/getAllBuckets")},this.getAllClasses=function(){return t.get("/api/content/getAllClasses")},this.getAllFaqs=function(){return t.get("/api/content/getAllFaqs")}}]),angular.module("app").controller("LoginCtrl",["$scope","UserSvc","$location",function(a,l,r){a.login=function(t,e){a.loginError=!1,a.errorMessage="";var n=t.toLowerCase();l.login(n,e).then(function(t){if(401==t.status)return a.errorMessage=t.data,!(a.loginError=!0);a.$emit("login",t.data),r.path("/user-account")})}}]),angular.module("app").controller("RegisterCtrl",["$scope","UserSvc","$location",function(d,m,p){d.register=function(t,e,n,a,l,r,o,s,i,c){if(e!=n)return d.registerError=!0,!(d.errorMessage="Error: Passwords must match");d.registerError=!1;var u=t.toLowerCase();m.register(u,e,a,l,r,o,s,i,c).then(function(t){d.$emit("login",t.data),p.path("/user-account")})}}]),angular.module("app").controller("ResetCtrl",["$scope","UserSvc","$location",function(a,l,t){a.resetPassword=function(e){a.invalidEmail=!1,a.passwordReset=!1,a.InvalidEmailMessage="";var t=e.toLowerCase(),n=Math.random().toString(36).slice(-10);l.resetPassword(t,n).then(function(t){if(401==t.status)return console.log("applying invalid email"),a.invalidEmail=t.data,!(a.invalidEmail=!0);a.passwordReset=!0,l.email(e,n)})}}]),angular.module("app").config(["$routeProvider","$locationProvider",function(t,e){t.when("/",{controller:"ContentCtrl",templateUrl:"index.html"}).when("/classes",{controller:"ContentCtrl",templateUrl:"classes.html"}).when("/about",{controller:"ContentCtrl",templateUrl:"about.html"}).when("/faq",{controller:"ContentCtrl",templateUrl:"faq.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"login.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"registration.html"}).when("/reset-password",{controller:"ResetCtrl",templateUrl:"reset-password.html"}).when("/user-account",{controller:"UserCtrl",templateUrl:"user/user-account.html"}).when("/update-user-account",{controller:"UpdateCtrl",templateUrl:"user/update-user-account.html"}).when("/update-user-password",{controller:"UpdateCtrl",templateUrl:"user/update-user-password.html"}).when("/add-child",{controller:"ChildCtrl",templateUrl:"user/add-child.html"}).when("/update-child",{controller:"UserCtrl",templateUrl:"user/update-child.html"}).when("/user-classes",{templateUrl:"user/user-classes.html"}).when("/user-photos",{templateUrl:"user/user-photos.html"}).when("/user-payments",{templateUrl:"user/user-payments.html"}).when("/user-forms",{templateUrl:"user/user-forms.html"}).when("/admin",{controller:"AdminLoginCtrl",templateUrl:"admin/admin-login.html"}).when("/admin-register",{controller:"AdminLoginCtrl",templateUrl:"admin/registration.html"}).when("/admin-account",{templateUrl:"admin/admin-account.html"}).when("/update-admin-account",{controller:"UpdateAdminCtrl",templateUrl:"admin/update-admin-account.html"}).when("/update-admin-password",{controller:"UpdateAdminCtrl",templateUrl:"admin/update-admin-password.html"}).when("/update-admin-bio",{controller:"UpdateAdminCtrl",templateUrl:"admin/update-admin-bio.html"}).when("/admin-classes",{controller:"ClassCtrl",templateUrl:"admin/admin-classes.html"}).when("/admin-add-class",{controller:"ClassCtrl",templateUrl:"admin/admin-add-class.html"}).when("/admin-update-class",{controller:"ClassCtrl",templateUrl:"admin/admin-update-class.html"}).when("/admin-clients",{controller:"ClientsCtrl",templateUrl:"admin/admin-clients.html"}).when("/admin-photos",{templateUrl:"admin/admin-photos.html"}).when("/admin-payments",{templateUrl:"admin/admin-payments.html"}).when("/admin-forms",{templateUrl:"admin/admin-forms.html"}).when("/cm",{controller:"AdminContentCtrl",templateUrl:"cm/cm.html"}).when("/cm-element-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-element-add.html"}).when("/cm-element-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-element-edit.html"}).when("/cm-homepage",{controller:"AdminContentCtrl",templateUrl:"cm/cm-homepage.html"}).when("/cm-classes",{controller:"AdminContentCtrl",templateUrl:"cm/cm-classes.html"}).when("/cm-about",{controller:"AdminContentCtrl",templateUrl:"cm/cm-about.html"}).when("/cm-class-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-class-add.html"}).when("/cm-class-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-class-edit.html"}).when("/cm-bucket-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-bucket-add.html"}).when("/cm-bucket-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-bucket-edit.html"}).when("/cm-faq",{controller:"AdminContentCtrl",templateUrl:"cm/cm-faq.html"}).when("/cm-faq-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-faq-add.html"}).when("/cm-faq-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-faq-edit.html"}),e.html5Mode(!0)}]),angular.module("app").controller("UpdateAdminCtrl",["$scope","AdminSvc","$location",function(a,o,s){a.update=function(t,e,n,a,l,r){o.update(t,e,n,a,l,r).then(function(t){s.path("/admin-account")})},a.updatePassword=function(t,e,n){if(e!=n)return!(a.passwordsMatch=!0);a.passwordsMatch=!1,o.updatePassword(t,e).then(function(t){s.path("/admin-account")})},a.updateBio=function(t,e){o.updateBio(t,e).then(function(t){s.path("/admin-account")})}}]),angular.module("app").controller("UpdateCtrl",["$scope","UserSvc","$location",function(u,d,m){u.update=function(t,e,n,a,l,r,o,s,i){var c=e.toLowerCase();d.update(t,c,n,a,l,r,o,s,i).then(function(t){u.currentUser.email=c,m.path("/user-account")})},u.updatePassword=function(t,e,n){if(e!=n)return!(u.passwordsMatch=!0);u.passwordsMatch=!1,d.updatePassword(t,e).then(function(t){m.path("/user-account")})}}]),angular.module("app").controller("UserCtrl",["$scope","UserSvc","$location",function(e,n,a){n.getAllChildren().then(function(t){e.children=t.data}),e.setChildToUpdate=function(t){e.currentUser.childToUpdate=t},e.updateChild=function(t){n.updateChild(t).then(function(t){a.path("/user-account")})},e.deleteChild=function(t){n.deleteChild(t).then(function(t){a.path("/user-account")})}}]),angular.module("app").service("UserSvc",["$http",function(c){var u=this;u.getUser=function(){return c.get("/api/users")},u.register=function(t,e,n,a,l,r,o,s,i){return c.post("/api/users",{email:t,password:e,firstName:n,lastName:a,streetAddress:l,city:r,state:o,zip:s,phone:i}).then(function(){return u.login(t,e)})},u.checkToken=function(){return c.defaults.headers.common["X-Auth"]=window.sessionStorage.token,u.getUser()},u.login=function(t,e){return c.post("/api/sessions",{email:t,password:e}).then(function(t){return window.sessionStorage.token=t.data,c.defaults.headers.common["X-Auth"]=t.data,u.getUser()},function(t){return t})},u.logout=function(){delete c.defaults.headers.common["X-Auth"],sessionStorage.clear()},u.update=function(t,e,n,a,l,r,o,s,i){return c.put("/api/users/update",{id:t,email:e,firstName:n,lastName:a,streetAddress:l,city:r,state:o,zip:s,phone:i})},u.updatePassword=function(t,e){return c.put("/api/users/updatePassword",{id:t,password:e})},u.resetPassword=function(t,e){return c.put("/api/users/resetPassword",{email:t,newPassword:e})},u.updateChild=function(t){return c.put("/api/users/updateChild",t)},u.deleteChild=function(t){return c.put("/api/users/deleteChild",t)},u.addChild=function(t,e,n,a,l){return c.post("/api/users/addChild",{adultId:t,firstName:e,lastName:n,dob:a,notes:l})},u.getAllChildren=function(){return c.get("/api/users/getAllChildren")},u.email=function(t,e){return c.post("/api/users/sendEmail",{email:t,newPassword:e})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFkbWluLmNsYXNzLmN0cmwuanMiLCJhZG1pbi5sb2dpbi5jdHJsLmpzIiwiYWRtaW4uc3ZjLmpzIiwiYWRtaW5hcHAuY3RybC5qcyIsImFkbWluQ29udGVudC5jdHJsLmpzIiwiYWRtaW5Db250ZW50LnN2Yy5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJjaGlsZC5jdHJsLmpzIiwiY2xhc3Muc3ZjLmpzIiwiY2xpZW50cy5jdHJsLmpzIiwiY29udGVudC5jdHJsLmpzIiwiY29udGVudC5zdmMuanMiLCJsb2dpbi5jdHJsLmpzIiwicmVnaXN0ZXIuY3RybC5qcyIsInJlc2V0LmN0cmwuanMiLCJyb3V0ZXMuanMiLCJ1cGRhdGUuYWRtaW4uY3RybC5qcyIsInVwZGF0ZS5jdHJsLmpzIiwidXNlci5jdHJsLmpzIiwidXNlci5zdmMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJDbGFzc1NWQyIsIiRsb2NhdGlvbiIsInN0dWRlbnRzIiwiYWRkQ2xhc3MiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidGltZSIsImRheXMiLCJhbGJ1bSIsInRoZW4iLCJyZXNwb25zZSIsInBhdGgiLCJnZXRBbGxDbGFzc2VzIiwicmVzIiwiY2xhc3NlcyIsImRhdGEiLCJzZXRDbGFzc1RvVXBkYXRlIiwiY2xhc3NfIiwiY3VycmVudEFkbWluIiwiY2xhc3NUb1VwZGF0ZSIsInVwZGF0ZUNsYXNzIiwiZGVsZXRlQ2xhc3MiLCJnZXRBbGxDaGlsZHJlbiIsImNoaWxkcmVuIiwiYWRkVG9DbGFzcyIsImNoaWxkIiwiY29uc29sZSIsImxvZyIsImluY2x1ZGVzIiwicHVzaCIsInJlbW92ZUZyb21DbGFzcyIsInN0dWRlbnQiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJjbGFzc19tb2RpZmllZCIsInJlbW92ZUFsbCIsIkFkbWluU3ZjIiwibG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwibG9naW5FcnJvciIsImVycm9yTWVzc2FnZSIsInN0YXR1cyIsIiRlbWl0IiwicmVnaXN0ZXIiLCJlbWFpbCIsImNoZWNrcGFzcyIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwicGhvbmUiLCJyZWdpc3RlckVycm9yIiwic2VydmljZSIsIiRodHRwIiwic3ZjIiwidGhpcyIsImdldEFkbWluIiwiZ2V0IiwicG9zdCIsImNoZWNrVG9rZW4iLCJ0b2tlbiIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsIndpbmRvdyIsInNlc3Npb25TdG9yYWdlIiwidmFsIiwiZXJyIiwibG9nb3V0IiwiY2xlYXIiLCJ1cGRhdGUiLCJpZCIsInB1dCIsInVwZGF0ZVBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJ1cGRhdGVCaW8iLCJiaW8iLCJnZXRBbGxVc2VycyIsImluaXQiLCIkb24iLCJfIiwiYWRtaW4iLCJBZG1pbkNvbnRlbnRTdmMiLCJnZXRBbGxIb21lcGFnZUVsZW1lbnRzIiwiZWxlbXMiLCJob21lcGFnZV9jb250ZW50IiwiZ2V0QWxsQnVja2V0cyIsImJ1Y2tldHMiLCJnZXRBbGxDbGFzc2VzRWxlbWVudHMiLCJjbGFzc2VzX2NvbnRlbnQiLCJnZXRBbGxBYm91dEVsZW1lbnRzIiwiYWJvdXRfY29udGVudCIsImdldEFsbEZhcUVsZW1lbnRzIiwiZmFxX2NvbnRlbnQiLCJnZXRBbGxGYXFzIiwiZmFxIiwic2V0RmFxVG9VcGRhdGUiLCJmYXFUb1VwZGF0ZSIsInVwZGF0ZUZhcSIsImFkZEZhcSIsInF1ZXN0aW9uIiwiYW5zd2VyIiwiaW5wdXRFcnJvciIsImRlbGV0ZUZhcSIsImFkZEVsZW1lbnQiLCJuYW1lIiwibG9jYXRpb24iLCJkZXNjIiwidmFsdWUiLCJzZXRFbGVtZW50VG9VcGRhdGUiLCJlbGVtZW50IiwiZWxlbWVudFRvVXBkYXRlIiwidXBkYXRlRWxlbWVudCIsInN1YnRpdGxlIiwiY29sb3IiLCJpY29uIiwiYWRkQnVja2V0Iiwic2V0QnVja2V0VG9VcGRhdGUiLCJidWNrZXRUb1VwZGF0ZSIsInVwZGF0ZUJ1Y2tldCIsImdldEFsbEVsZW1lbnRzIiwiVXNlclN2YyIsImN1cnJlbnRVc2VyIiwidXNlciIsImFkZENoaWxkIiwiYWR1bHRJZCIsImRvYiIsIm5vdGVzIiwiY2xpZW50cyIsIkNvbnRlbnRTdmMiLCJmb3JFYWNoIiwibW9kaWZpZWRFbWFpbCIsInRvTG93ZXJDYXNlIiwic3RyZWV0QWRkcmVzcyIsImNpdHkiLCJzdGF0ZSIsInppcCIsInJlc2V0UGFzc3dvcmQiLCJpbnZhbGlkRW1haWwiLCJwYXNzd29yZFJlc2V0IiwiSW52YWxpZEVtYWlsTWVzc2FnZSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInNsaWNlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImh0bWw1TW9kZSIsImNoZWNrUGFzc3dvcmQiLCJwYXNzd29yZHNNYXRjaCIsInNldENoaWxkVG9VcGRhdGUiLCJjaGlsZFRvVXBkYXRlIiwidXBkYXRlQ2hpbGQiLCJkZWxldGVDaGlsZCIsImdldFVzZXIiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLE1BQUEsQ0FDQSxZQ0RBRCxRQUFBQyxPQUFBLE9BQ0FDLFdBQUEsWUFBQSxDQUFBLFNBQUEsV0FBQSxZQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBRUFGLEVBQUFHLFNBQUEsR0FFQUgsRUFBQUksU0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBUixFQUFBRyxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBQyxLQUFBLFNBQUFDLEdBQ0FULEVBQUFVLEtBQUEscUJBSUFYLEVBQUFZLGdCQUFBSCxLQUFBLFNBQUFJLEdBQ0FkLEVBQUFlLFFBQUFELEVBQUFFLE9BR0FoQixFQUFBaUIsaUJBQUEsU0FBQUMsR0FDQWxCLEVBQUFtQixhQUFBQyxjQUFBRixHQUdBbEIsRUFBQXFCLFlBQUEsU0FBQUgsR0FDQWpCLEVBQUFvQixZQUFBSCxHQUNBUixLQUFB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QXRGLE1BQUFBLEtBSUFJLEVBQUFtQixlQUFBLFNBQUFGLEVBQUFHLEdBQ0EsT0FBQXJCLEVBQUFtQixJQUFBLDRCQUFBLENBQ0FELEdBQUFBLEVBQ0EvQixTQUFBa0MsS0FJQXBCLEVBQUFtRixjQUFBLFNBQUEzRixFQUFBNEIsR0FDQSxPQUFBckIsRUFBQW1CLElBQUEsMkJBQUEsQ0FDQTFCLE1BQUFBLEVBQ0E0QixZQUFBQSxLQUlBcEIsRUFBQXFHLFlBQUEsU0FBQWxJLEdBQ0EsT0FBQTRCLEVBQUFtQixJQUFBLHlCQUFBL0MsSUFHQTZCLEVBQUFzRyxZQUFBLFNBQUFuSSxHQUNBLE9BQUE0QixFQUFBbUIsSUFBQSx5QkFBQS9DLElBR0E2QixFQUFBc0UsU0FBQSxTQUFBQyxFQUFBN0UsRUFBQUMsRUFBQTZFLEVBQUFDLEdBQ0EsT0FBQTFFLEVBQUFLLEtBQUEsc0JBQUEsQ0FDQW1FLFFBQUFBLEVBQ0E3RSxVQUFBQSxFQUNBQyxTQUFBQSxFQUNBNkUsSUFBQUEsRUFDQUMsTUFBQUEsS0FJQXpFLEVBQUFoQyxlQUFBLFdBQ0EsT0FBQStCLEVBQUFJLElBQUEsOEJBR0FILEVBQUFSLE1BQUEsU0FBQUEsRUFBQTRCLEdBQ0EsT0FBQXJCLEVBQUFLLEtBQUEsdUJBQUEsQ0FDQVosTUFBQUEsRUFDQTRCLFlBQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXHJcblx0J25nUm91dGUnXHJcbl0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQ2xhc3NDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBDbGFzc1NWQywgJGxvY2F0aW9uKSB7XHJcblxyXG4gICAgICAgICRzY29wZS5zdHVkZW50cyA9IFtdO1xyXG5cclxuICAgICAgICAkc2NvcGUuYWRkQ2xhc3MgPSBmdW5jdGlvbiAodGl0bGUsIGRlc2NyaXB0aW9uLCB0aW1lLCBkYXlzLCBhbGJ1bSkge1xyXG4gICAgICAgICAgICBDbGFzc1NWQy5hZGRDbGFzcyh0aXRsZSwgZGVzY3JpcHRpb24sIHRpbWUsIGRheXMsIGFsYnVtKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9hZG1pbi1jbGFzc2VzJylcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBDbGFzc1NWQy5nZXRBbGxDbGFzc2VzKCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmNsYXNzZXMgPSByZXMuZGF0YVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgICRzY29wZS5zZXRDbGFzc1RvVXBkYXRlID0gZnVuY3Rpb24oY2xhc3NfKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50QWRtaW4uY2xhc3NUb1VwZGF0ZSA9IGNsYXNzX1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLnVwZGF0ZUNsYXNzID0gZnVuY3Rpb24oY2xhc3NfKSB7XHJcbiAgICAgICAgICAgIENsYXNzU1ZDLnVwZGF0ZUNsYXNzKGNsYXNzXylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYWRtaW4tY2xhc3NlcycpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLmRlbGV0ZUNsYXNzID0gZnVuY3Rpb24oY2xhc3NfKSB7XHJcbiAgICAgICAgICAgIENsYXNzU1ZDLmRlbGV0ZUNsYXNzKGNsYXNzXylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYWRtaW4tY2xhc3NlcycpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQ2xhc3NTVkMuZ2V0QWxsQ2hpbGRyZW4oKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hpbGRyZW4gPSByZXMuZGF0YVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8vIENsYXNzU1ZDLmdldEFsbFN0dWRlbnRzKCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAvLyAgICAgJHNjb3BlLnN0dWRlbnRzID0gcmVzLmRhdGFcclxuICAgICAgICAvLyB9KVxyXG5cclxuICAgICAgICAvLyAkc2NvcGUuc2V0Q2xhc3NUb01vZGlmeVJvc3RlciA9IGZ1bmN0aW9uKGNsYXNzUm9zdGVyKSB7XHJcbiAgICAgICAgLy8gICAgICRzY29wZS5jdXJyZW50QWRtaW4uY2xhc3NUb01vZGlmeVJvc3RlciA9IGNsYXNzUm9zdGVyXHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgJHNjb3BlLmFkZFRvQ2xhc3MgPSBmdW5jdGlvbihjbGFzc18sIGNoaWxkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2xhc3MgXCIgKyBjbGFzc18pXHJcbiAgICAgICAgICAgIC8vICRzY29wZS5lbnJvbGxtZW50LnB1c2goY2hpbGQpXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZW5yb2xsbWVudCBcIiArICRzY29wZS5lbnJvbGxtZW50KVxyXG4gICAgICAgICAgICAvLyBjbGFzc18uY2hpbGRyZW4gPSAkc2NvcGUuZW5yb2xsbWVudFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0dWRlbnRzIGJlZm9yZSBwdXQgcmVxdWVzdCBcIiArIGNsYXNzXy5jaGlsZHJlbilcclxuICAgICAgICAgICAgdmFyIGR1cGVDaGlsZCA9IGNsYXNzXy5jaGlsZHJlbi5pbmNsdWRlcyhjaGlsZCk7XHJcbiAgICAgICAgICAgIGlmICghZHVwZUNoaWxkKXtcclxuICAgICAgICAgICAgICAgIGNsYXNzXy5jaGlsZHJlbi5wdXNoKGNoaWxkKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjaGlsZCBhbHJlYWR5IGFkZGVkXCIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQ2xhc3NTVkMuYWRkVG9DbGFzcyhjbGFzc18pXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3R1ZGVudHMgYWZ0ZXIgcHV0IHJlcXVlc3QgXCIgKyBjbGFzc18uY2hpbGRyZW4pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUucmVtb3ZlRnJvbUNsYXNzID0gZnVuY3Rpb24oY2xhc3NfLCBzdHVkZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGNsYXNzXy5jaGlsZHJlbi5pbmRleE9mKHN0dWRlbnQpXHJcbiAgICAgICAgICAgIGNsYXNzXy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNsYXNzX21vZGlmaWVkID0gY2xhc3NfO1xyXG4gICAgICAgICAgICBjbGFzc19tb2RpZmllZC5jaGlsZHJlbi5zcGxpY2UoMCk7XHJcbiAgICAgICAgICAgIGNsYXNzX21vZGlmaWVkLmNoaWxkcmVuLnB1c2goc3R1ZGVudCk7XHJcbiAgICAgICAgICAgIGNsYXNzX21vZGlmaWVkLmNoaWxkcmVuID0gc3R1ZGVudDtcclxuICAgICAgICAgICAgQ2xhc3NTVkMucmVtb3ZlRnJvbUNsYXNzKGNsYXNzX21vZGlmaWVkKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUucmVtb3ZlQWxsID0gZnVuY3Rpb24oY2xhc3NfKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSSdtIGFib3V0IHRvIGNhbGwgc3ZjIHJlbW92ZSBhbGxcIilcclxuICAgICAgICAgICAgQ2xhc3NTVkMucmVtb3ZlQWxsKGNsYXNzXyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0FkbWluTG9naW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBBZG1pblN2YywgJGxvY2F0aW9uKSB7XHJcblxyXG5cdCRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuXHRcdCRzY29wZS5sb2dpbkVycm9yID0gZmFsc2VcclxuXHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnJ1xyXG5cclxuXHRcdEFkbWluU3ZjLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZClcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuXHRcdFx0aWYocmVzLnN0YXR1cyA9PSA0MDEpIHtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3JNZXNzYWdlID0gcmVzLmRhdGFcclxuXHRcdFx0XHQkc2NvcGUubG9naW5FcnJvciA9IHRydWVcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkc2NvcGUuJGVtaXQoJ2xvZ2luJywgcmVzLmRhdGEpXHJcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9hZG1pbi1hY2NvdW50JylcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChlbWFpbCwgdXNlcm5hbWUsIHBhc3N3b3JkLCBjaGVja3Bhc3MsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHBob25lKSB7XHJcblx0XHRpZiAocGFzc3dvcmQgIT0gY2hlY2twYXNzKSB7XHJcblx0XHRcdCRzY29wZS5yZWdpc3RlckVycm9yID0gdHJ1ZVxyXG5cdFx0XHQkc2NvcGUuZXJyb3JNZXNzYWdlID0gJ0Vycm9yOiBQYXNzd29yZHMgbXVzdCBtYXRjaCdcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHR9XHJcblxyXG5cdFx0JHNjb3BlLnJlZ2lzdGVyRXJyb3IgPSBmYWxzZVxyXG5cclxuXHRcdEFkbWluU3ZjLnJlZ2lzdGVyKGVtYWlsLCB1c2VybmFtZSwgcGFzc3dvcmQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHBob25lKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRzY29wZS4kZW1pdCgnbG9naW4nLCByZXNwb25zZS5kYXRhKVxyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2FkbWluLWFjY291bnQnKVxyXG5cdFx0fSlcclxuXHR9XHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5zZXJ2aWNlKCdBZG1pblN2YycsIGZ1bmN0aW9uICgkaHR0cCkge1xyXG5cdHZhciBzdmMgPSB0aGlzXHJcblxyXG5cdHN2Yy5nZXRBZG1pbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYWRtaW4nKVxyXG5cdH1cclxuXHJcblx0c3ZjLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGVtYWlsLCB1c2VybmFtZSwgcGFzc3dvcmQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHBob25lKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9hZG1pbicsIHtcclxuXHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lLFxyXG5cdFx0XHRwYXNzd29yZDogcGFzc3dvcmQsXHJcblx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0Zmlyc3ROYW1lOiBmaXJzdE5hbWUsXHJcblx0XHRcdGxhc3ROYW1lOiBsYXN0TmFtZSxcclxuXHRcdFx0cGhvbmU6IHBob25lXHJcblx0XHR9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIHN2Yy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLmNoZWNrVG9rZW4gPSBmdW5jdGlvbih0b2tlbikge1xyXG5cdFx0JGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddID0gd2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuXHJcblx0XHRyZXR1cm4gc3ZjLmdldEFkbWluKClcclxuXHR9XHJcblxyXG5cdHN2Yy5sb2dpbiA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2FkbWluLXNlc3Npb25zJywge1xyXG5cdFx0XHR1c2VybmFtZTogdXNlcm5hbWUsIHBhc3N3b3JkOiBwYXNzd29yZFxyXG5cdFx0fSlcclxuXHRcdC50aGVuKGZ1bmN0aW9uICh2YWwpIHtcclxuXHRcdFx0d2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuID0gdmFsLmRhdGFcclxuXHRcdFx0JGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddID0gdmFsLmRhdGFcclxuXHRcdFx0cmV0dXJuIHN2Yy5nZXRBZG1pbigpXHJcblx0XHR9LCBmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0cmV0dXJuIGVyclxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy5sb2dvdXQgPSBmdW5jdGlvbigpIHtcclxuXHRcdGRlbGV0ZSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ11cclxuXHRcdHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlID0gZnVuY3Rpb24gKGlkLCB1c2VybmFtZSwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwsIHBob25lKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2FkbWluL3VwZGF0ZScsIHtcclxuXHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHR1c2VybmFtZTogdXNlcm5hbWUsXHJcblx0XHRcdGZpcnN0TmFtZTogZmlyc3ROYW1lLFxyXG5cdFx0XHRsYXN0TmFtZTogbGFzdE5hbWUsXHJcblx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0cGhvbmU6IHBob25lXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLnVwZGF0ZVBhc3N3b3JkID0gZnVuY3Rpb24gKGlkLCBuZXdQYXNzd29yZCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9hZG1pbi91cGRhdGVQYXNzd29yZCcsIHtcclxuXHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHRwYXNzd29yZDogbmV3UGFzc3dvcmRcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlQmlvID0gZnVuY3Rpb24gKGlkLCBiaW8pIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYWRtaW4vdXBkYXRlQmlvJywge1xyXG5cdFx0XHRpZDogaWQsXHJcblx0XHRcdGJpbzogYmlvXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLmdldEFsbFVzZXJzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9hZG1pbi9nZXRBbGxVc2VycycpXHJcblx0fVxyXG5cclxuXHQvLyBzdmMuZ2V0QWxsQ2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XHJcblx0Ly8gXHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2FkbWluL2dldEFsbENoaWxkcmVuJylcclxuXHQvLyB9XHJcblxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignQWRtaW5DdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgQWRtaW5TdmMsICRsb2NhdGlvbikge1xyXG5cdCRzY29wZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYod2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuKSB7XHJcblx0XHRcdEFkbWluU3ZjLmNoZWNrVG9rZW4oKVxyXG5cdFx0XHQudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHQkc2NvcGUuY3VycmVudEFkbWluID0gcmVzLmRhdGFcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdCRzY29wZS4kb24oJ2xvZ2luJywgZnVuY3Rpb24oXywgYWRtaW4pIHtcclxuXHRcdCRzY29wZS5jdXJyZW50QWRtaW4gPSBhZG1pblxyXG5cdH0pXHJcblxyXG5cdCRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpIHtcclxuXHRcdEFkbWluU3ZjLmxvZ291dCgpXHJcblx0XHRkZWxldGUgJHNjb3BlLmN1cnJlbnRBZG1pblxyXG5cdFx0JGxvY2F0aW9uLnBhdGgoJy9hZG1pbicpXHJcblx0fVxyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0FkbWluQ29udGVudEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIEFkbWluQ29udGVudFN2YywgJGxvY2F0aW9uKSB7XHJcblxyXG5cclxuXHRBZG1pbkNvbnRlbnRTdmMuZ2V0QWxsSG9tZXBhZ2VFbGVtZW50cygpLnRoZW4oZnVuY3Rpb24oZWxlbXMpIHtcclxuXHRcdCRzY29wZS5ob21lcGFnZV9jb250ZW50ID0gZWxlbXMuZGF0YVxyXG5cdH0pXHJcblxyXG5cdEFkbWluQ29udGVudFN2Yy5nZXRBbGxCdWNrZXRzKCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdCRzY29wZS5idWNrZXRzID0gcmVzLmRhdGFcclxuXHR9KVxyXG5cclxuXHRBZG1pbkNvbnRlbnRTdmMuZ2V0QWxsQ2xhc3Nlc0VsZW1lbnRzKCkudGhlbihmdW5jdGlvbihlbGVtcykge1xyXG5cdFx0JHNjb3BlLmNsYXNzZXNfY29udGVudCA9IGVsZW1zLmRhdGFcclxuXHR9KVxyXG5cclxuXHRBZG1pbkNvbnRlbnRTdmMuZ2V0QWxsQ2xhc3NlcygpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHQkc2NvcGUuY2xhc3NlcyA9IHJlcy5kYXRhXHJcblx0fSlcclxuXHJcblx0QWRtaW5Db250ZW50U3ZjLmdldEFsbEFib3V0RWxlbWVudHMoKS50aGVuKGZ1bmN0aW9uKGVsZW1zKSB7XHJcblx0XHQkc2NvcGUuYWJvdXRfY29udGVudCA9IGVsZW1zLmRhdGFcclxuXHR9KVxyXG5cclxuXHRBZG1pbkNvbnRlbnRTdmMuZ2V0QWxsRmFxRWxlbWVudHMoKS50aGVuKGZ1bmN0aW9uKGVsZW1zKSB7XHJcblx0XHQkc2NvcGUuZmFxX2NvbnRlbnQgPSBlbGVtcy5kYXRhXHJcblx0fSlcclxuXHJcblx0QWRtaW5Db250ZW50U3ZjLmdldEFsbEZhcXMoKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0JHNjb3BlLmZhcSA9IHJlcy5kYXRhXHJcblx0fSlcclxuXHJcblx0JHNjb3BlLnNldEZhcVRvVXBkYXRlID0gZnVuY3Rpb24oZmFxKSB7XHJcblx0XHQkc2NvcGUuY3VycmVudEFkbWluLmZhcVRvVXBkYXRlID0gZmFxXHJcblx0fVxyXG5cclxuXHQkc2NvcGUudXBkYXRlRmFxID0gZnVuY3Rpb24oZmFxKSB7XHJcblxyXG5cdFx0QWRtaW5Db250ZW50U3ZjLnVwZGF0ZUZhcShmYXEpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9jbS1mYXEnKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5hZGRGYXEgPSBmdW5jdGlvbiAocXVlc3Rpb24sIGFuc3dlcikge1xyXG5cdFx0JHNjb3BlLmlucHV0RXJyb3IgPSBmYWxzZVxyXG5cdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICcnXHJcblxyXG5cdFx0aWYoIXF1ZXN0aW9uIHx8ICFhbnN3ZXIpIHtcclxuXHRcdFx0JHNjb3BlLmlucHV0RXJyb3IgPSB0cnVlXHJcblx0XHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnQWxsIHRleHQgZmllbGRzIG11c3QgY29udGFpbiBjb250ZW50J1xyXG5cdFx0XHRyZXR1cm5cclxuXHRcdH1cclxuXHJcblx0XHRBZG1pbkNvbnRlbnRTdmMuYWRkRmFxKHF1ZXN0aW9uLCBhbnN3ZXIpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9jbS1mYXEnKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5kZWxldGVGYXEgPSBmdW5jdGlvbihmYXEpIHtcclxuXHRcdEFkbWluQ29udGVudFN2Yy5kZWxldGVGYXEoZmFxKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY20tZmFxJylcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQkc2NvcGUuYWRkRWxlbWVudCA9IGZ1bmN0aW9uIChuYW1lLCBsb2NhdGlvbiwgZGVzYywgdmFsdWUpIHtcclxuXHRcdCRzY29wZS5pbnB1dEVycm9yID0gZmFsc2VcclxuXHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnJ1xyXG5cclxuXHRcdEFkbWluQ29udGVudFN2Yy5hZGRFbGVtZW50KG5hbWUsIGxvY2F0aW9uLCBkZXNjLCB2YWx1ZSlcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NtJylcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQkc2NvcGUuc2V0RWxlbWVudFRvVXBkYXRlID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG5cdFx0JHNjb3BlLmN1cnJlbnRBZG1pbi5lbGVtZW50VG9VcGRhdGUgPSBlbGVtZW50XHJcblx0fVxyXG5cclxuXHQkc2NvcGUudXBkYXRlRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuXHRcdEFkbWluQ29udGVudFN2Yy51cGRhdGVFbGVtZW50KGVsZW1lbnQpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9jbScpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLmFkZENsYXNzID0gZnVuY3Rpb24gKHRpdGxlLCBzdWJ0aXRsZSwgY29sb3IsIGljb24sIGRlc2MpIHtcclxuXHRcdCRzY29wZS5pbnB1dEVycm9yID0gZmFsc2VcclxuXHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnJ1xyXG5cclxuXHRcdGlmKCF0aXRsZSB8fCAhZGVzYykge1xyXG5cdFx0XHQkc2NvcGUuaW5wdXRFcnJvciA9IHRydWVcclxuXHRcdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICdBbGwgdGV4dCBmaWVsZHMgbXVzdCBjb250YWluIGNvbnRlbnQnXHJcblx0XHRcdHJldHVyblxyXG5cdFx0fVxyXG5cclxuXHRcdEFkbWluQ29udGVudFN2Yy5hZGRDbGFzcyh0aXRsZSwgc3VidGl0bGUsIGNvbG9yLCBpY29uLCBkZXNjKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY20tY2xhc3NlcycpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLnNldENsYXNzVG9VcGRhdGUgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcblx0XHQkc2NvcGUuY3VycmVudEFkbWluLmNsYXNzVG9VcGRhdGUgPSBlbGVtZW50XHJcblx0fVxyXG5cclxuXHQkc2NvcGUudXBkYXRlQ2xhc3MgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcblx0XHRBZG1pbkNvbnRlbnRTdmMudXBkYXRlQ2xhc3MoZWxlbWVudClcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NtLWNsYXNzZXMnKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5kZWxldGVDbGFzcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuXHRcdEFkbWluQ29udGVudFN2Yy5kZWxldGVDbGFzcyhlbGVtZW50KVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY20tY2xhc3NlcycpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLmFkZEJ1Y2tldCA9IGZ1bmN0aW9uICh0aXRsZSwgY29sb3IsIGljb24sIGRlc2MpIHtcclxuXHRcdCRzY29wZS5pbnB1dEVycm9yID0gZmFsc2VcclxuXHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnJ1xyXG5cclxuXHRcdGlmKCF0aXRsZSB8fCAhZGVzYykge1xyXG5cdFx0XHQkc2NvcGUuaW5wdXRFcnJvciA9IHRydWVcclxuXHRcdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICdBbGwgdGV4dCBmaWVsZHMgbXVzdCBjb250YWluIGNvbnRlbnQnXHJcblx0XHRcdHJldHVyblxyXG5cdFx0fVxyXG5cclxuXHRcdEFkbWluQ29udGVudFN2Yy5hZGRCdWNrZXQodGl0bGUsIGNvbG9yLCBpY29uLCBkZXNjKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY20taG9tZXBhZ2UnKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5zZXRCdWNrZXRUb1VwZGF0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuXHRcdCRzY29wZS5jdXJyZW50QWRtaW4uYnVja2V0VG9VcGRhdGUgPSBlbGVtZW50XHJcblx0fVxyXG5cclxuXHQkc2NvcGUudXBkYXRlQnVja2V0ID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG5cdFx0QWRtaW5Db250ZW50U3ZjLnVwZGF0ZUJ1Y2tldChlbGVtZW50KVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY20taG9tZXBhZ2UnKVxyXG5cdFx0fSlcclxuXHR9XHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5zZXJ2aWNlKCdBZG1pbkNvbnRlbnRTdmMnLCBmdW5jdGlvbiAoJGh0dHApIHtcclxuXHR2YXIgc3ZjID0gdGhpc1xyXG5cclxuXHRzdmMuZ2V0QWxsRWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsRWxlbWVudHMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmdldEFsbEhvbWVwYWdlRWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsSG9tZXBhZ2VFbGVtZW50cycpXHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0QWxsQnVja2V0cyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29udGVudC9nZXRBbGxCdWNrZXRzJylcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxDbGFzc2VzRWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsQ2xhc3Nlc0VsZW1lbnRzJylcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxDbGFzc2VzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbENsYXNzZXMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmdldEFsbEFib3V0RWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsQWJvdXRFbGVtZW50cycpXHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0QWxsRmFxRWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsRmFxRWxlbWVudHMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmFkZEVsZW1lbnQgPSBmdW5jdGlvbiAobmFtZSwgbG9jYXRpb24sIGRlc2MsIHZhbHVlKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jb250ZW50L2FkZEVsZW1lbnQnLCB7XHJcblx0XHRcdG5hbWU6IG5hbWUsXHJcblx0XHRcdGxvY2F0aW9uOiBsb2NhdGlvbixcclxuXHRcdFx0ZGVzY3JpcHRpb246IGRlc2MsXHJcblx0XHRcdHZhbHVlOiB2YWx1ZVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy51cGRhdGVFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY29udGVudC91cGRhdGVFbGVtZW50JywgZWxlbWVudClcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxGYXFzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbEZhcXMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmFkZEZhcSA9IGZ1bmN0aW9uIChxdWVzdGlvbiwgYW5zd2VyKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jb250ZW50L2FkZEZhcScsIHtcclxuXHRcdFx0cXVlc3Rpb246IHF1ZXN0aW9uLFxyXG5cdFx0XHRhbnN3ZXI6IGFuc3dlclxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy51cGRhdGVGYXEgPSBmdW5jdGlvbiAoZmFxKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2NvbnRlbnQvdXBkYXRlRmFxJywgZmFxKVxyXG5cdH1cclxuXHJcblx0c3ZjLmRlbGV0ZUZhcSA9IGZ1bmN0aW9uIChmYXEpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY29udGVudC9kZWxldGVGYXEnLCBmYXEpXHJcblx0fVxyXG5cclxuXHRzdmMuYWRkQ2xhc3MgPSBmdW5jdGlvbiAodGl0bGUsIHN1YnRpdGxlLCBjb2xvciwgaWNvbiwgZGVzYykge1xyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvY29udGVudC9hZGRDbGFzcycsIHtcclxuXHRcdFx0dGl0bGU6IHRpdGxlLFxyXG5cdFx0XHRzdWJ0aXRsZTogc3VidGl0bGUsXHJcblx0XHRcdGljb246IGljb24sXHJcblx0XHRcdGNvbG9yOiBjb2xvcixcclxuXHRcdFx0ZGVzY3JpcHRpb246IGRlc2NcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlQ2xhc3MgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9jb250ZW50L3VwZGF0ZUNsYXNzJywgZWxlbWVudClcclxuXHR9XHJcblxyXG5cdHN2Yy5kZWxldGVDbGFzcyA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2NvbnRlbnQvZGVsZXRlQ2xhc3MnLCBlbGVtZW50KVxyXG5cdH1cclxuXHJcblx0c3ZjLmFkZEJ1Y2tldCA9IGZ1bmN0aW9uICh0aXRsZSwgY29sb3IsIGljb24sIGRlc2MpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2NvbnRlbnQvYWRkQnVja2V0Jywge1xyXG5cdFx0XHR0aXRsZTogdGl0bGUsXHJcblx0XHRcdGljb246IGljb24sXHJcblx0XHRcdGNvbG9yOiBjb2xvcixcclxuXHRcdFx0ZGVzY3JpcHRpb246IGRlc2NcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlQnVja2V0ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY29udGVudC91cGRhdGVCdWNrZXQnLCBlbGVtZW50KVxyXG5cdH1cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0FwcGxpY2F0aW9uQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsIFVzZXJTdmMsICRsb2NhdGlvbiwgJGh0dHApIHtcclxuXHQkc2NvcGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS50b2tlbikge1xyXG5cdFx0XHRVc2VyU3ZjLmNoZWNrVG9rZW4oKVxyXG5cdFx0XHQudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHQkc2NvcGUuY3VycmVudFVzZXIgPSByZXMuZGF0YVxyXG5cdFx0XHR9KVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLiRvbignbG9naW4nLCBmdW5jdGlvbihfLCB1c2VyKSB7XHJcblx0XHQkc2NvcGUuY3VycmVudFVzZXIgPSB1c2VyXHJcblx0fSlcclxuXHJcblx0JHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0VXNlclN2Yy5sb2dvdXQoKVxyXG5cdFx0ZGVsZXRlICRzY29wZS5jdXJyZW50VXNlclxyXG5cdFx0JGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpXHJcblx0fVxyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0NoaWxkQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uKSB7XHJcblxyXG5cdCRzY29wZS5hZGRDaGlsZCA9IGZ1bmN0aW9uIChhZHVsdElkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBkb2IsIG5vdGVzKSB7XHJcblx0XHRVc2VyU3ZjLmFkZENoaWxkKGFkdWx0SWQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIGRvYiwgbm90ZXMpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy91c2VyLWFjY291bnQnKVxyXG5cdFx0fSlcclxuXHR9XHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuc2VydmljZSgnQ2xhc3NTVkMnLCBmdW5jdGlvbiAoJGh0dHApIHtcclxuICAgICAgICB2YXIgc3ZjID0gdGhpc1xyXG5cclxuICAgICAgICAvLyBzdmMuZ2V0QWRtaW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2xhc3NlcycpXHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBzdmMuYWRkQ2xhc3MgPSBmdW5jdGlvbiAodGl0bGUsIGRlc2NyaXB0aW9uLCB0aW1lLCBkYXlzLCBhbGJ1bSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jbGFzc2VzL2FkZENsYXNzJywge1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgdGltZTogdGltZSxcclxuICAgICAgICAgICAgICAgIGRheXM6IGRheXMsXHJcbiAgICAgICAgICAgICAgICBhbGJ1bTogYWxidW1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN2Yy51cGRhdGVDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc18pIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9jbGFzc2VzL3VwZGF0ZUNsYXNzJywgY2xhc3NfKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3ZjLmRlbGV0ZUNsYXNzID0gZnVuY3Rpb24gKGNsYXNzXykge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2NsYXNzZXMvZGVsZXRlQ2xhc3MnLCBjbGFzc18pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdmMuZ2V0QWxsQ2xhc3NlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9jbGFzc2VzL2dldEFsbENsYXNzZXMnKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3ZjLmdldEFsbENoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NsYXNzZXMvZ2V0QWxsQ2hpbGRyZW4nKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc3ZjLmdldEFsbFN0dWRlbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NsYXNzZXMvZ2V0QWxsU3R1ZGVudHMnKVxyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgc3ZjLmFkZFRvQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NfKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY2xhc3Nlcy9hZGRUb0NsYXNzJywgY2xhc3NfKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3ZjLnJlbW92ZUZyb21DbGFzcyA9IGZ1bmN0aW9uIChjbGFzc18pIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJUaGlzIGlzIHRoZSBjbGFzc18gICAgIFwiICsgY2xhc3NfKVxyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2NsYXNzZXMvcmVtb3ZlRnJvbUNsYXNzJywgY2xhc3NfKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3ZjLnJlbW92ZUFsbCA9IGZ1bmN0aW9uIChjbGFzc18pIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9jbGFzc2VzL3JlbW92ZUFsbCcsIGNsYXNzXylcclxuICAgICAgICB9XHJcbiAgICB9KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignQ2xpZW50c0N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCBBZG1pblN2Yykge1xyXG4gICAgQWRtaW5TdmMuZ2V0QWxsVXNlcnMoKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgICRzY29wZS5jbGllbnRzID0gcmVzLmRhdGFcclxuICAgIH0pXHJcblxyXG4gICAgLy8gQWRtaW5TdmMuZ2V0QWxsQ2hpbGRyZW4oKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG4gICAgLy8gICAgICRzY29wZS5jaGlsZHJlbiA9IHJlcy5kYXRhXHJcbiAgICAvLyB9KVxyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0NvbnRlbnRDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBDb250ZW50U3ZjKSB7XHJcblxyXG5cdENvbnRlbnRTdmMuZ2V0QWxsRWxlbWVudHMoKS50aGVuKGZ1bmN0aW9uKGVsZW1zKSB7XHJcblx0XHRhbmd1bGFyLmZvckVhY2goZWxlbXMuZGF0YSwgZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XHJcblx0XHRcdCRzY29wZVt2YWx1ZS5uYW1lXSA9IHZhbHVlLnZhbHVlXHJcblx0XHR9KVxyXG5cdH0pXHJcblxyXG5cdENvbnRlbnRTdmMuZ2V0QWxsQnVja2V0cygpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHQkc2NvcGUuYnVja2V0cyA9IHJlcy5kYXRhXHJcblx0fSlcclxuXHJcblx0Q29udGVudFN2Yy5nZXRBbGxDbGFzc2VzKCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdCRzY29wZS5jbGFzc2VzID0gcmVzLmRhdGFcclxuXHR9KVxyXG5cclxuXHRDb250ZW50U3ZjLmdldEFsbEZhcXMoKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0JHNjb3BlLmZhcSA9IHJlcy5kYXRhXHJcblx0fSlcclxuXHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5zZXJ2aWNlKCdDb250ZW50U3ZjJywgZnVuY3Rpb24gKCRodHRwKSB7XHJcblx0dmFyIHN2YyA9IHRoaXNcclxuXHJcblx0c3ZjLmdldEFsbEVsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbEVsZW1lbnRzJylcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxCdWNrZXRzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbEJ1Y2tldHMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmdldEFsbENsYXNzZXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsQ2xhc3NlcycpXHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0QWxsRmFxcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29udGVudC9nZXRBbGxGYXFzJylcclxuXHR9XHJcblxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignTG9naW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjLCAkbG9jYXRpb24pIHtcclxuXHJcblx0JHNjb3BlLmxvZ2luID0gZnVuY3Rpb24gKGVtYWlsLCBwYXNzd29yZCkge1xyXG5cdFx0JHNjb3BlLmxvZ2luRXJyb3IgPSBmYWxzZVxyXG5cdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICcnXHJcblxyXG5cdFx0dmFyIG1vZGlmaWVkRW1haWwgPSBlbWFpbC50b0xvd2VyQ2FzZSgpXHJcblxyXG5cdFx0VXNlclN2Yy5sb2dpbihtb2RpZmllZEVtYWlsLCBwYXNzd29yZClcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuXHRcdFx0aWYocmVzLnN0YXR1cyA9PSA0MDEpIHtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3JNZXNzYWdlID0gcmVzLmRhdGFcclxuXHRcdFx0XHQkc2NvcGUubG9naW5FcnJvciA9IHRydWVcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkc2NvcGUuJGVtaXQoJ2xvZ2luJywgcmVzLmRhdGEpXHJcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy91c2VyLWFjY291bnQnKVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdH1cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uKSB7XHJcblxyXG5cdCRzY29wZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChlbWFpbCwgcGFzc3dvcmQsIGNoZWNrcGFzcywgZmlyc3ROYW1lLCBsYXN0TmFtZSwgc3RyZWV0QWRkcmVzcywgY2l0eSwgc3RhdGUsIHppcCwgcGhvbmUpIHtcclxuXHRcdGlmIChwYXNzd29yZCAhPSBjaGVja3Bhc3MpIHtcclxuXHRcdFx0JHNjb3BlLnJlZ2lzdGVyRXJyb3IgPSB0cnVlXHJcblx0XHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnRXJyb3I6IFBhc3N3b3JkcyBtdXN0IG1hdGNoJ1xyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdH1cclxuXHJcblx0XHQkc2NvcGUucmVnaXN0ZXJFcnJvciA9IGZhbHNlXHJcblxyXG5cdFx0dmFyIG1vZGlmaWVkRW1haWwgPSBlbWFpbC50b0xvd2VyQ2FzZSgpXHJcblxyXG5cdFx0VXNlclN2Yy5yZWdpc3Rlcihtb2RpZmllZEVtYWlsLCBwYXNzd29yZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgc3RyZWV0QWRkcmVzcywgY2l0eSwgc3RhdGUsIHppcCwgcGhvbmUpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JHNjb3BlLiRlbWl0KCdsb2dpbicsIHJlc3BvbnNlLmRhdGEpXHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvdXNlci1hY2NvdW50JylcclxuXHRcdH0pXHJcblx0fVxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignUmVzZXRDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjLCAkbG9jYXRpb24pIHtcclxuICAgICRzY29wZS5yZXNldFBhc3N3b3JkID0gZnVuY3Rpb24gKGVtYWlsKSB7XHJcbiAgICAgICAgJHNjb3BlLmludmFsaWRFbWFpbCA9IGZhbHNlXHJcbiAgICAgICAgJHNjb3BlLnBhc3N3b3JkUmVzZXQgPSBmYWxzZVxyXG4gICAgICAgICRzY29wZS5JbnZhbGlkRW1haWxNZXNzYWdlID0gJydcclxuICAgICAgICB2YXIgbW9kaWZpZWRFbWFpbCA9IGVtYWlsLnRvTG93ZXJDYXNlKClcclxuICAgICAgICB2YXIgbmV3UGFzc3dvcmQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgtMTApO1xyXG5cclxuICAgICAgICBVc2VyU3ZjLnJlc2V0UGFzc3dvcmQobW9kaWZpZWRFbWFpbCwgbmV3UGFzc3dvcmQpXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmKHJlcy5zdGF0dXMgPT0gNDAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJhcHBseWluZyBpbnZhbGlkIGVtYWlsXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmludmFsaWRFbWFpbCA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkRW1haWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wYXNzd29yZFJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBVc2VyU3ZjLmVtYWlsKGVtYWlsLCBuZXdQYXNzd29yZClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuXHQuY29uZmlnKGZ1bmN0aW9uICgkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuXHRcdFx0JHJvdXRlUHJvdmlkZXJcclxuXHRcdFx0LndoZW4oJy8nLCB7IGNvbnRyb2xsZXI6ICdDb250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnaW5kZXguaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy9jbGFzc2VzJywgeyBjb250cm9sbGVyOiAnQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NsYXNzZXMuaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy9hYm91dCcsIHsgY29udHJvbGxlcjogJ0NvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdhYm91dC5odG1sJyB9KVxyXG5cdFx0XHQud2hlbignL2ZhcScsIHsgY29udHJvbGxlcjogJ0NvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdmYXEuaHRtbCcgfSlcclxuXHJcblx0XHRcdC53aGVuKCcvbG9naW4nLCB7IGNvbnRyb2xsZXI6ICdMb2dpbkN0cmwnLCB0ZW1wbGF0ZVVybDogJ2xvZ2luLmh0bWwnIH0pXHJcblx0XHRcdC53aGVuKCcvcmVnaXN0ZXInLCB7IGNvbnRyb2xsZXI6ICdSZWdpc3RlckN0cmwnLCB0ZW1wbGF0ZVVybDogJ3JlZ2lzdHJhdGlvbi5odG1sJyB9KVxyXG5cdFx0XHQud2hlbignL3Jlc2V0LXBhc3N3b3JkJywgeyBjb250cm9sbGVyOiAnUmVzZXRDdHJsJywgdGVtcGxhdGVVcmw6ICdyZXNldC1wYXNzd29yZC5odG1sJ30pXHJcblx0XHRcdFxyXG5cdFx0XHQud2hlbignL3VzZXItYWNjb3VudCcsIHsgY29udHJvbGxlcjogJ1VzZXJDdHJsJywgdGVtcGxhdGVVcmw6ICd1c2VyL3VzZXItYWNjb3VudC5odG1sJyB9KVxyXG5cdFx0XHQud2hlbignL3VwZGF0ZS11c2VyLWFjY291bnQnLCB7IGNvbnRyb2xsZXI6ICdVcGRhdGVDdHJsJywgdGVtcGxhdGVVcmw6ICd1c2VyL3VwZGF0ZS11c2VyLWFjY291bnQuaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy91cGRhdGUtdXNlci1wYXNzd29yZCcsIHsgY29udHJvbGxlcjogJ1VwZGF0ZUN0cmwnLCB0ZW1wbGF0ZVVybDogJ3VzZXIvdXBkYXRlLXVzZXItcGFzc3dvcmQuaHRtbCcgfSlcclxuXHJcblx0XHRcdC53aGVuKCcvYWRkLWNoaWxkJywgeyBjb250cm9sbGVyOiAnQ2hpbGRDdHJsJywgdGVtcGxhdGVVcmw6ICd1c2VyL2FkZC1jaGlsZC5odG1sJyB9KVxyXG5cdFx0XHQud2hlbignL3VwZGF0ZS1jaGlsZCcsIHsgY29udHJvbGxlcjogJ1VzZXJDdHJsJywgdGVtcGxhdGVVcmw6ICd1c2VyL3VwZGF0ZS1jaGlsZC5odG1sJyB9KVxyXG5cclxuXHRcdFx0LndoZW4oJy91c2VyLWNsYXNzZXMnLCB7IHRlbXBsYXRlVXJsOiAndXNlci91c2VyLWNsYXNzZXMuaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy91c2VyLXBob3RvcycsIHsgdGVtcGxhdGVVcmw6ICd1c2VyL3VzZXItcGhvdG9zLmh0bWwnIH0pXHJcblx0XHRcdC53aGVuKCcvdXNlci1wYXltZW50cycsIHsgdGVtcGxhdGVVcmw6ICd1c2VyL3VzZXItcGF5bWVudHMuaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy91c2VyLWZvcm1zJywgeyB0ZW1wbGF0ZVVybDogJ3VzZXIvdXNlci1mb3Jtcy5odG1sJyB9KVxyXG5cdFx0XHRcclxuXHRcdFx0LndoZW4oJy9hZG1pbicsIHsgY29udHJvbGxlcjogJ0FkbWluTG9naW5DdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi9hZG1pbi1sb2dpbi5odG1sJyB9KVxyXG5cdFx0XHQud2hlbignL2FkbWluLXJlZ2lzdGVyJywgeyBjb250cm9sbGVyOiAnQWRtaW5Mb2dpbkN0cmwnLCB0ZW1wbGF0ZVVybDogJ2FkbWluL3JlZ2lzdHJhdGlvbi5odG1sJyB9KVxyXG5cclxuXHRcdFx0LndoZW4oJy9hZG1pbi1hY2NvdW50JywgeyB0ZW1wbGF0ZVVybDogJ2FkbWluL2FkbWluLWFjY291bnQuaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy91cGRhdGUtYWRtaW4tYWNjb3VudCcsIHsgY29udHJvbGxlcjogJ1VwZGF0ZUFkbWluQ3RybCcsIHRlbXBsYXRlVXJsOiAnYWRtaW4vdXBkYXRlLWFkbWluLWFjY291bnQuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL3VwZGF0ZS1hZG1pbi1wYXNzd29yZCcsIHsgY29udHJvbGxlcjogJ1VwZGF0ZUFkbWluQ3RybCcsIHRlbXBsYXRlVXJsOiAnYWRtaW4vdXBkYXRlLWFkbWluLXBhc3N3b3JkLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy91cGRhdGUtYWRtaW4tYmlvJywgeyBjb250cm9sbGVyOiAnVXBkYXRlQWRtaW5DdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi91cGRhdGUtYWRtaW4tYmlvLmh0bWwnfSlcclxuXHJcblx0XHRcdC53aGVuKCcvYWRtaW4tY2xhc3NlcycsIHsgY29udHJvbGxlcjogJ0NsYXNzQ3RybCcsIHRlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tY2xhc3Nlcy5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvYWRtaW4tYWRkLWNsYXNzJywgeyBjb250cm9sbGVyOiAnQ2xhc3NDdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi9hZG1pbi1hZGQtY2xhc3MuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL2FkbWluLXVwZGF0ZS1jbGFzcycsIHsgY29udHJvbGxlcjogJ0NsYXNzQ3RybCcsIHRlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tdXBkYXRlLWNsYXNzLmh0bWwnIH0pXHJcblxyXG5cdFx0XHQud2hlbignL2FkbWluLWNsaWVudHMnLCB7Y29udHJvbGxlcjogJ0NsaWVudHNDdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi9hZG1pbi1jbGllbnRzLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9hZG1pbi1waG90b3MnLCB7dGVtcGxhdGVVcmw6ICdhZG1pbi9hZG1pbi1waG90b3MuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL2FkbWluLXBheW1lbnRzJywge3RlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tcGF5bWVudHMuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL2FkbWluLWZvcm1zJywge3RlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tZm9ybXMuaHRtbCd9KVxyXG5cclxuXHRcdFx0LndoZW4oJy9jbScsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9jbS1lbGVtZW50LWFkZCcsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWVsZW1lbnQtYWRkLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9jbS1lbGVtZW50LWVkaXQnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1lbGVtZW50LWVkaXQuaHRtbCd9KVxyXG5cclxuXHRcdFx0LndoZW4oJy9jbS1ob21lcGFnZScsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWhvbWVwYWdlLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9jbS1jbGFzc2VzJywgeyBjb250cm9sbGVyOiAnQWRtaW5Db250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnY20vY20tY2xhc3Nlcy5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvY20tYWJvdXQnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1hYm91dC5odG1sJ30pXHJcblxyXG5cdFx0XHQud2hlbignL2NtLWNsYXNzLWFkZCcsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWNsYXNzLWFkZC5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvY20tY2xhc3MtZWRpdCcsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWNsYXNzLWVkaXQuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL2NtLWJ1Y2tldC1hZGQnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1idWNrZXQtYWRkLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9jbS1idWNrZXQtZWRpdCcsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWJ1Y2tldC1lZGl0Lmh0bWwnfSlcclxuXHJcblx0XHRcdC53aGVuKCcvY20tZmFxJywgeyBjb250cm9sbGVyOiAnQWRtaW5Db250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnY20vY20tZmFxLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9jbS1mYXEtYWRkJywgeyBjb250cm9sbGVyOiAnQWRtaW5Db250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnY20vY20tZmFxLWFkZC5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvY20tZmFxLWVkaXQnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1mYXEtZWRpdC5odG1sJ30pXHJcblxyXG5cdCRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxufSlcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdVcGRhdGVBZG1pbkN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIEFkbWluU3ZjLCAkbG9jYXRpb24pIHtcclxuICAgICRzY29wZS51cGRhdGUgPSBmdW5jdGlvbiAoaWQsIHVzZXJuYW1lLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgcGhvbmUpIHtcclxuICAgICAgICBBZG1pblN2Yy51cGRhdGUoaWQsIHVzZXJuYW1lLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgcGhvbmUpXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2FkbWluLWFjY291bnQnKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgICRzY29wZS51cGRhdGVQYXNzd29yZCA9IGZ1bmN0aW9uIChpZCwgbmV3UGFzc3dvcmQsIGNoZWNrUGFzc3dvcmQpIHtcclxuICAgICAgICBpZiAobmV3UGFzc3dvcmQgIT0gY2hlY2tQYXNzd29yZCkge1xyXG4gICAgICAgICAgICAkc2NvcGUucGFzc3dvcmRzTWF0Y2ggPSB0cnVlXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLnBhc3N3b3Jkc01hdGNoID0gZmFsc2VcclxuXHJcbiAgICAgICAgQWRtaW5TdmMudXBkYXRlUGFzc3dvcmQoaWQsIG5ld1Bhc3N3b3JkKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2FkbWluLWFjY291bnQnKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgICRzY29wZS51cGRhdGVCaW8gPSBmdW5jdGlvbiAoaWQsIGJpbykge1xyXG4gICAgICAgIEFkbWluU3ZjLnVwZGF0ZUJpbyhpZCwgYmlvKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2FkbWluLWFjY291bnQnKVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgIH1cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ1VwZGF0ZUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXJTdmMsICRsb2NhdGlvbikge1xyXG5cdCRzY29wZS51cGRhdGUgPSBmdW5jdGlvbiAoaWQsIGVtYWlsLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBzdHJlZXRBZGRyZXNzLCBjaXR5LCBzdGF0ZSwgemlwLCBwaG9uZSkge1xyXG5cdFx0XHJcblx0XHR2YXIgbW9kaWZpZWRFbWFpbCA9IGVtYWlsLnRvTG93ZXJDYXNlKClcclxuXHJcblx0XHRVc2VyU3ZjLnVwZGF0ZShpZCwgbW9kaWZpZWRFbWFpbCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgc3RyZWV0QWRkcmVzcywgY2l0eSwgc3RhdGUsIHppcCwgcGhvbmUpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JHNjb3BlLmN1cnJlbnRVc2VyLmVtYWlsID0gbW9kaWZpZWRFbWFpbFxyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL3VzZXItYWNjb3VudCcpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLnVwZGF0ZVBhc3N3b3JkID0gZnVuY3Rpb24gKGlkLCBuZXdQYXNzd29yZCwgY2hlY2tQYXNzd29yZCkge1xyXG5cdFx0aWYgKG5ld1Bhc3N3b3JkICE9IGNoZWNrUGFzc3dvcmQpIHtcclxuXHRcdFx0JHNjb3BlLnBhc3N3b3Jkc01hdGNoID0gdHJ1ZVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdH1cclxuXHJcblx0XHQkc2NvcGUucGFzc3dvcmRzTWF0Y2ggPSBmYWxzZVxyXG5cdFxyXG5cdFx0VXNlclN2Yy51cGRhdGVQYXNzd29yZChpZCwgbmV3UGFzc3dvcmQpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvdXNlci1hY2NvdW50JylcclxuXHRcdH0pXHJcblx0fVxyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ1VzZXJDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjLCAkbG9jYXRpb24pIHtcclxuXHJcblx0VXNlclN2Yy5nZXRBbGxDaGlsZHJlbigpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHQkc2NvcGUuY2hpbGRyZW4gPSByZXMuZGF0YVxyXG5cdH0pXHJcblxyXG5cdCRzY29wZS5zZXRDaGlsZFRvVXBkYXRlID0gZnVuY3Rpb24oY2hpbGQpIHtcclxuXHRcdCRzY29wZS5jdXJyZW50VXNlci5jaGlsZFRvVXBkYXRlID0gY2hpbGRcclxuXHR9XHJcblxyXG5cdCRzY29wZS51cGRhdGVDaGlsZCA9IGZ1bmN0aW9uKGNoaWxkKSB7XHJcblx0XHRVc2VyU3ZjLnVwZGF0ZUNoaWxkKGNoaWxkKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvdXNlci1hY2NvdW50JylcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQkc2NvcGUuZGVsZXRlQ2hpbGQgPSBmdW5jdGlvbihjaGlsZCkge1xyXG5cdFx0VXNlclN2Yy5kZWxldGVDaGlsZChjaGlsZClcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL3VzZXItYWNjb3VudCcpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5zZXJ2aWNlKCdVc2VyU3ZjJywgZnVuY3Rpb24gKCRodHRwKSB7XHJcblx0dmFyIHN2YyA9IHRoaXNcclxuXHJcblx0c3ZjLmdldFVzZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzJylcclxuXHR9XHJcblxyXG5cdHN2Yy5yZWdpc3RlciA9IGZ1bmN0aW9uIChlbWFpbCwgcGFzc3dvcmQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHN0cmVldEFkZHJlc3MsIGNpdHksIHN0YXRlLCB6aXAsIHBob25lKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2VycycsIHtcclxuXHRcdFx0ZW1haWw6IGVtYWlsLFxyXG5cdFx0XHRwYXNzd29yZDogcGFzc3dvcmQsXHJcblx0XHRcdGZpcnN0TmFtZTogZmlyc3ROYW1lLFxyXG5cdFx0XHRsYXN0TmFtZTogbGFzdE5hbWUsXHJcblx0XHRcdHN0cmVldEFkZHJlc3M6IHN0cmVldEFkZHJlc3MsXHJcblx0XHRcdGNpdHk6IGNpdHksXHJcblx0XHRcdHN0YXRlOiBzdGF0ZSxcclxuXHRcdFx0emlwOiB6aXAsXHJcblx0XHRcdHBob25lOiBwaG9uZVxyXG5cdFx0fSkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBzdmMubG9naW4oZW1haWwsIHBhc3N3b3JkKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy5jaGVja1Rva2VuID0gZnVuY3Rpb24oKSB7XHJcblx0XHQkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ10gPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UudG9rZW5cclxuXHRcdHJldHVybiBzdmMuZ2V0VXNlcigpXHJcblx0fVxyXG5cclxuXHRzdmMubG9naW4gPSBmdW5jdGlvbiAoZW1haWwsIHBhc3N3b3JkKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9zZXNzaW9ucycsIHtcclxuXHRcdFx0ZW1haWw6IGVtYWlsLCBwYXNzd29yZDogcGFzc3dvcmRcclxuXHRcdH0pXHJcblx0XHQudGhlbihmdW5jdGlvbiAodmFsKSB7XHJcblx0XHRcdHdpbmRvdy5zZXNzaW9uU3RvcmFnZS50b2tlbiA9IHZhbC5kYXRhXHJcblx0XHRcdCRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9IHZhbC5kYXRhXHJcblx0XHRcdHJldHVybiBzdmMuZ2V0VXNlcigpXHJcblx0XHR9LCBmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0cmV0dXJuIGVyclxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy5sb2dvdXQgPSBmdW5jdGlvbigpIHtcclxuXHRcdGRlbGV0ZSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ11cclxuXHRcdHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlID0gZnVuY3Rpb24gKGlkLCBlbWFpbCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgc3RyZWV0QWRkcmVzcywgY2l0eSwgc3RhdGUsIHppcCwgcGhvbmUpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvdXNlcnMvdXBkYXRlJywge1xyXG5cdFx0XHRpZDogaWQsXHJcblx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0Zmlyc3ROYW1lOiBmaXJzdE5hbWUsXHJcblx0XHRcdGxhc3ROYW1lOiBsYXN0TmFtZSxcclxuXHRcdFx0c3RyZWV0QWRkcmVzczogc3RyZWV0QWRkcmVzcyxcclxuXHRcdFx0Y2l0eTogY2l0eSxcclxuXHRcdFx0c3RhdGU6IHN0YXRlLFxyXG5cdFx0XHR6aXA6IHppcCxcclxuXHRcdFx0cGhvbmU6IHBob25lXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLnVwZGF0ZVBhc3N3b3JkID0gZnVuY3Rpb24gKGlkLCBuZXdQYXNzd29yZCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS91c2Vycy91cGRhdGVQYXNzd29yZCcsIHtcclxuXHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHRwYXNzd29yZDogbmV3UGFzc3dvcmRcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMucmVzZXRQYXNzd29yZCA9ICBmdW5jdGlvbiAoZW1haWwsIG5ld1Bhc3N3b3JkKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL3VzZXJzL3Jlc2V0UGFzc3dvcmQnLCB7XHJcblx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0bmV3UGFzc3dvcmQ6IG5ld1Bhc3N3b3JkXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLnVwZGF0ZUNoaWxkID0gZnVuY3Rpb24gKGNoaWxkKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL3VzZXJzL3VwZGF0ZUNoaWxkJywgY2hpbGQpXHJcblx0fVxyXG5cclxuXHRzdmMuZGVsZXRlQ2hpbGQgPSBmdW5jdGlvbiAoY2hpbGQpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvdXNlcnMvZGVsZXRlQ2hpbGQnLCBjaGlsZClcclxuXHR9XHJcblxyXG5cdHN2Yy5hZGRDaGlsZCA9IGZ1bmN0aW9uIChhZHVsdElkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBkb2IsIG5vdGVzKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2Vycy9hZGRDaGlsZCcsIHtcclxuXHRcdFx0YWR1bHRJZDogYWR1bHRJZCxcclxuXHRcdFx0Zmlyc3ROYW1lOiBmaXJzdE5hbWUsXHJcblx0XHRcdGxhc3ROYW1lOiBsYXN0TmFtZSxcclxuXHRcdFx0ZG9iOiBkb2IsXHJcblx0XHRcdG5vdGVzOiBub3Rlc1xyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxDaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvZ2V0QWxsQ2hpbGRyZW4nKVxyXG5cdH1cclxuXHJcblx0c3ZjLmVtYWlsID0gZnVuY3Rpb24gKGVtYWlsLCBuZXdQYXNzd29yZCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMvc2VuZEVtYWlsJyx7XHJcblx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0bmV3UGFzc3dvcmQ6IG5ld1Bhc3N3b3JkXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblxyXG59KVxyXG4iXX0=
