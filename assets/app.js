angular.module("app",["ngRoute"]),angular.module("app").controller("ClassCtrl",["$scope","ClassSVC","$location",function(e,r,o){e.students=[],e.addClass=function(t,e,n,a,l){r.addClass(t,e,n,a,l).then(function(t){o.path("/admin-classes")})},r.getAllClasses().then(function(t){e.classes=t.data}),e.setClassToUpdate=function(t){e.currentAdmin.classToUpdate=t},e.updateClass=function(t){r.updateClass(t).then(function(t){o.path("/admin-classes")})},e.deleteClass=function(t){r.deleteClass(t).then(function(t){o.path("/admin-classes")})},r.getAllChildren().then(function(t){e.children=t.data}),e.addToClass=function(t,e){console.log("class "+t),console.log("students before put request "+t.children),t.children.includes(e)?console.log("child already added"):t.children.push(e),r.addToClass(t),console.log("students after put request "+t.children)},e.removeFromClass=function(t,e){console.log(e),t.children.splice(e,1)},e.removeAll=function(t){r.removeAll(t)}}]),angular.module("app").controller("AdminLoginCtrl",["$scope","AdminSvc","$location",function(s,i,c){s.login=function(t,e){s.loginError=!1,s.errorMessage="",i.login(t,e).then(function(t){if(401==t.status)return s.errorMessage=t.data,!(s.loginError=!0);s.$emit("login",t.data),c.path("/admin-account")})},s.register=function(t,e,n,a,l,r,o){if(n!=a)return s.registerError=!0,!(s.errorMessage="Error: Passwords must match");s.registerError=!1,i.register(t,e,n,l,r,o).then(function(t){s.$emit("login",t.data),c.path("/admin-account")})}}]),angular.module("app").service("AdminSvc",["$http",function(o){var s=this;s.getAdmin=function(){return o.get("/api/admin")},s.register=function(t,e,n,a,l,r){return o.post("/api/admin",{username:e,password:n,email:t,firstName:a,lastName:l,phone:r}).then(function(){return s.login(e,n)})},s.checkToken=function(t){return o.defaults.headers.common["X-Auth"]=window.sessionStorage.token,s.getAdmin()},s.login=function(t,e){return o.post("/api/admin-sessions",{username:t,password:e}).then(function(t){return window.sessionStorage.token=t.data,o.defaults.headers.common["X-Auth"]=t.data,s.getAdmin()},function(t){return t})},s.logout=function(){delete o.defaults.headers.common["X-Auth"],sessionStorage.clear()},s.update=function(t,e,n,a,l,r){return o.put("/api/admin/update",{id:t,username:e,firstName:n,lastName:a,email:l,phone:r})},s.updatePassword=function(t,e){return o.put("/api/admin/updatePassword",{id:t,password:e})},s.updateBio=function(t,e){return o.put("/api/admin/updateBio",{id:t,bio:e})},s.getAllUsers=function(){return o.get("/api/admin/getAllUsers")}}]),angular.module("app").controller("AdminCtrl",["$scope","AdminSvc","$location",function(n,t,e){n.init=function(){window.sessionStorage.token&&t.checkToken().then(function(t){n.currentAdmin=t.data})},n.$on("login",function(t,e){n.currentAdmin=e}),n.logout=function(){t.logout(),delete n.currentAdmin,e.path("/admin")}}]),angular.module("app").controller("AdminContentCtrl",["$scope","AdminContentSvc","$location",function(r,o,s){o.getAllHomepageElements().then(function(t){r.homepage_content=t.data}),o.getAllClassesElements().then(function(t){r.classes_content=t.data}),o.getAllClasses().then(function(t){r.classes=t.data}),o.getAllAboutElements().then(function(t){r.about_content=t.data}),o.getAllFaqElements().then(function(t){r.faq_content=t.data}),o.getAllFaqs().then(function(t){r.faq=t.data}),r.setFaqToUpdate=function(t){r.currentAdmin.faqToUpdate=t},r.updateFaq=function(t){o.updateFaq(t).then(function(t){s.path("/cm-faq")})},r.addFaq=function(t,e){if(r.inputError=!1,r.errorMessage="",!t||!e)return r.inputError=!0,void(r.errorMessage="All text fields must contain content");o.addFaq(t,e).then(function(t){s.path("/cm-faq")})},r.deleteFaq=function(t){o.deleteFaq(t).then(function(t){s.path("/cm-faq")})},r.addElement=function(t,e,n,a){r.inputError=!1,r.errorMessage="",o.addElement(t,e,n,a).then(function(t){s.path("/cm")})},r.setElementToUpdate=function(t){r.currentAdmin.elementToUpdate=t},r.updateElement=function(t){o.updateElement(t).then(function(t){s.path("/cm")})},r.addClass=function(t,e,n,a,l){if(console.log("addClass Called!"),r.inputError=!1,r.errorMessage="",!t||!l)return r.inputError=!0,void(r.errorMessage="All text fields must contain content");o.addClass(t,e,n,a,l).then(function(t){s.path("/cm-classes")})}}]),angular.module("app").service("AdminContentSvc",["$http",function(r){var t=this;t.getAllElements=function(){return r.get("/api/content/getAllElements")},t.getAllHomepageElements=function(){return r.get("/api/content/getAllHomepageElements")},t.getAllClassesElements=function(){return r.get("/api/content/getAllClassesElements")},t.getAllClasses=function(){return r.get("/api/content/getAllClasses")},t.getAllAboutElements=function(){return r.get("/api/content/getAllAboutElements")},t.getAllFaqElements=function(){return r.get("/api/content/getAllFaqElements")},t.addElement=function(t,e,n,a){return r.post("/api/content/addElement",{name:t,location:e,description:n,value:a})},t.updateElement=function(t){return r.put("/api/content/updateElement",t)},t.getAllFaqs=function(){return r.get("/api/content/getAllFaqs")},t.addFaq=function(t,e){return r.post("/api/content/addFaq",{question:t,answer:e})},t.updateFaq=function(t){return r.put("/api/content/updateFaq",t)},t.deleteFaq=function(t){return r.put("/api/content/deleteFaq",t)},t.addClass=function(t,e,n,a,l){return console.log("Service add class called!"),r.post("/api/content/addClass",{title:t,subtitle:e,icon:a,color:n,description:l})}}]),angular.module("app").controller("ApplicationCtrl",["$scope","UserSvc","$location","$http",function(n,t,e,a){n.init=function(){window.sessionStorage.token&&t.checkToken().then(function(t){n.currentUser=t.data})},n.$on("login",function(t,e){n.currentUser=e}),n.logout=function(){t.logout(),delete n.currentUser,e.path("/login")}}]),angular.module("app").controller("ChildCtrl",["$scope","UserSvc","$location",function(t,r,o){t.addChild=function(t,e,n,a,l){r.addChild(t,e,n,a,l).then(function(t){o.path("/user-account")})}}]),angular.module("app").service("ClassSVC",["$http",function(r){var t=this;t.addClass=function(t,e,n,a,l){return r.post("/api/classes/addClass",{title:t,description:e,time:n,days:a,album:l})},t.updateClass=function(t){return r.put("/api/classes/updateClass",t)},t.deleteClass=function(t){return r.put("/api/classes/deleteClass",t)},t.getAllClasses=function(){return r.get("/api/classes/getAllClasses")},t.getAllChildren=function(){return r.get("/api/classes/getAllChildren")},t.addToClass=function(t){return r.put("/api/classes/addToClass",t)},t.removeAll=function(t){return r.put("/api/classes/removeAll",t)}}]),angular.module("app").controller("ClientsCtrl",["$scope","AdminSvc",function(e,t){t.getAllUsers().then(function(t){e.clients=t.data})}]),angular.module("app").controller("ContentCtrl",["$scope","ContentSvc",function(n,t){t.getAllElements().then(function(t){angular.forEach(t.data,function(t,e){n[t.name]=t.value})}),t.getAllClasses().then(function(t){n.classes=t.data}),t.getAllFaqs().then(function(t){n.faq=t.data})}]),angular.module("app").service("ContentSvc",["$http",function(t){this.getAllElements=function(){return t.get("/api/content/getAllElements")},this.getAllClasses=function(){return t.get("/api/content/getAllClasses")},this.getAllFaqs=function(){return t.get("/api/content/getAllFaqs")}}]),angular.module("app").controller("LoginCtrl",["$scope","UserSvc","$location",function(a,l,r){a.login=function(t,e){a.loginError=!1,a.errorMessage="";var n=t.toLowerCase();l.login(n,e).then(function(t){if(401==t.status)return a.errorMessage=t.data,!(a.loginError=!0);a.$emit("login",t.data),r.path("/user-account")})}}]),angular.module("app").controller("RegisterCtrl",["$scope","UserSvc","$location",function(d,m,p){d.register=function(t,e,n,a,l,r,o,s,i,c){if(e!=n)return d.registerError=!0,!(d.errorMessage="Error: Passwords must match");d.registerError=!1;var u=t.toLowerCase();m.register(u,e,a,l,r,o,s,i,c).then(function(t){d.$emit("login",t.data),p.path("/user-account")})}}]),angular.module("app").controller("ResetCtrl",["$scope","UserSvc","$location",function(a,l,t){a.resetPassword=function(e){a.invalidEmail=!1,a.passwordReset=!1,a.InvalidEmailMessage="";var t=e.toLowerCase(),n=Math.random().toString(36).slice(-10);l.resetPassword(t,n).then(function(t){if(401==t.status)return console.log("applying invalid email"),a.invalidEmail=t.data,!(a.invalidEmail=!0);a.passwordReset=!0,l.email(e,n)})}}]),angular.module("app").config(["$routeProvider","$locationProvider",function(t,e){t.when("/",{controller:"ContentCtrl",templateUrl:"index.html"}).when("/classes",{controller:"ContentCtrl",templateUrl:"classes.html"}).when("/about",{controller:"ContentCtrl",templateUrl:"about.html"}).when("/faq",{controller:"ContentCtrl",templateUrl:"faq.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"login.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"registration.html"}).when("/reset-password",{controller:"ResetCtrl",templateUrl:"reset-password.html"}).when("/user-account",{controller:"UserCtrl",templateUrl:"user/user-account.html"}).when("/update-user-account",{controller:"UpdateCtrl",templateUrl:"user/update-user-account.html"}).when("/update-user-password",{controller:"UpdateCtrl",templateUrl:"user/update-user-password.html"}).when("/add-child",{controller:"ChildCtrl",templateUrl:"user/add-child.html"}).when("/update-child",{controller:"UserCtrl",templateUrl:"user/update-child.html"}).when("/user-classes",{templateUrl:"user/user-classes.html"}).when("/user-photos",{templateUrl:"user/user-photos.html"}).when("/user-payments",{templateUrl:"user/user-payments.html"}).when("/user-forms",{templateUrl:"user/user-forms.html"}).when("/admin",{controller:"AdminLoginCtrl",templateUrl:"admin/admin-login.html"}).when("/admin-register",{controller:"AdminLoginCtrl",templateUrl:"admin/registration.html"}).when("/admin-account",{templateUrl:"admin/admin-account.html"}).when("/update-admin-account",{controller:"UpdateAdminCtrl",templateUrl:"admin/update-admin-account.html"}).when("/update-admin-password",{controller:"UpdateAdminCtrl",templateUrl:"admin/update-admin-password.html"}).when("/update-admin-bio",{controller:"UpdateAdminCtrl",templateUrl:"admin/update-admin-bio.html"}).when("/admin-classes",{controller:"ClassCtrl",templateUrl:"admin/admin-classes.html"}).when("/admin-add-class",{controller:"ClassCtrl",templateUrl:"admin/admin-add-class.html"}).when("/admin-update-class",{controller:"ClassCtrl",templateUrl:"admin/admin-update-class.html"}).when("/admin-clients",{controller:"ClientsCtrl",templateUrl:"admin/admin-clients.html"}).when("/admin-photos",{templateUrl:"admin/admin-photos.html"}).when("/admin-payments",{templateUrl:"admin/admin-payments.html"}).when("/admin-forms",{templateUrl:"admin/admin-forms.html"}).when("/cm",{controller:"AdminContentCtrl",templateUrl:"cm/cm.html"}).when("/cm-element-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-element-add.html"}).when("/cm-element-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-element-edit.html"}).when("/cm-homepage",{controller:"AdminContentCtrl",templateUrl:"cm/cm-homepage.html"}).when("/cm-classes",{controller:"AdminContentCtrl",templateUrl:"cm/cm-classes.html"}).when("/cm-about",{controller:"AdminContentCtrl",templateUrl:"cm/cm-about.html"}).when("/cm-class-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-class-add.html"}).when("/cm-class-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-class-edit.html"}).when("/cm-faq",{controller:"AdminContentCtrl",templateUrl:"cm/cm-faq.html"}).when("/cm-faq-add",{controller:"AdminContentCtrl",templateUrl:"cm/cm-faq-add.html"}).when("/cm-faq-edit",{controller:"AdminContentCtrl",templateUrl:"cm/cm-faq-edit.html"}),e.html5Mode(!0)}]),angular.module("app").controller("UpdateAdminCtrl",["$scope","AdminSvc","$location",function(a,o,s){a.update=function(t,e,n,a,l,r){o.update(t,e,n,a,l,r).then(function(t){s.path("/admin-account")})},a.updatePassword=function(t,e,n){if(e!=n)return!(a.passwordsMatch=!0);a.passwordsMatch=!1,o.updatePassword(t,e).then(function(t){s.path("/admin-account")})},a.updateBio=function(t,e){o.updateBio(t,e).then(function(t){s.path("/admin-account")})}}]),angular.module("app").controller("UpdateCtrl",["$scope","UserSvc","$location",function(u,d,m){u.update=function(t,e,n,a,l,r,o,s,i){var c=e.toLowerCase();d.update(t,c,n,a,l,r,o,s,i).then(function(t){u.currentUser.email=c,m.path("/user-account")})},u.updatePassword=function(t,e,n){if(e!=n)return!(u.passwordsMatch=!0);u.passwordsMatch=!1,d.updatePassword(t,e).then(function(t){m.path("/user-account")})}}]),angular.module("app").controller("UserCtrl",["$scope","UserSvc","$location",function(e,n,a){n.getAllChildren().then(function(t){e.children=t.data}),e.setChildToUpdate=function(t){e.currentUser.childToUpdate=t},e.updateChild=function(t){n.updateChild(t).then(function(t){a.path("/user-account")})},e.deleteChild=function(t){n.deleteChild(t).then(function(t){a.path("/user-account")})}}]),angular.module("app").service("UserSvc",["$http",function(c){var u=this;u.getUser=function(){return c.get("/api/users")},u.register=function(t,e,n,a,l,r,o,s,i){return c.post("/api/users",{email:t,password:e,firstName:n,lastName:a,streetAddress:l,city:r,state:o,zip:s,phone:i}).then(function(){return u.login(t,e)})},u.checkToken=function(){return c.defaults.headers.common["X-Auth"]=window.sessionStorage.token,u.getUser()},u.login=function(t,e){return c.post("/api/sessions",{email:t,password:e}).then(function(t){return window.sessionStorage.token=t.data,c.defaults.headers.common["X-Auth"]=t.data,u.getUser()},function(t){return t})},u.logout=function(){delete c.defaults.headers.common["X-Auth"],sessionStorage.clear()},u.update=function(t,e,n,a,l,r,o,s,i){return c.put("/api/users/update",{id:t,email:e,firstName:n,lastName:a,streetAddress:l,city:r,state:o,zip:s,phone:i})},u.updatePassword=function(t,e){return c.put("/api/users/updatePassword",{id:t,password:e})},u.resetPassword=function(t,e){return c.put("/api/users/resetPassword",{email:t,newPassword:e})},u.updateChild=function(t){return c.put("/api/users/updateChild",t)},u.deleteChild=function(t){return c.put("/api/users/deleteChild",t)},u.addChild=function(t,e,n,a,l){return c.post("/api/users/addChild",{adultId:t,firstName:e,lastName:n,dob:a,notes:l})},u.getAllChildren=function(){return c.get("/api/users/getAllChildren")},u.email=function(t,e){return c.post("/api/users/sendEmail",{email:t,newPassword:e})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFkbWluLmNsYXNzLmN0cmwuanMiLCJhZG1pbi5sb2dpbi5jdHJsLmpzIiwiYWRtaW4uc3ZjLmpzIiwiYWRtaW5hcHAuY3RybC5qcyIsImFkbWluQ29udGVudC5jdHJsLmpzIiwiYWRtaW5Db250ZW50LnN2Yy5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJjaGlsZC5jdHJsLmpzIiwiY2xhc3Muc3ZjLmpzIiwiY2xpZW50cy5jdHJsLmpzIiwiY29udGVudC5jdHJsLmpzIiwiY29udGVudC5zdmMuanMiLCJsb2dpbi5jdHJsLmpzIiwicmVnaXN0ZXIuY3RybC5qcyIsInJlc2V0LmN0cmwuanMiLCJyb3V0ZXMuanMiLCJ1cGRhdGUuYWRtaW4uY3RybC5qcyIsInVwZGF0ZS5jdHJsLmpzIiwidXNlci5jdHJsLmpzIiwidXNlci5zdmMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJDbGFzc1NWQyIsIiRsb2NhdGlvbiIsInN0dWRlbnRzIiwiYWRkQ2xhc3MiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidGltZSIsImRheXMiLCJhbGJ1bSIsInRoZW4iLCJyZXNwb25zZSIsInBhdGgiLCJnZXRBbGxDbGFzc2VzIiwicmVzIiwiY2xhc3NlcyIsImRhdGEiLCJzZXRDbGFzc1RvVXBkYXRlIiwiY2xhc3NfIiwiY3VycmVudEFkbWluIiwiY2xhc3NUb1VwZGF0ZSIsInVwZGF0ZUNsYXNzIiwiZGVsZXRlQ2xhc3MiLCJnZXRBbGxDaGlsZHJlbiIsImNoaWxkcmVuIiwiYWRkVG9DbGFzcyIsImNoaWxkIiwiY29uc29sZSIsImxvZyIsImluY2x1ZGVzIiwicHVzaCIsInJlbW92ZUZyb21DbGFzcyIsImluZGV4Iiwic3BsaWNlIiwicmVtb3ZlQWxsIiwiQWRtaW5TdmMiLCJsb2dpbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJsb2dpbkVycm9yIiwiZXJyb3JNZXNzYWdlIiwic3RhdHVzIiwiJGVtaXQiLCJyZWdpc3RlciIsImVtYWlsIiwiY2hlY2twYXNzIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJwaG9uZSIsInJlZ2lzdGVyRXJyb3IiLCJzZXJ2aWNlIiwiJGh0dHAiLCJzdmMiLCJ0aGlzIiwiZ2V0QWRtaW4iLCJnZXQiLCJwb3N0IiwiY2hlY2tUb2tlbiIsInRva2VuIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwid2luZG93Iiwic2Vzc2lvblN0b3JhZ2UiLCJ2YWwiLCJlcnIiLCJsb2dvdXQiLCJjbGVhciIsInVwZGF0ZSIsImlkIiwicHV0IiwidXBkYXRlUGFzc3dvcmQiLCJuZXdQYXNzd29yZCIsInVwZGF0ZUJpbyIsImJpbyIsImdldEFsbFVzZXJzIiwiaW5pdCIsIiRvbiIsIl8iLCJhZG1pbiIsIkFkbWluQ29udGVudFN2YyIsImdldEFsbEhvbWVwYWdlRWxlbWVudHMiLCJlbGVtcyIsImhvbWVwYWdlX2NvbnRlbnQiLCJnZXRBbGxDbGFzc2VzRWxlbWVudHMiLCJjbGFzc2VzX2NvbnRlbnQiLCJnZXRBbGxBYm91dEVsZW1lbnRzIiwiYWJvdXRfY29udGVudCIsImdldEFsbEZhcUVsZW1lbnRzIiwiZmFxX2NvbnRlbnQiLCJnZXRBbGxGYXFzIiwiZmFxIiwic2V0RmFxVG9VcGRhdGUiLCJmYXFUb1VwZGF0ZSIsInVwZGF0ZUZhcSIsImFkZEZhcSIsInF1ZXN0aW9uIiwiYW5zd2VyIiwiaW5wdXRFcnJvciIsImRlbGV0ZUZhcSIsImFkZEVsZW1lbnQiLCJuYW1lIiwibG9jYXRpb24iLCJkZXNjIiwidmFsdWUiLCJzZXRFbGVtZW50VG9VcGRhdGUiLCJlbGVtZW50IiwiZWxlbWVudFRvVXBkYXRlIiwidXBkYXRlRWxlbWVudCIsInN1YnRpdGxlIiwiY29sb3IiLCJpY29uIiwiZ2V0QWxsRWxlbWVudHMiLCJVc2VyU3ZjIiwiY3VycmVudFVzZXIiLCJ1c2VyIiwiYWRkQ2hpbGQiLCJhZHVsdElkIiwiZG9iIiwibm90ZXMiLCJjbGllbnRzIiwiQ29udGVudFN2YyIsImZvckVhY2giLCJtb2RpZmllZEVtYWlsIiwidG9Mb3dlckNhc2UiLCJzdHJlZXRBZGRyZXNzIiwiY2l0eSIsInN0YXRlIiwiemlwIiwicmVzZXRQYXNzd29yZCIsImludmFsaWRFbWFpbCIsInBhc3N3b3JkUmVzZXQiLCJJbnZhbGlkRW1haWxNZXNzYWdlIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic2xpY2UiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwiaHRtbDVNb2RlIiwiY2hlY2tQYXNzd29yZCIsInBhc3N3b3Jkc01hdGNoIiwic2V0Q2hpbGRUb1VwZGF0ZSIsImNoaWxkVG9VcGRhdGUiLCJ1cGRhdGVDaGlsZCIsImRlbGV0ZUNoaWxkIiwiZ2V0VXNlciJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQUFDLE9BQUEsTUFBQSxDQUNBLFlDREFELFFBQUFDLE9BQUEsT0FDQUMsV0FBQSxZQUFBLENBQUEsU0FBQSxXQUFBLFlBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FFQUYsRUFBQUcsU0FBQSxHQUVBSCxFQUFBSSxTQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FSLEVBQUFHLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FDLEtBQUEsU0FBQUMsR0FDQVQsRUFBQVUsS0FBQSxxQkFJQVgsRUFBQVksZ0JBQUFILEtBQUEsU0FBQUksR0FDQWQsRUFBQWUsUUFBQUQsRUFBQUUsT0FHQWhCLEVBQUFpQixpQkFBQSxTQUFBQyxHQUNBbEIsRUFBQW1CLGFBQUFDLGNBQUFGLEdBR0FsQixFQUFBcUIsWUFBQSxTQUFBSCxHQUNBakIsRUFBQW9CLFlBQUFILEdBQ0FSLEtBQUEsU0FBQUMsR0FDQVQsRUFBQVUsS0FBQSxxQkFJQVosRUFBQXNCLFlBQUEsU0FBQUosR0FDQWpCLEVBQUFxQixZQUFBSixHQUNBUixLQUFBLFNBQUFDLEdBQ0FULEVBQUFVLEtBQUEscUJBSUFYLEVBQUFzQixpQkFBQWIsS0FB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WixNQUFBQSxFQUNBNEIsWUFBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFtcclxuXHQnbmdSb3V0ZSdcclxuXSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdDbGFzc0N0cmwnLCBmdW5jdGlvbigkc2NvcGUsIENsYXNzU1ZDLCAkbG9jYXRpb24pIHtcclxuXHJcbiAgICAgICAgJHNjb3BlLnN0dWRlbnRzID0gW107XHJcblxyXG4gICAgICAgICRzY29wZS5hZGRDbGFzcyA9IGZ1bmN0aW9uICh0aXRsZSwgZGVzY3JpcHRpb24sIHRpbWUsIGRheXMsIGFsYnVtKSB7XHJcbiAgICAgICAgICAgIENsYXNzU1ZDLmFkZENsYXNzKHRpdGxlLCBkZXNjcmlwdGlvbiwgdGltZSwgZGF5cywgYWxidW0pXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2FkbWluLWNsYXNzZXMnKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIENsYXNzU1ZDLmdldEFsbENsYXNzZXMoKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgICAgICAkc2NvcGUuY2xhc3NlcyA9IHJlcy5kYXRhXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgJHNjb3BlLnNldENsYXNzVG9VcGRhdGUgPSBmdW5jdGlvbihjbGFzc18pIHtcclxuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRBZG1pbi5jbGFzc1RvVXBkYXRlID0gY2xhc3NfXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUudXBkYXRlQ2xhc3MgPSBmdW5jdGlvbihjbGFzc18pIHtcclxuICAgICAgICAgICAgQ2xhc3NTVkMudXBkYXRlQ2xhc3MoY2xhc3NfKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9hZG1pbi1jbGFzc2VzJylcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUuZGVsZXRlQ2xhc3MgPSBmdW5jdGlvbihjbGFzc18pIHtcclxuICAgICAgICAgICAgQ2xhc3NTVkMuZGVsZXRlQ2xhc3MoY2xhc3NfKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9hZG1pbi1jbGFzc2VzJylcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBDbGFzc1NWQy5nZXRBbGxDaGlsZHJlbigpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jaGlsZHJlbiA9IHJlcy5kYXRhXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy8gQ2xhc3NTVkMuZ2V0QWxsU3R1ZGVudHMoKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgIC8vICAgICAkc2NvcGUuc3R1ZGVudHMgPSByZXMuZGF0YVxyXG4gICAgICAgIC8vIH0pXHJcblxyXG4gICAgICAgIC8vICRzY29wZS5zZXRDbGFzc1RvTW9kaWZ5Um9zdGVyID0gZnVuY3Rpb24oY2xhc3NSb3N0ZXIpIHtcclxuICAgICAgICAvLyAgICAgJHNjb3BlLmN1cnJlbnRBZG1pbi5jbGFzc1RvTW9kaWZ5Um9zdGVyID0gY2xhc3NSb3N0ZXJcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy9cclxuICAgICAgICAkc2NvcGUuYWRkVG9DbGFzcyA9IGZ1bmN0aW9uKGNsYXNzXywgY2hpbGQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjbGFzcyBcIiArIGNsYXNzXylcclxuICAgICAgICAgICAgLy8gJHNjb3BlLmVucm9sbG1lbnQucHVzaChjaGlsZClcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJlbnJvbGxtZW50IFwiICsgJHNjb3BlLmVucm9sbG1lbnQpXHJcbiAgICAgICAgICAgIC8vIGNsYXNzXy5jaGlsZHJlbiA9ICRzY29wZS5lbnJvbGxtZW50XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3R1ZGVudHMgYmVmb3JlIHB1dCByZXF1ZXN0IFwiICsgY2xhc3NfLmNoaWxkcmVuKVxyXG4gICAgICAgICAgICB2YXIgZHVwZUNoaWxkID0gY2xhc3NfLmNoaWxkcmVuLmluY2x1ZGVzKGNoaWxkKTtcclxuICAgICAgICAgICAgaWYgKCFkdXBlQ2hpbGQpe1xyXG4gICAgICAgICAgICAgICAgY2xhc3NfLmNoaWxkcmVuLnB1c2goY2hpbGQpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNoaWxkIGFscmVhZHkgYWRkZWRcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBDbGFzc1NWQy5hZGRUb0NsYXNzKGNsYXNzXylcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdHVkZW50cyBhZnRlciBwdXQgcmVxdWVzdCBcIiArIGNsYXNzXy5jaGlsZHJlbilcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5yZW1vdmVGcm9tQ2xhc3MgPSBmdW5jdGlvbihjbGFzc18sIGluZGV4KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGluZGV4KVxyXG4gICAgICAgICAgICBjbGFzc18uY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5yZW1vdmVBbGwgPSBmdW5jdGlvbihjbGFzc18pIHtcclxuICAgICAgICAgICAgQ2xhc3NTVkMucmVtb3ZlQWxsKGNsYXNzXyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0FkbWluTG9naW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBBZG1pblN2YywgJGxvY2F0aW9uKSB7XHJcblxyXG5cdCRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuXHRcdCRzY29wZS5sb2dpbkVycm9yID0gZmFsc2VcclxuXHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnJ1xyXG5cclxuXHRcdEFkbWluU3ZjLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZClcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuXHRcdFx0aWYocmVzLnN0YXR1cyA9PSA0MDEpIHtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3JNZXNzYWdlID0gcmVzLmRhdGFcclxuXHRcdFx0XHQkc2NvcGUubG9naW5FcnJvciA9IHRydWVcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkc2NvcGUuJGVtaXQoJ2xvZ2luJywgcmVzLmRhdGEpXHJcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9hZG1pbi1hY2NvdW50JylcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChlbWFpbCwgdXNlcm5hbWUsIHBhc3N3b3JkLCBjaGVja3Bhc3MsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHBob25lKSB7XHJcblx0XHRpZiAocGFzc3dvcmQgIT0gY2hlY2twYXNzKSB7XHJcblx0XHRcdCRzY29wZS5yZWdpc3RlckVycm9yID0gdHJ1ZVxyXG5cdFx0XHQkc2NvcGUuZXJyb3JNZXNzYWdlID0gJ0Vycm9yOiBQYXNzd29yZHMgbXVzdCBtYXRjaCdcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHR9XHJcblxyXG5cdFx0JHNjb3BlLnJlZ2lzdGVyRXJyb3IgPSBmYWxzZVxyXG5cclxuXHRcdEFkbWluU3ZjLnJlZ2lzdGVyKGVtYWlsLCB1c2VybmFtZSwgcGFzc3dvcmQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHBob25lKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRzY29wZS4kZW1pdCgnbG9naW4nLCByZXNwb25zZS5kYXRhKVxyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2FkbWluLWFjY291bnQnKVxyXG5cdFx0fSlcclxuXHR9XHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5zZXJ2aWNlKCdBZG1pblN2YycsIGZ1bmN0aW9uICgkaHR0cCkge1xyXG5cdHZhciBzdmMgPSB0aGlzXHJcblxyXG5cdHN2Yy5nZXRBZG1pbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYWRtaW4nKVxyXG5cdH1cclxuXHJcblx0c3ZjLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGVtYWlsLCB1c2VybmFtZSwgcGFzc3dvcmQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHBob25lKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9hZG1pbicsIHtcclxuXHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lLFxyXG5cdFx0XHRwYXNzd29yZDogcGFzc3dvcmQsXHJcblx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0Zmlyc3ROYW1lOiBmaXJzdE5hbWUsXHJcblx0XHRcdGxhc3ROYW1lOiBsYXN0TmFtZSxcclxuXHRcdFx0cGhvbmU6IHBob25lXHJcblx0XHR9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIHN2Yy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLmNoZWNrVG9rZW4gPSBmdW5jdGlvbih0b2tlbikge1xyXG5cdFx0JGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddID0gd2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuXHJcblx0XHRyZXR1cm4gc3ZjLmdldEFkbWluKClcclxuXHR9XHJcblxyXG5cdHN2Yy5sb2dpbiA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2FkbWluLXNlc3Npb25zJywge1xyXG5cdFx0XHR1c2VybmFtZTogdXNlcm5hbWUsIHBhc3N3b3JkOiBwYXNzd29yZFxyXG5cdFx0fSlcclxuXHRcdC50aGVuKGZ1bmN0aW9uICh2YWwpIHtcclxuXHRcdFx0d2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuID0gdmFsLmRhdGFcclxuXHRcdFx0JGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddID0gdmFsLmRhdGFcclxuXHRcdFx0cmV0dXJuIHN2Yy5nZXRBZG1pbigpXHJcblx0XHR9LCBmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0cmV0dXJuIGVyclxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy5sb2dvdXQgPSBmdW5jdGlvbigpIHtcclxuXHRcdGRlbGV0ZSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ11cclxuXHRcdHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlID0gZnVuY3Rpb24gKGlkLCB1c2VybmFtZSwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwsIHBob25lKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2FkbWluL3VwZGF0ZScsIHtcclxuXHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHR1c2VybmFtZTogdXNlcm5hbWUsXHJcblx0XHRcdGZpcnN0TmFtZTogZmlyc3ROYW1lLFxyXG5cdFx0XHRsYXN0TmFtZTogbGFzdE5hbWUsXHJcblx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0cGhvbmU6IHBob25lXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLnVwZGF0ZVBhc3N3b3JkID0gZnVuY3Rpb24gKGlkLCBuZXdQYXNzd29yZCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9hZG1pbi91cGRhdGVQYXNzd29yZCcsIHtcclxuXHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHRwYXNzd29yZDogbmV3UGFzc3dvcmRcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlQmlvID0gZnVuY3Rpb24gKGlkLCBiaW8pIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYWRtaW4vdXBkYXRlQmlvJywge1xyXG5cdFx0XHRpZDogaWQsXHJcblx0XHRcdGJpbzogYmlvXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLmdldEFsbFVzZXJzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9hZG1pbi9nZXRBbGxVc2VycycpXHJcblx0fVxyXG5cclxuXHQvLyBzdmMuZ2V0QWxsQ2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XHJcblx0Ly8gXHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2FkbWluL2dldEFsbENoaWxkcmVuJylcclxuXHQvLyB9XHJcblxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignQWRtaW5DdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgQWRtaW5TdmMsICRsb2NhdGlvbikge1xyXG5cdCRzY29wZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYod2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuKSB7XHJcblx0XHRcdEFkbWluU3ZjLmNoZWNrVG9rZW4oKVxyXG5cdFx0XHQudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHQkc2NvcGUuY3VycmVudEFkbWluID0gcmVzLmRhdGFcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdCRzY29wZS4kb24oJ2xvZ2luJywgZnVuY3Rpb24oXywgYWRtaW4pIHtcclxuXHRcdCRzY29wZS5jdXJyZW50QWRtaW4gPSBhZG1pblxyXG5cdH0pXHJcblxyXG5cdCRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpIHtcclxuXHRcdEFkbWluU3ZjLmxvZ291dCgpXHJcblx0XHRkZWxldGUgJHNjb3BlLmN1cnJlbnRBZG1pblxyXG5cdFx0JGxvY2F0aW9uLnBhdGgoJy9hZG1pbicpXHJcblx0fVxyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0FkbWluQ29udGVudEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIEFkbWluQ29udGVudFN2YywgJGxvY2F0aW9uKSB7XHJcblxyXG5cclxuXHRBZG1pbkNvbnRlbnRTdmMuZ2V0QWxsSG9tZXBhZ2VFbGVtZW50cygpLnRoZW4oZnVuY3Rpb24oZWxlbXMpIHtcclxuXHRcdCRzY29wZS5ob21lcGFnZV9jb250ZW50ID0gZWxlbXMuZGF0YVxyXG5cdH0pXHJcblxyXG5cdEFkbWluQ29udGVudFN2Yy5nZXRBbGxDbGFzc2VzRWxlbWVudHMoKS50aGVuKGZ1bmN0aW9uKGVsZW1zKSB7XHJcblx0XHQkc2NvcGUuY2xhc3Nlc19jb250ZW50ID0gZWxlbXMuZGF0YVxyXG5cdH0pXHJcblxyXG5cdEFkbWluQ29udGVudFN2Yy5nZXRBbGxDbGFzc2VzKCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdCRzY29wZS5jbGFzc2VzID0gcmVzLmRhdGFcclxuXHR9KVxyXG5cclxuXHRBZG1pbkNvbnRlbnRTdmMuZ2V0QWxsQWJvdXRFbGVtZW50cygpLnRoZW4oZnVuY3Rpb24oZWxlbXMpIHtcclxuXHRcdCRzY29wZS5hYm91dF9jb250ZW50ID0gZWxlbXMuZGF0YVxyXG5cdH0pXHJcblxyXG5cdEFkbWluQ29udGVudFN2Yy5nZXRBbGxGYXFFbGVtZW50cygpLnRoZW4oZnVuY3Rpb24oZWxlbXMpIHtcclxuXHRcdCRzY29wZS5mYXFfY29udGVudCA9IGVsZW1zLmRhdGFcclxuXHR9KVxyXG5cclxuXHRBZG1pbkNvbnRlbnRTdmMuZ2V0QWxsRmFxcygpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHQkc2NvcGUuZmFxID0gcmVzLmRhdGFcclxuXHR9KVxyXG5cclxuXHQkc2NvcGUuc2V0RmFxVG9VcGRhdGUgPSBmdW5jdGlvbihmYXEpIHtcclxuXHRcdCRzY29wZS5jdXJyZW50QWRtaW4uZmFxVG9VcGRhdGUgPSBmYXFcclxuXHR9XHJcblxyXG5cdCRzY29wZS51cGRhdGVGYXEgPSBmdW5jdGlvbihmYXEpIHtcclxuXHJcblx0XHRBZG1pbkNvbnRlbnRTdmMudXBkYXRlRmFxKGZhcSlcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NtLWZhcScpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLmFkZEZhcSA9IGZ1bmN0aW9uIChxdWVzdGlvbiwgYW5zd2VyKSB7XHJcblx0XHQkc2NvcGUuaW5wdXRFcnJvciA9IGZhbHNlXHJcblx0XHQkc2NvcGUuZXJyb3JNZXNzYWdlID0gJydcclxuXHJcblx0XHRpZighcXVlc3Rpb24gfHwgIWFuc3dlcikge1xyXG5cdFx0XHQkc2NvcGUuaW5wdXRFcnJvciA9IHRydWVcclxuXHRcdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICdBbGwgdGV4dCBmaWVsZHMgbXVzdCBjb250YWluIGNvbnRlbnQnXHJcblx0XHRcdHJldHVyblxyXG5cdFx0fVxyXG5cclxuXHRcdEFkbWluQ29udGVudFN2Yy5hZGRGYXEocXVlc3Rpb24sIGFuc3dlcilcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NtLWZhcScpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0JHNjb3BlLmRlbGV0ZUZhcSA9IGZ1bmN0aW9uKGZhcSkge1xyXG5cdFx0QWRtaW5Db250ZW50U3ZjLmRlbGV0ZUZhcShmYXEpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9jbS1mYXEnKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5hZGRFbGVtZW50ID0gZnVuY3Rpb24gKG5hbWUsIGxvY2F0aW9uLCBkZXNjLCB2YWx1ZSkge1xyXG5cdFx0JHNjb3BlLmlucHV0RXJyb3IgPSBmYWxzZVxyXG5cdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICcnXHJcblxyXG5cdFx0QWRtaW5Db250ZW50U3ZjLmFkZEVsZW1lbnQobmFtZSwgbG9jYXRpb24sIGRlc2MsIHZhbHVlKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY20nKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5zZXRFbGVtZW50VG9VcGRhdGUgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcblx0XHQkc2NvcGUuY3VycmVudEFkbWluLmVsZW1lbnRUb1VwZGF0ZSA9IGVsZW1lbnRcclxuXHR9XHJcblxyXG5cdCRzY29wZS51cGRhdGVFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG5cdFx0QWRtaW5Db250ZW50U3ZjLnVwZGF0ZUVsZW1lbnQoZWxlbWVudClcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL2NtJylcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQkc2NvcGUuYWRkQ2xhc3MgPSBmdW5jdGlvbiAodGl0bGUsIHN1YnRpdGxlLCBjb2xvciwgaWNvbiwgZGVzYykge1xyXG5cdFx0Y29uc29sZS5sb2coJ2FkZENsYXNzIENhbGxlZCEnKVxyXG5cdFx0JHNjb3BlLmlucHV0RXJyb3IgPSBmYWxzZVxyXG5cdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICcnXHJcblxyXG5cdFx0aWYoIXRpdGxlIHx8ICFkZXNjKSB7XHJcblx0XHRcdCRzY29wZS5pbnB1dEVycm9yID0gdHJ1ZVxyXG5cdFx0XHQkc2NvcGUuZXJyb3JNZXNzYWdlID0gJ0FsbCB0ZXh0IGZpZWxkcyBtdXN0IGNvbnRhaW4gY29udGVudCdcclxuXHRcdFx0cmV0dXJuXHJcblx0XHR9XHJcblxyXG5cdFx0QWRtaW5Db250ZW50U3ZjLmFkZENsYXNzKHRpdGxlLCBzdWJ0aXRsZSwgY29sb3IsIGljb24sIGRlc2MpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9jbS1jbGFzc2VzJylcclxuXHRcdH0pXHJcblx0fVxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uc2VydmljZSgnQWRtaW5Db250ZW50U3ZjJywgZnVuY3Rpb24gKCRodHRwKSB7XHJcblx0dmFyIHN2YyA9IHRoaXNcclxuXHJcblx0c3ZjLmdldEFsbEVsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbEVsZW1lbnRzJylcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxIb21lcGFnZUVsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jb250ZW50L2dldEFsbEhvbWVwYWdlRWxlbWVudHMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmdldEFsbENsYXNzZXNFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29udGVudC9nZXRBbGxDbGFzc2VzRWxlbWVudHMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmdldEFsbENsYXNzZXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsQ2xhc3NlcycpXHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0QWxsQWJvdXRFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29udGVudC9nZXRBbGxBYm91dEVsZW1lbnRzJylcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRBbGxGYXFFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29udGVudC9nZXRBbGxGYXFFbGVtZW50cycpXHJcblx0fVxyXG5cclxuXHRzdmMuYWRkRWxlbWVudCA9IGZ1bmN0aW9uIChuYW1lLCBsb2NhdGlvbiwgZGVzYywgdmFsdWUpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2NvbnRlbnQvYWRkRWxlbWVudCcsIHtcclxuXHRcdFx0bmFtZTogbmFtZSxcclxuXHRcdFx0bG9jYXRpb246IGxvY2F0aW9uLFxyXG5cdFx0XHRkZXNjcmlwdGlvbjogZGVzYyxcclxuXHRcdFx0dmFsdWU6IHZhbHVlXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLnVwZGF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9jb250ZW50L3VwZGF0ZUVsZW1lbnQnLCBlbGVtZW50KVxyXG5cdH1cclxuXHJcblx0c3ZjLmdldEFsbEZhcXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsRmFxcycpXHJcblx0fVxyXG5cclxuXHRzdmMuYWRkRmFxID0gZnVuY3Rpb24gKHF1ZXN0aW9uLCBhbnN3ZXIpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2NvbnRlbnQvYWRkRmFxJywge1xyXG5cdFx0XHRxdWVzdGlvbjogcXVlc3Rpb24sXHJcblx0XHRcdGFuc3dlcjogYW5zd2VyXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLnVwZGF0ZUZhcSA9IGZ1bmN0aW9uIChmYXEpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY29udGVudC91cGRhdGVGYXEnLCBmYXEpXHJcblx0fVxyXG5cclxuXHRzdmMuZGVsZXRlRmFxID0gZnVuY3Rpb24gKGZhcSkge1xyXG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9jb250ZW50L2RlbGV0ZUZhcScsIGZhcSlcclxuXHR9XHJcblxyXG5cdHN2Yy5hZGRDbGFzcyA9IGZ1bmN0aW9uICh0aXRsZSwgc3VidGl0bGUsIGNvbG9yLCBpY29uLCBkZXNjKSB7XHJcblx0XHRjb25zb2xlLmxvZygnU2VydmljZSBhZGQgY2xhc3MgY2FsbGVkIScpXHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jb250ZW50L2FkZENsYXNzJywge1xyXG5cdFx0XHR0aXRsZTogdGl0bGUsXHJcblx0XHRcdHN1YnRpdGxlOiBzdWJ0aXRsZSxcclxuXHRcdFx0aWNvbjogaWNvbixcclxuXHRcdFx0Y29sb3I6IGNvbG9yLFxyXG5cdFx0XHRkZXNjcmlwdGlvbjogZGVzY1xyXG5cdFx0fSlcclxuXHR9XHJcblxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignQXBwbGljYXRpb25DdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uLCAkaHR0cCkge1xyXG5cdCRzY29wZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYod2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuKSB7XHJcblx0XHRcdFVzZXJTdmMuY2hlY2tUb2tlbigpXHJcblx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdCRzY29wZS5jdXJyZW50VXNlciA9IHJlcy5kYXRhXHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQkc2NvcGUuJG9uKCdsb2dpbicsIGZ1bmN0aW9uKF8sIHVzZXIpIHtcclxuXHRcdCRzY29wZS5jdXJyZW50VXNlciA9IHVzZXJcclxuXHR9KVxyXG5cclxuXHQkc2NvcGUubG9nb3V0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRVc2VyU3ZjLmxvZ291dCgpXHJcblx0XHRkZWxldGUgJHNjb3BlLmN1cnJlbnRVc2VyXHJcblx0XHQkbG9jYXRpb24ucGF0aCgnL2xvZ2luJylcclxuXHR9XHJcblxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignQ2hpbGRDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjLCAkbG9jYXRpb24pIHtcclxuXHJcblx0JHNjb3BlLmFkZENoaWxkID0gZnVuY3Rpb24gKGFkdWx0SWQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIGRvYiwgbm90ZXMpIHtcclxuXHRcdFVzZXJTdmMuYWRkQ2hpbGQoYWR1bHRJZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZG9iLCBub3RlcylcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL3VzZXItYWNjb3VudCcpXHJcblx0XHR9KVxyXG5cdH1cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5zZXJ2aWNlKCdDbGFzc1NWQycsIGZ1bmN0aW9uICgkaHR0cCkge1xyXG4gICAgICAgIHZhciBzdmMgPSB0aGlzXHJcblxyXG4gICAgICAgIC8vIHN2Yy5nZXRBZG1pbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9jbGFzc2VzJylcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIHN2Yy5hZGRDbGFzcyA9IGZ1bmN0aW9uICh0aXRsZSwgZGVzY3JpcHRpb24sIHRpbWUsIGRheXMsIGFsYnVtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2NsYXNzZXMvYWRkQ2xhc3MnLCB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICB0aW1lOiB0aW1lLFxyXG4gICAgICAgICAgICAgICAgZGF5czogZGF5cyxcclxuICAgICAgICAgICAgICAgIGFsYnVtOiBhbGJ1bVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3ZjLnVwZGF0ZUNsYXNzID0gZnVuY3Rpb24gKGNsYXNzXykge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2NsYXNzZXMvdXBkYXRlQ2xhc3MnLCBjbGFzc18pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdmMuZGVsZXRlQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NfKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY2xhc3Nlcy9kZWxldGVDbGFzcycsIGNsYXNzXylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN2Yy5nZXRBbGxDbGFzc2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NsYXNzZXMvZ2V0QWxsQ2xhc3NlcycpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdmMuZ2V0QWxsQ2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2xhc3Nlcy9nZXRBbGxDaGlsZHJlbicpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzdmMuZ2V0QWxsU3R1ZGVudHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2xhc3Nlcy9nZXRBbGxTdHVkZW50cycpXHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBzdmMuYWRkVG9DbGFzcyA9IGZ1bmN0aW9uIChjbGFzc18pIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9jbGFzc2VzL2FkZFRvQ2xhc3MnLCBjbGFzc18pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzdmMucmVtb3ZlRnJvbUNsYXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NsYXNzZXMvcmVtb3ZlRnJvbUNsYXNzJylcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIHN2Yy5yZW1vdmVBbGwgPSBmdW5jdGlvbiAoY2xhc3NfKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY2xhc3Nlcy9yZW1vdmVBbGwnLCBjbGFzc18pXHJcbiAgICAgICAgfVxyXG4gICAgfSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0NsaWVudHNDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgQWRtaW5TdmMpIHtcclxuICAgIEFkbWluU3ZjLmdldEFsbFVzZXJzKCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAkc2NvcGUuY2xpZW50cyA9IHJlcy5kYXRhXHJcbiAgICB9KVxyXG5cclxuICAgIC8vIEFkbWluU3ZjLmdldEFsbENoaWxkcmVuKCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuICAgIC8vICAgICAkc2NvcGUuY2hpbGRyZW4gPSByZXMuZGF0YVxyXG4gICAgLy8gfSlcclxuXHJcbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdDb250ZW50Q3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgQ29udGVudFN2Yykge1xyXG5cclxuXHRDb250ZW50U3ZjLmdldEFsbEVsZW1lbnRzKCkudGhlbihmdW5jdGlvbihlbGVtcykge1xyXG5cdFx0YW5ndWxhci5mb3JFYWNoKGVsZW1zLmRhdGEsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xyXG5cdFx0XHQkc2NvcGVbdmFsdWUubmFtZV0gPSB2YWx1ZS52YWx1ZVxyXG5cdFx0fSlcclxuXHR9KVxyXG5cclxuXHRDb250ZW50U3ZjLmdldEFsbENsYXNzZXMoKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0JHNjb3BlLmNsYXNzZXMgPSByZXMuZGF0YVxyXG5cdH0pXHJcblxyXG5cdENvbnRlbnRTdmMuZ2V0QWxsRmFxcygpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHQkc2NvcGUuZmFxID0gcmVzLmRhdGFcclxuXHR9KVxyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLnNlcnZpY2UoJ0NvbnRlbnRTdmMnLCBmdW5jdGlvbiAoJGh0dHApIHtcclxuXHR2YXIgc3ZjID0gdGhpc1xyXG5cclxuXHRzdmMuZ2V0QWxsRWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsRWxlbWVudHMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLmdldEFsbENsYXNzZXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbnRlbnQvZ2V0QWxsQ2xhc3NlcycpXHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0QWxsRmFxcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29udGVudC9nZXRBbGxGYXFzJylcclxuXHR9XHJcblxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignTG9naW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjLCAkbG9jYXRpb24pIHtcclxuXHJcblx0JHNjb3BlLmxvZ2luID0gZnVuY3Rpb24gKGVtYWlsLCBwYXNzd29yZCkge1xyXG5cdFx0JHNjb3BlLmxvZ2luRXJyb3IgPSBmYWxzZVxyXG5cdFx0JHNjb3BlLmVycm9yTWVzc2FnZSA9ICcnXHJcblxyXG5cdFx0dmFyIG1vZGlmaWVkRW1haWwgPSBlbWFpbC50b0xvd2VyQ2FzZSgpXHJcblxyXG5cdFx0VXNlclN2Yy5sb2dpbihtb2RpZmllZEVtYWlsLCBwYXNzd29yZClcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuXHRcdFx0aWYocmVzLnN0YXR1cyA9PSA0MDEpIHtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3JNZXNzYWdlID0gcmVzLmRhdGFcclxuXHRcdFx0XHQkc2NvcGUubG9naW5FcnJvciA9IHRydWVcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkc2NvcGUuJGVtaXQoJ2xvZ2luJywgcmVzLmRhdGEpXHJcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy91c2VyLWFjY291bnQnKVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdH1cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uKSB7XHJcblxyXG5cdCRzY29wZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChlbWFpbCwgcGFzc3dvcmQsIGNoZWNrcGFzcywgZmlyc3ROYW1lLCBsYXN0TmFtZSwgc3RyZWV0QWRkcmVzcywgY2l0eSwgc3RhdGUsIHppcCwgcGhvbmUpIHtcclxuXHRcdGlmIChwYXNzd29yZCAhPSBjaGVja3Bhc3MpIHtcclxuXHRcdFx0JHNjb3BlLnJlZ2lzdGVyRXJyb3IgPSB0cnVlXHJcblx0XHRcdCRzY29wZS5lcnJvck1lc3NhZ2UgPSAnRXJyb3I6IFBhc3N3b3JkcyBtdXN0IG1hdGNoJ1xyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdH1cclxuXHJcblx0XHQkc2NvcGUucmVnaXN0ZXJFcnJvciA9IGZhbHNlXHJcblxyXG5cdFx0dmFyIG1vZGlmaWVkRW1haWwgPSBlbWFpbC50b0xvd2VyQ2FzZSgpXHJcblxyXG5cdFx0VXNlclN2Yy5yZWdpc3Rlcihtb2RpZmllZEVtYWlsLCBwYXNzd29yZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgc3RyZWV0QWRkcmVzcywgY2l0eSwgc3RhdGUsIHppcCwgcGhvbmUpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JHNjb3BlLiRlbWl0KCdsb2dpbicsIHJlc3BvbnNlLmRhdGEpXHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvdXNlci1hY2NvdW50JylcclxuXHRcdH0pXHJcblx0fVxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignUmVzZXRDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjLCAkbG9jYXRpb24pIHtcclxuICAgICRzY29wZS5yZXNldFBhc3N3b3JkID0gZnVuY3Rpb24gKGVtYWlsKSB7XHJcbiAgICAgICAgJHNjb3BlLmludmFsaWRFbWFpbCA9IGZhbHNlXHJcbiAgICAgICAgJHNjb3BlLnBhc3N3b3JkUmVzZXQgPSBmYWxzZVxyXG4gICAgICAgICRzY29wZS5JbnZhbGlkRW1haWxNZXNzYWdlID0gJydcclxuICAgICAgICB2YXIgbW9kaWZpZWRFbWFpbCA9IGVtYWlsLnRvTG93ZXJDYXNlKClcclxuICAgICAgICB2YXIgbmV3UGFzc3dvcmQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgtMTApO1xyXG5cclxuICAgICAgICBVc2VyU3ZjLnJlc2V0UGFzc3dvcmQobW9kaWZpZWRFbWFpbCwgbmV3UGFzc3dvcmQpXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmKHJlcy5zdGF0dXMgPT0gNDAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJhcHBseWluZyBpbnZhbGlkIGVtYWlsXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmludmFsaWRFbWFpbCA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkRW1haWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wYXNzd29yZFJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBVc2VyU3ZjLmVtYWlsKGVtYWlsLCBuZXdQYXNzd29yZClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuXHQuY29uZmlnKGZ1bmN0aW9uICgkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuXHRcdFx0JHJvdXRlUHJvdmlkZXJcclxuXHRcdFx0LndoZW4oJy8nLCB7IGNvbnRyb2xsZXI6ICdDb250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnaW5kZXguaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy9jbGFzc2VzJywgeyBjb250cm9sbGVyOiAnQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NsYXNzZXMuaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy9hYm91dCcsIHsgY29udHJvbGxlcjogJ0NvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdhYm91dC5odG1sJyB9KVxyXG5cdFx0XHQud2hlbignL2ZhcScsIHsgY29udHJvbGxlcjogJ0NvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdmYXEuaHRtbCcgfSlcclxuXHJcblx0XHRcdC53aGVuKCcvbG9naW4nLCB7IGNvbnRyb2xsZXI6ICdMb2dpbkN0cmwnLCB0ZW1wbGF0ZVVybDogJ2xvZ2luLmh0bWwnIH0pXHJcblx0XHRcdC53aGVuKCcvcmVnaXN0ZXInLCB7IGNvbnRyb2xsZXI6ICdSZWdpc3RlckN0cmwnLCB0ZW1wbGF0ZVVybDogJ3JlZ2lzdHJhdGlvbi5odG1sJyB9KVxyXG5cdFx0XHQud2hlbignL3Jlc2V0LXBhc3N3b3JkJywgeyBjb250cm9sbGVyOiAnUmVzZXRDdHJsJywgdGVtcGxhdGVVcmw6ICdyZXNldC1wYXNzd29yZC5odG1sJ30pXHJcblx0XHRcdFxyXG5cdFx0XHQud2hlbignL3VzZXItYWNjb3VudCcsIHsgY29udHJvbGxlcjogJ1VzZXJDdHJsJywgdGVtcGxhdGVVcmw6ICd1c2VyL3VzZXItYWNjb3VudC5odG1sJyB9KVxyXG5cdFx0XHQud2hlbignL3VwZGF0ZS11c2VyLWFjY291bnQnLCB7IGNvbnRyb2xsZXI6ICdVcGRhdGVDdHJsJywgdGVtcGxhdGVVcmw6ICd1c2VyL3VwZGF0ZS11c2VyLWFjY291bnQuaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy91cGRhdGUtdXNlci1wYXNzd29yZCcsIHsgY29udHJvbGxlcjogJ1VwZGF0ZUN0cmwnLCB0ZW1wbGF0ZVVybDogJ3VzZXIvdXBkYXRlLXVzZXItcGFzc3dvcmQuaHRtbCcgfSlcclxuXHJcblx0XHRcdC53aGVuKCcvYWRkLWNoaWxkJywgeyBjb250cm9sbGVyOiAnQ2hpbGRDdHJsJywgdGVtcGxhdGVVcmw6ICd1c2VyL2FkZC1jaGlsZC5odG1sJyB9KVxyXG5cdFx0XHQud2hlbignL3VwZGF0ZS1jaGlsZCcsIHsgY29udHJvbGxlcjogJ1VzZXJDdHJsJywgdGVtcGxhdGVVcmw6ICd1c2VyL3VwZGF0ZS1jaGlsZC5odG1sJyB9KVxyXG5cclxuXHRcdFx0LndoZW4oJy91c2VyLWNsYXNzZXMnLCB7IHRlbXBsYXRlVXJsOiAndXNlci91c2VyLWNsYXNzZXMuaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy91c2VyLXBob3RvcycsIHsgdGVtcGxhdGVVcmw6ICd1c2VyL3VzZXItcGhvdG9zLmh0bWwnIH0pXHJcblx0XHRcdC53aGVuKCcvdXNlci1wYXltZW50cycsIHsgdGVtcGxhdGVVcmw6ICd1c2VyL3VzZXItcGF5bWVudHMuaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy91c2VyLWZvcm1zJywgeyB0ZW1wbGF0ZVVybDogJ3VzZXIvdXNlci1mb3Jtcy5odG1sJyB9KVxyXG5cdFx0XHRcclxuXHRcdFx0LndoZW4oJy9hZG1pbicsIHsgY29udHJvbGxlcjogJ0FkbWluTG9naW5DdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi9hZG1pbi1sb2dpbi5odG1sJyB9KVxyXG5cdFx0XHQud2hlbignL2FkbWluLXJlZ2lzdGVyJywgeyBjb250cm9sbGVyOiAnQWRtaW5Mb2dpbkN0cmwnLCB0ZW1wbGF0ZVVybDogJ2FkbWluL3JlZ2lzdHJhdGlvbi5odG1sJyB9KVxyXG5cclxuXHRcdFx0LndoZW4oJy9hZG1pbi1hY2NvdW50JywgeyB0ZW1wbGF0ZVVybDogJ2FkbWluL2FkbWluLWFjY291bnQuaHRtbCcgfSlcclxuXHRcdFx0LndoZW4oJy91cGRhdGUtYWRtaW4tYWNjb3VudCcsIHsgY29udHJvbGxlcjogJ1VwZGF0ZUFkbWluQ3RybCcsIHRlbXBsYXRlVXJsOiAnYWRtaW4vdXBkYXRlLWFkbWluLWFjY291bnQuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL3VwZGF0ZS1hZG1pbi1wYXNzd29yZCcsIHsgY29udHJvbGxlcjogJ1VwZGF0ZUFkbWluQ3RybCcsIHRlbXBsYXRlVXJsOiAnYWRtaW4vdXBkYXRlLWFkbWluLXBhc3N3b3JkLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy91cGRhdGUtYWRtaW4tYmlvJywgeyBjb250cm9sbGVyOiAnVXBkYXRlQWRtaW5DdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi91cGRhdGUtYWRtaW4tYmlvLmh0bWwnfSlcclxuXHJcblx0XHRcdC53aGVuKCcvYWRtaW4tY2xhc3NlcycsIHsgY29udHJvbGxlcjogJ0NsYXNzQ3RybCcsIHRlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tY2xhc3Nlcy5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvYWRtaW4tYWRkLWNsYXNzJywgeyBjb250cm9sbGVyOiAnQ2xhc3NDdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi9hZG1pbi1hZGQtY2xhc3MuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL2FkbWluLXVwZGF0ZS1jbGFzcycsIHsgY29udHJvbGxlcjogJ0NsYXNzQ3RybCcsIHRlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tdXBkYXRlLWNsYXNzLmh0bWwnIH0pXHJcblxyXG5cdFx0XHQud2hlbignL2FkbWluLWNsaWVudHMnLCB7Y29udHJvbGxlcjogJ0NsaWVudHNDdHJsJywgdGVtcGxhdGVVcmw6ICdhZG1pbi9hZG1pbi1jbGllbnRzLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9hZG1pbi1waG90b3MnLCB7dGVtcGxhdGVVcmw6ICdhZG1pbi9hZG1pbi1waG90b3MuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL2FkbWluLXBheW1lbnRzJywge3RlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tcGF5bWVudHMuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL2FkbWluLWZvcm1zJywge3RlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4tZm9ybXMuaHRtbCd9KVxyXG5cclxuXHRcdFx0LndoZW4oJy9jbScsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9jbS1lbGVtZW50LWFkZCcsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWVsZW1lbnQtYWRkLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9jbS1lbGVtZW50LWVkaXQnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1lbGVtZW50LWVkaXQuaHRtbCd9KVxyXG5cclxuXHRcdFx0LndoZW4oJy9jbS1ob21lcGFnZScsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWhvbWVwYWdlLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9jbS1jbGFzc2VzJywgeyBjb250cm9sbGVyOiAnQWRtaW5Db250ZW50Q3RybCcsIHRlbXBsYXRlVXJsOiAnY20vY20tY2xhc3Nlcy5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvY20tYWJvdXQnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1hYm91dC5odG1sJ30pXHJcblxyXG5cdFx0XHQud2hlbignL2NtLWNsYXNzLWFkZCcsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWNsYXNzLWFkZC5odG1sJ30pXHJcblx0XHRcdC53aGVuKCcvY20tY2xhc3MtZWRpdCcsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWNsYXNzLWVkaXQuaHRtbCd9KVxyXG5cclxuXHRcdFx0LndoZW4oJy9jbS1mYXEnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1mYXEuaHRtbCd9KVxyXG5cdFx0XHQud2hlbignL2NtLWZhcS1hZGQnLCB7IGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRlbnRDdHJsJywgdGVtcGxhdGVVcmw6ICdjbS9jbS1mYXEtYWRkLmh0bWwnfSlcclxuXHRcdFx0LndoZW4oJy9jbS1mYXEtZWRpdCcsIHsgY29udHJvbGxlcjogJ0FkbWluQ29udGVudEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2NtL2NtLWZhcS1lZGl0Lmh0bWwnfSlcclxuXHJcblx0JGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xyXG59KVxyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ1VwZGF0ZUFkbWluQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgQWRtaW5TdmMsICRsb2NhdGlvbikge1xyXG4gICAgJHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uIChpZCwgdXNlcm5hbWUsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwaG9uZSkge1xyXG4gICAgICAgIEFkbWluU3ZjLnVwZGF0ZShpZCwgdXNlcm5hbWUsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwaG9uZSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYWRtaW4tYWNjb3VudCcpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgJHNjb3BlLnVwZGF0ZVBhc3N3b3JkID0gZnVuY3Rpb24gKGlkLCBuZXdQYXNzd29yZCwgY2hlY2tQYXNzd29yZCkge1xyXG4gICAgICAgIGlmIChuZXdQYXNzd29yZCAhPSBjaGVja1Bhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5wYXNzd29yZHNNYXRjaCA9IHRydWVcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUucGFzc3dvcmRzTWF0Y2ggPSBmYWxzZVxyXG5cclxuICAgICAgICBBZG1pblN2Yy51cGRhdGVQYXNzd29yZChpZCwgbmV3UGFzc3dvcmQpXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYWRtaW4tYWNjb3VudCcpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgJHNjb3BlLnVwZGF0ZUJpbyA9IGZ1bmN0aW9uIChpZCwgYmlvKSB7XHJcbiAgICAgICAgQWRtaW5TdmMudXBkYXRlQmlvKGlkLCBiaW8pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYWRtaW4tYWNjb3VudCcpXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignVXBkYXRlQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uKSB7XHJcblx0JHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uIChpZCwgZW1haWwsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHN0cmVldEFkZHJlc3MsIGNpdHksIHN0YXRlLCB6aXAsIHBob25lKSB7XHJcblx0XHRcclxuXHRcdHZhciBtb2RpZmllZEVtYWlsID0gZW1haWwudG9Mb3dlckNhc2UoKVxyXG5cclxuXHRcdFVzZXJTdmMudXBkYXRlKGlkLCBtb2RpZmllZEVtYWlsLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBzdHJlZXRBZGRyZXNzLCBjaXR5LCBzdGF0ZSwgemlwLCBwaG9uZSlcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHQkc2NvcGUuY3VycmVudFVzZXIuZW1haWwgPSBtb2RpZmllZEVtYWlsXHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvdXNlci1hY2NvdW50JylcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQkc2NvcGUudXBkYXRlUGFzc3dvcmQgPSBmdW5jdGlvbiAoaWQsIG5ld1Bhc3N3b3JkLCBjaGVja1Bhc3N3b3JkKSB7XHJcblx0XHRpZiAobmV3UGFzc3dvcmQgIT0gY2hlY2tQYXNzd29yZCkge1xyXG5cdFx0XHQkc2NvcGUucGFzc3dvcmRzTWF0Y2ggPSB0cnVlXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0fVxyXG5cclxuXHRcdCRzY29wZS5wYXNzd29yZHNNYXRjaCA9IGZhbHNlXHJcblx0XHJcblx0XHRVc2VyU3ZjLnVwZGF0ZVBhc3N3b3JkKGlkLCBuZXdQYXNzd29yZClcclxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy91c2VyLWFjY291bnQnKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignVXNlckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXJTdmMsICRsb2NhdGlvbikge1xyXG5cclxuXHRVc2VyU3ZjLmdldEFsbENoaWxkcmVuKCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdCRzY29wZS5jaGlsZHJlbiA9IHJlcy5kYXRhXHJcblx0fSlcclxuXHJcblx0JHNjb3BlLnNldENoaWxkVG9VcGRhdGUgPSBmdW5jdGlvbihjaGlsZCkge1xyXG5cdFx0JHNjb3BlLmN1cnJlbnRVc2VyLmNoaWxkVG9VcGRhdGUgPSBjaGlsZFxyXG5cdH1cclxuXHJcblx0JHNjb3BlLnVwZGF0ZUNoaWxkID0gZnVuY3Rpb24oY2hpbGQpIHtcclxuXHRcdFVzZXJTdmMudXBkYXRlQ2hpbGQoY2hpbGQpXHJcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy91c2VyLWFjY291bnQnKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdCRzY29wZS5kZWxldGVDaGlsZCA9IGZ1bmN0aW9uKGNoaWxkKSB7XHJcblx0XHRVc2VyU3ZjLmRlbGV0ZUNoaWxkKGNoaWxkKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvdXNlci1hY2NvdW50JylcclxuXHRcdH0pXHJcblx0fVxyXG5cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLnNlcnZpY2UoJ1VzZXJTdmMnLCBmdW5jdGlvbiAoJGh0dHApIHtcclxuXHR2YXIgc3ZjID0gdGhpc1xyXG5cclxuXHRzdmMuZ2V0VXNlciA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMnKVxyXG5cdH1cclxuXHJcblx0c3ZjLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGVtYWlsLCBwYXNzd29yZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgc3RyZWV0QWRkcmVzcywgY2l0eSwgc3RhdGUsIHppcCwgcGhvbmUpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzJywge1xyXG5cdFx0XHRlbWFpbDogZW1haWwsXHJcblx0XHRcdHBhc3N3b3JkOiBwYXNzd29yZCxcclxuXHRcdFx0Zmlyc3ROYW1lOiBmaXJzdE5hbWUsXHJcblx0XHRcdGxhc3ROYW1lOiBsYXN0TmFtZSxcclxuXHRcdFx0c3RyZWV0QWRkcmVzczogc3RyZWV0QWRkcmVzcyxcclxuXHRcdFx0Y2l0eTogY2l0eSxcclxuXHRcdFx0c3RhdGU6IHN0YXRlLFxyXG5cdFx0XHR6aXA6IHppcCxcclxuXHRcdFx0cGhvbmU6IHBob25lXHJcblx0XHR9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIHN2Yy5sb2dpbihlbWFpbCwgcGFzc3dvcmQpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLmNoZWNrVG9rZW4gPSBmdW5jdGlvbigpIHtcclxuXHRcdCRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS50b2tlblxyXG5cdFx0cmV0dXJuIHN2Yy5nZXRVc2VyKClcclxuXHR9XHJcblxyXG5cdHN2Yy5sb2dpbiA9IGZ1bmN0aW9uIChlbWFpbCwgcGFzc3dvcmQpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Nlc3Npb25zJywge1xyXG5cdFx0XHRlbWFpbDogZW1haWwsIHBhc3N3b3JkOiBwYXNzd29yZFxyXG5cdFx0fSlcclxuXHRcdC50aGVuKGZ1bmN0aW9uICh2YWwpIHtcclxuXHRcdFx0d2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuID0gdmFsLmRhdGFcclxuXHRcdFx0JGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddID0gdmFsLmRhdGFcclxuXHRcdFx0cmV0dXJuIHN2Yy5nZXRVc2VyKClcclxuXHRcdH0sIGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRyZXR1cm4gZXJyXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0ZGVsZXRlICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXVxyXG5cdFx0c2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTtcclxuXHR9XHJcblxyXG5cdHN2Yy51cGRhdGUgPSBmdW5jdGlvbiAoaWQsIGVtYWlsLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBzdHJlZXRBZGRyZXNzLCBjaXR5LCBzdGF0ZSwgemlwLCBwaG9uZSkge1xyXG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS91c2Vycy91cGRhdGUnLCB7XHJcblx0XHRcdGlkOiBpZCxcclxuXHRcdFx0ZW1haWw6IGVtYWlsLFxyXG5cdFx0XHRmaXJzdE5hbWU6IGZpcnN0TmFtZSxcclxuXHRcdFx0bGFzdE5hbWU6IGxhc3ROYW1lLFxyXG5cdFx0XHRzdHJlZXRBZGRyZXNzOiBzdHJlZXRBZGRyZXNzLFxyXG5cdFx0XHRjaXR5OiBjaXR5LFxyXG5cdFx0XHRzdGF0ZTogc3RhdGUsXHJcblx0XHRcdHppcDogemlwLFxyXG5cdFx0XHRwaG9uZTogcGhvbmVcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlUGFzc3dvcmQgPSBmdW5jdGlvbiAoaWQsIG5ld1Bhc3N3b3JkKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL3VzZXJzL3VwZGF0ZVBhc3N3b3JkJywge1xyXG5cdFx0XHRpZDogaWQsXHJcblx0XHRcdHBhc3N3b3JkOiBuZXdQYXNzd29yZFxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy5yZXNldFBhc3N3b3JkID0gIGZ1bmN0aW9uIChlbWFpbCwgbmV3UGFzc3dvcmQpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvdXNlcnMvcmVzZXRQYXNzd29yZCcsIHtcclxuXHRcdFx0ZW1haWw6IGVtYWlsLFxyXG5cdFx0XHRuZXdQYXNzd29yZDogbmV3UGFzc3dvcmRcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlQ2hpbGQgPSBmdW5jdGlvbiAoY2hpbGQpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvdXNlcnMvdXBkYXRlQ2hpbGQnLCBjaGlsZClcclxuXHR9XHJcblxyXG5cdHN2Yy5kZWxldGVDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZCkge1xyXG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS91c2Vycy9kZWxldGVDaGlsZCcsIGNoaWxkKVxyXG5cdH1cclxuXHJcblx0c3ZjLmFkZENoaWxkID0gZnVuY3Rpb24gKGFkdWx0SWQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIGRvYiwgbm90ZXMpIHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzL2FkZENoaWxkJywge1xyXG5cdFx0XHRhZHVsdElkOiBhZHVsdElkLFxyXG5cdFx0XHRmaXJzdE5hbWU6IGZpcnN0TmFtZSxcclxuXHRcdFx0bGFzdE5hbWU6IGxhc3ROYW1lLFxyXG5cdFx0XHRkb2I6IGRvYixcclxuXHRcdFx0bm90ZXM6IG5vdGVzXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLmdldEFsbENoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy9nZXRBbGxDaGlsZHJlbicpXHJcblx0fVxyXG5cclxuXHRzdmMuZW1haWwgPSBmdW5jdGlvbiAoZW1haWwsIG5ld1Bhc3N3b3JkKSB7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2Vycy9zZW5kRW1haWwnLHtcclxuXHRcdFx0ZW1haWw6IGVtYWlsLFxyXG5cdFx0XHRuZXdQYXNzd29yZDogbmV3UGFzc3dvcmRcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHJcbn0pXHJcbiJdfQ==
